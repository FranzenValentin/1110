/*! For license information please see editorCommon.bundle.min.js.LICENSE.txt */
!function(){var t={73183:function(t,e,n){const r=document.querySelector('meta[name="public-path"]').content;n.p=r+"dist/"},39786:function(t,e,n){var r,i;!function(o,a){"use strict";void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var r=e[n]+"MatchesSelector";if(t[r])return r}}();return function(e,n){return e[t](n)}}))},32137:function(t,e,n){var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?r.call(e,n,e,t):r)||(t.exports=i)},977:function(t,e,n){var r,i;!function(o){r=[n(39786)],i=function(t){return function(t,e){"use strict";var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},r=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?r.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,r){t=n.makeArray(t);var i=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(r){e(t,r)&&i.push(t);for(var n=t.querySelectorAll(r),o=0;o<n.length;o++)i.push(n[o])}else i.push(t)})),i},n.debounceMethod=function(t,e,n){n=n||100;var r=t.prototype[e],i=e+"Timeout";t.prototype[e]=function(){var t=this[i];clearTimeout(t);var e=arguments,o=this;this[i]=setTimeout((function(){r.apply(o,e),delete o[i]}),n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()};var i=t.console;return n.htmlInit=function(e,r){n.docReady((function(){var o=n.toDashed(r),a="data-"+o,s=document.querySelectorAll("["+a+"]"),u=document.querySelectorAll(".js-"+o),c=n.makeArray(s).concat(n.makeArray(u)),l=a+"-options",f=t.jQuery;c.forEach((function(t){var n,o=t.getAttribute(a)||t.getAttribute(l);try{n=o&&JSON.parse(o)}catch(e){return void(i&&i.error("Error parsing "+a+" on "+t.className+": "+e))}var s=new e(t,n);f&&f.data(t,r,s)}))}))},n}(o,t)}.apply(e,r),void 0===i||(t.exports=i)}(window)},21485:function(t,e,n){var r,i;window,void 0===(i="function"==typeof(r=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=n.length;function i(t){var n=getComputedStyle(t);return n||e("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,a=!1;function s(e){if(function(){if(!a){a=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=i(e);o=200==Math.round(t(r.width)),s.isBoxSizeOuter=o,n.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var u=i(e);if("none"==u.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<r;e++)t[n[e]]=0;return t}();var c={};c.width=e.offsetWidth,c.height=e.offsetHeight;for(var l=c.isBorderBox="border-box"==u.boxSizing,f=0;f<r;f++){var p=n[f],d=u[p],h=parseFloat(d);c[p]=isNaN(h)?0:h}var v=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,m=c.marginLeft+c.marginRight,b=c.marginTop+c.marginBottom,y=c.borderLeftWidth+c.borderRightWidth,E=c.borderTopWidth+c.borderBottomWidth,x=l&&o,S=t(u.width);!1!==S&&(c.width=S+(x?0:v+y));var _=t(u.height);return!1!==_&&(c.height=_+(x?0:g+E)),c.innerWidth=c.width-(v+y),c.innerHeight=c.height-(g+E),c.outerWidth=c.width+m,c.outerHeight=c.height+b,c}}return s})?r.call(e,n,e,t):r)||(t.exports=i)},47943:function(t,e,n){!function(e,r){t.exports?t.exports=r(e,n(22228)):e.imagesLoaded=r(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(t,e){let n=t.jQuery,r=t.console;function i(t,e,o){if(!(this instanceof i))return new i(t,e,o);let a=t;var s;"string"==typeof t&&(a=document.querySelectorAll(t)),a?(this.elements=(s=a,Array.isArray(s)?s:"object"==typeof s&&"number"==typeof s.length?[...s]:[s]),this.options={},"function"==typeof e?o=e:Object.assign(this.options,e),o&&this.on("always",o),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error(`Bad element for imagesLoaded ${a||t}`)}i.prototype=Object.create(e.prototype),i.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11];i.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);let{nodeType:e}=t;if(!e||!o.includes(e))return;let n=t.querySelectorAll("img");for(let t of n)this.addImage(t);if("string"==typeof this.options.background){let e=t.querySelectorAll(this.options.background);for(let t of e)this.addElementBackgroundImages(t)}};const a=/url\((['"])?(.*?)\1\)/gi;function s(t){this.img=t}function u(t,e){this.url=t,this.element=e,this.img=new Image}return i.prototype.addElementBackgroundImages=function(t){let e=getComputedStyle(t);if(!e)return;let n=a.exec(e.backgroundImage);for(;null!==n;){let r=n&&n[2];r&&this.addBackground(r,t),n=a.exec(e.backgroundImage)}},i.prototype.addImage=function(t){let e=new s(t);this.images.push(e)},i.prototype.addBackground=function(t,e){let n=new u(t,e);this.images.push(n)},i.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let t=(t,e,n)=>{setTimeout((()=>{this.progress(t,e,n)}))};this.images.forEach((function(e){e.once("progress",t),e.check()}))},i.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log(`progress: ${n}`,t,e)},i.prototype.complete=function(){let t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s.prototype=Object.create(e.prototype),s.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},s.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},s.prototype.confirm=function(t,e){this.isLoaded=t;let{parentNode:n}=this.img,r="PICTURE"===n.nodeName?n:this.img;this.emitEvent("progress",[this,r,e])},s.prototype.handleEvent=function(t){let e="on"+t.type;this[e]&&this[e](t)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype=Object.create(s.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},i.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(n=e,n.fn.imagesLoaded=function(t,e){return new i(this,t,e).jqDeferred.promise(n(this))})},i.makeJQueryPlugin(),i}))},22228:function(t){var e,n;e="undefined"!=typeof window?window:this,n=function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let n=this._events=this._events||{},r=n[t]=n[t]||[];return r.includes(e)||r.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this},e.off=function(t,e){let n=this._events&&this._events[t];if(!n||!n.length)return this;let r=n.indexOf(e);return-1!=r&&n.splice(r,1),this},e.emitEvent=function(t,e){let n=this._events&&this._events[t];if(!n||!n.length)return this;n=n.slice(0),e=e||[];let r=this._onceEvents&&this._onceEvents[t];for(let i of n)r&&r[i]&&(this.off(t,i),delete r[i]),i.apply(this,e);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t},t.exports?t.exports=n():e.EvEmitter=n()},16994:function(t,e,n){var r,i,o;window,i=[n(82831),n(21485)],void 0===(o="function"==typeof(r=function(t,e){"use strict";var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var r=n.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/r,a=r-i%r;o=Math[a&&a<1?"round":"floor"](o),this.cols=Math.max(o,1)},r.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},r._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),i={x:this.columnWidth*r.col,y:r.y},o=r.y+t.size.outerHeight,a=n+r.col,s=r.col;s<a;s++)this.colYs[s]=o;return i},r._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},r._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,r=0;r<n;r++)e[r]=this._getColGroupY(r,t);return e},r._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},r._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var r=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=r?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},r._manageStamp=function(t){var n=e(t),r=this._getElementOffset(t),i=this._getOption("originLeft")?r.left:r.right,o=i+n.outerWidth,a=Math.floor(i/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var u=(this._getOption("originTop")?r.top:r.bottom)+n.outerHeight,c=a;c<=s;c++)this.colYs[c]=Math.max(u,this.colYs[c])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},r._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n})?r.apply(e,i):r)||(t.exports=o)},78310:function(t){t.exports=function(){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function i(t,e){return function(n){n&&(t[e]=n)}}function o(t,e,n){return function(r){r&&(t[e][n]=r)}}function a(t,e){return function(n){var r=n.prototype;t.forEach((function(t){e(r,t)}))}}var s="function",u="object",c="string",l="number",f="undefined",p=typeof window!==f,d=typeof document!==f&&document,h=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],v=1e-7,g={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function m(t,e,n,r){return(t*r+e*n)/(n+r)}function b(t){return typeof t===f}function y(t){return t&&typeof t===u}function E(t){return Array.isArray(t)}function x(t){return typeof t===c}function S(t){return typeof t===l}function _(t){return typeof t===s}function C(t,e,n,r,i){return w(t,e,n)?n:function(t,e,n,r,i){for(var o,a=function(n){var a=e[n].trim();if(a===t.close&&!w(t,e,n))return{value:n};var s=n,u=z(i,(function(t){return t.open===a}));if(u&&(s=C(u,e,n,r,i)),-1===s)return o=n,"break";o=n=s},s=n;s<r;++s){var u=a(s);if(s=o,"object"==typeof u)return u.value;if("break"===u)break}return-1}(t,e,n+1,r,i)}function w(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function D(t,e){var n=x(e)?{separator:e}:e,r=n.separator,i=void 0===r?",":r,o=n.isSeparateFirst,a=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,u=void 0===s?a:s,c=n.openCloseCharacters,l=void 0===c?h:c,f=l.map((function(t){var e=t.open,n=t.close;return e===n?e:e+"|"+n})).join("|"),p=new RegExp("(\\s*"+i+"\\s*|"+f+"|\\s+)","g"),d=t.split(p).filter((function(t){return t&&"undefined"!==t})),v=d.length,g=[],m=[];function b(){return!!m.length&&(g.push(m.join("")),m=[],!0)}for(var y,E=function(e){var n=d[e].trim(),r=e,s=z(l,(function(t){return t.open===n})),c=z(l,(function(t){return t.close===n}));if(s){if(-1!==(r=C(s,d,e,v,l))&&u)return b()&&o?(y=e,"break"):(g.push(d.slice(e,r+1).join("")),e=r,o?(y=e,"break"):(y=e,"continue"))}else{if(c&&!w(c,d,e)){var f=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(l);return f.splice(l.indexOf(c),1),{value:D(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:a,isSeparateOpenClose:u,openCloseCharacters:f})}}if(function(t,e){return(""===e||" "==e)&&(""===t||" "==t)||t===e}(n,i)&&!a)return b(),o?(y=e,"break"):(y=e,"continue")}-1===r&&(r=v-1),m.push(d.slice(e,r+1).join("")),y=e=r},S=0;S<v;++S){var _=E(S);if(S=y,"object"==typeof _)return _.value;if("break"===_)break}return m.length&&g.push(m.join("")),g}function M(t){return D(t,"")}function O(t){return D(t,",")}function T(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function P(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function R(t,e){return void 0===e&&(e="-"),t.replace(/([a-z])([A-Z])/g,(function(t,n,r){return""+n+e+r.toLowerCase()}))}function k(){return Date.now?Date.now():(new Date).getTime()}function I(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function z(t,e,n){var r=I(t,e);return r>-1?t[r]:n}var B=function(){var t=k(),e=p&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(e){var n=k();return setTimeout((function(){e(n-t)}),1e3/60)}}(),F=function(){var t=p&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(t){clearTimeout(t)}}();function A(t){return Object.keys(t)}function G(t,e){var n=P(t),r=n.value,i=n.unit;if(y(e)){var o=e[i];if(o){if(_(o))return o(r);if(g[i])return g[i](r,o)}}else if("%"===i)return r*e/100;return g[i]?g[i](r):r}function W(t,e,n){return Math.max(e,Math.min(t,n))}function N(t,e,n,r){return void 0===r&&(r=t[0]/t[1]),[[H(e[0],v),H(e[0]/r,v)],[H(e[1]*r,v),H(e[1],v)]].filter((function(t){return t.every((function(t,r){var i=e[r],o=H(i,v);return n?t<=i||t<=o:t>=i||t>=o}))}))[0]||t}function Y(t,e,n,r){if(!r)return t.map((function(t,r){return W(t,e[r],n[r])}));var i=t[0],o=t[1],a=!0===r?i/o:r,s=N(t,e,!1,a),u=s[0],c=s[1],l=N(t,n,!0,a),f=l[0],p=l[1];return i<u||o<c?(i=u,o=c):(i>f||o>p)&&(i=f,o=p),[i,o]}function j(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function X(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+2*Math.PI}function L(t){var e=function(t){return[0,1].map((function(e){return j(t.map((function(t){return t[e]})))}))}(t),n=X(e,t[0]),r=X(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function q(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function H(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function V(t,e){return t.forEach((function(n,r){t[r]=H(t[r],e)})),t}function K(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function U(t,e){-1===t.indexOf(e)&&t.push(e)}function $(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Z(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Q(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function J(t,e,n,r){t.addEventListener(e,n,r)}function tt(t,e,n,r){t.removeEventListener(e,n,r)}function et(t){return(null==t?void 0:t.ownerDocument)||d}function nt(t){return et(t).documentElement}function rt(t){return et(t).body}function it(t){var e;return(null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView)||window}function ot(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function at(t){return y(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var st=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),o=-1===i?n.length:i;n[o]=t,r[o]=e},t}(),ut=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),ct="function"==typeof Map,lt=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}(),ft=function(){function t(t,e,n,r,i,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],r=[];return t.forEach((function(t){var e=t[0],i=t[1],o=new lt;n[e]=o,r[i]=o})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var i=t[0],o=t[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],u=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[u,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,r){var i=t[0],o=t[1],a=e[r],s=a[0],u=a[1];if(i!==o)return n.push([s,u]),!0})),this.cachePureChanged=n},t}();function pt(t,e,n){var r=ct?Map:n?ut:st,i=n||function(t){return t},o=[],a=[],s=[],u=t.map(i),c=e.map(i),l=new r,f=new r,p=[],d=[],h={},v=[],g=0,m=0;return u.forEach((function(t,e){l.set(t,e)})),c.forEach((function(t,e){f.set(t,e)})),u.forEach((function(t,e){var n=f.get(t);void 0===n?(++m,a.push(e)):h[n]=m})),c.forEach((function(t,e){var n=l.get(t);void 0===n?(o.push(e),++g):(s.push([n,e]),m=h[e]||0,p.push([n-m,e-g]),d.push(e===n),n!==e&&v.push([n,e]))})),a.reverse(),new ft(t,e,o,a,v,s,p,d)}var dt=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=pt(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),ht=function(t,e){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ht(t,e)};function vt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var gt=function(){return gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gt.apply(this,arguments)};function mt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function bt(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function yt(t){var e=0;return t.map((function(t){return null==t?"$compat".concat(++e):"".concat(t)}))}function Et(t){var e=[];return t.forEach((function(t){e=e.concat(E(t)?Et(t):t)})),e}function xt(t,e){if(!e)return t;for(var n in e)b(t[n])&&(t[n]=e[n]);return t}function St(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function _t(t){var e=t.className,n=mt(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function Ct(t){var e={},n={};for(var r in t)0===r.indexOf("on")?n[r]=t[r]:e[r]=t[r];return[e,n]}function wt(t){if(!t)return null;var e=t.b;return at(e)?e:wt(t.c)}function Dt(t){var e=t.parentNode;e&&e.removeChild(t)}function Mt(t){t.forEach((function(t){t()}))}function Ot(){return this.constructor(this.props,this.context)}var Tt=0,Pt=function(){function t(t,e,n,r,i,o,a){void 0===a&&(a={}),this.t=t,this.d=e,this.k=n,this.i=r,this.c=i,this.ref=o,this.ps=a,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var e=t.prototype;return e.s=function(){return!0},e.u=function(t,e,n,r,i){var o,a=this,s=a.d,u=Et((o=e,A(o).map((function(t){return o[t]}))).filter((function(t){return t.$_req})).map((function(t){return t.$_subs}))),c=z(u,(function(t){return t.d===s}));if(a.b&&!x(n)&&!i&&!a.s(n.props,r)&&!c)return u.reduce((function(t,e){var n=e.d;return t[0]?t[0].d===n&&t.push(e):n>s&&t.push(e),t}),[]).forEach((function(n){qt(n,n._ps,[n.o],t,e,!0)})),!1;a.o=n,a.ss(r);var l=a.ps;return x(n)||(a.ps=n.props,a.ref=n.ref),kt(this),a.r(t,e,a.b?l:{},r),!0},e.md=function(){this.rr()},e.ss=function(){},e.ud=function(){this.rr()},e.rr=function(){var t=this,e=t.ref,n=t.fr;e&&e(n?n.current:t.b)},t}();function Rt(){return Object.__CROACT_CURRENT_INSTNACE__}function kt(t){return Object.__CROACT_CURRENT_INSTNACE__=t,Tt=0,t}var It=function(){function t(t,e){void 0===t&&(t={}),this.props=t,this.context=e,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var e=t.prototype;return e.render=function(){return null},e.shouldComponentUpdate=function(t,e){return this.props!==t||this.state!==e},e.setState=function(t,e,n){var r=this;r.$_timer||(r.$_state={}),clearTimeout(r.$_timer),r.$_timer=0,r.$_state=gt(gt({},r.$_state),t),n?r.$_setState(e,n):r.$_timer=window.setTimeout((function(){r.$_timer=0,r.$_setState(e,n)}))},e.forceUpdate=function(t){this.setState({},t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},e.$_setState=function(t,e){var n=[],r=this.$_p;qt(r.c,[r],[r.o],n,r._cs,gt(gt({},this.state),this.$_state),e)&&(t&&n.push(t),Mt(n),kt(null))},t}(),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.shouldComponentUpdate=function(t,e){return St(this.props,t)||St(this.state,e)},e}(It);function Bt(t){var e=function(t){e.current=t};return e.current=t,e}var Ft=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s={});var u=t.call(this,e,n,r,i,o,a,xt(s,e.defaultProps))||this;return u.typ="comp",u._usefs=[],u._uefs=[],u._defs=[],u}vt(e,t);var n=e.prototype;return n.s=function(t,e){var n=this.b;return!1!==n.shouldComponentUpdate(xt(t,this.t.defaultProps),e||n.state)},n.r=function(t,e,n){var r,i,o=this,a=o.t;o.ps=xt(o.ps,o.t.defaultProps);var s=o.ps,u=!o.b,c=a.contextType,l=o.b,f=null==c?void 0:c.get(o);o._cs=e,u?(l=function(t,e,n,r){var i,o;return(null===(i=null==t?void 0:t.prototype)||void 0===i?void 0:i.render)?o=new t(e,n):((o=new It(e,n)).constructor=t,t._fr?(r.fr=Bt(),o.render=function(){return this.constructor(this.props,r.fr)}):o.render=Ot),o.$_p=r,o}(a,s,f,o),o.b=l):(l.props=s,l.context=f);var p=l.state;o._usefs=[],o._uefs=[];var d=l.render();0===(null===(i=null===(r=null==d?void 0:d.props)||void 0===r?void 0:r.children)||void 0===i?void 0:i.length)&&(d.props.children=o.ps.children);var h=gt(gt({},e),l.$_cs);qt(o,o._ps,d?[d]:[],t,h),u?o._uefs.push((function(){null==c||c.register(o),l.componentDidMount()})):o._uefs.push((function(){l.componentDidUpdate(n,p)})),t.push((function(){o._usefs.forEach((function(t){t()})),u?o.md():o.ud(),o._defs=o._uefs.map((function(t){return t()}))}))},n.ss=function(t){var e=this.b;e&&t&&(e.state=t)},n.un=function(){var t,e=this;e._ps.forEach((function(t){t.un()})),null===(t=e.t.contextType)||void 0===t||t.unregister(e),clearTimeout(e.b.$_timer),e._defs.forEach((function(t){t&&t()})),e.b.componentWillUnmount()},e}(Pt);function At(t,e){var n=A(t),r=A(e),i=pt(n,r,(function(t){return t})),o={},a={},s={};return i.added.forEach((function(t){var n=r[t];o[n]=e[n]})),i.removed.forEach((function(e){var r=n[e];a[r]=t[r]})),i.maintained.forEach((function(r){var i=r[0],o=n[i],a=[t[o],e[o]];t[o]!==e[o]&&(s[o]=a)})),{added:o,removed:a,changed:s}}var Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.typ="elem",e._es={},e._svg=!1,e}vt(e,t);var n=e.prototype;return n.e=function(t,e){var n=this,r=n._es,i=n.b,o=function(t){return t.replace(/^on/g,"").toLowerCase()}(t);e?(tt(i,o,r[t]),delete r[t]):(r[t]=function(e){var r,i;null===(i=(r=n.ps)[t])||void 0===i||i.call(r,e)},J(i,o,r[t]))},n.s=function(t){return St(this.ps,t)},n.r=function(t,e,n){var r,i=this,o=!i.b,a=i.ps;if(o){var s,u=wt(i.c);s=!(!i._svg&&"svg"!==i.t)||u&&u.ownerSVGElement,i._svg=s;var c=null===(r=i._hyd)||void 0===r?void 0:r.splice(0,1)[0],l=i.t;if(c)i._hyd=[].slice.call(c.children||[]);else{var f=et(u);c=s?f.createElementNS("http://www.w3.org/2000/svg",l):f.createElement(l)}i.b=c}qt(i,i._ps,a.children,t,e);var p=i.b,d=Ct(n),h=d[0],v=d[1],g=Ct(a),m=g[0],b=g[1];return function(t,e,n){var r=At(_t(t),_t(e)),i=r.added,o=r.removed,a=r.changed;for(var s in i)n.setAttribute(s,i[s]);for(var u in a)n.setAttribute(u,a[u][1]);for(var c in o)n.removeAttribute(c)}(h,m,p),function(t,e,n){var r=At(t,e),i=r.added,o=r.removed;for(var a in o)n.e(a,!0);for(var s in i)n.e(s)}(v,b,i),function(t,e,n){var r=n.style,i=At(t,e),o=i.added,a=i.removed,s=i.changed;for(var u in o){var c=R(u,"-");r.setProperty(c,o[u])}for(var u in s){var l=R(u,"-");r.setProperty(l,s[u][1])}for(var u in a){var f=R(u,"-");r.removeProperty(f)}}(n.style||{},a.style||{},p),t.push((function(){o?i.md():i.ud()})),!0},n.un=function(){var t=this,e=t._es,n=t.b;for(var r in e)tt(n,r,e[r]);t._ps.forEach((function(t){t.un()})),t._es={},t._sel||Dt(n)},e}(Pt);function Wt(t){if(!t||at(t))return t;var e=t.$_p._ps;return e.length?Wt(e[0].b):null}function Nt(t){if(t){if(t.b&&at(t.b))return t;var e=t._ps;return e.length?Nt(e[0]):null}}function Yt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e||{},o=i.key,a=i.ref,s=mt(i,["key","ref"]);return{type:t,key:o,ref:a,props:gt(gt({},s),{children:K(n).filter((function(t){return null!=t&&!1!==t}))})}}var jt=function(t){function e(e,n){void 0===n&&(n=0);var r=t.call(this,"container",n,"container",0,null)||this;return r.typ="container",r.b=e,r}vt(e,t);var n=e.prototype;return n.r=function(){return!0},n.un=function(){},e}(Pt),Xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.typ="text",e}vt(e,t);var n=e.prototype;return n.r=function(t){var e,n=this,r=!n.b;if(r){var i=wt(n.c),o=null===(e=n._hyd)||void 0===e?void 0:e.splice(0,1)[0];n.b=o||et(i).createTextNode(n.t.replace("text_",""))}return t.push((function(){r?n.md():n.ud()})),!0},n.un=function(){Dt(this.b)},e}(Pt);function Lt(t,e,n,r){var i=r.d+1;if(x(t)||S(t))return new Xt("text_".concat(t),i,e,n,r,null,{});var o=t.type;return new("string"==typeof o?Gt:Ft)(o,i,e,n,r,t.ref,t.props)}function qt(t,e,n,r,i,o,a){var s=function(t,e,n){var r=n.map((function(t){return x(t)?null:t.key})),i=pt(yt(e.map((function(t){return t.k}))),yt(r),(function(t){return t}));i.removed.forEach((function(t){e.splice(t,1)[0].un()})),i.ordered.forEach((function(t){var n=t[0],r=t[1],i=e.splice(n,1)[0];e.splice(r,0,i);var o=Wt(i.b),a=Wt(e[r+1]&&e[r+1].b);o&&o.parentNode.insertBefore(o,a)})),i.added.forEach((function(i){e.splice(i,0,Lt(n[i],r[i],i,t))}));var o=i.maintained.filter((function(i){i[0];var o=i[1],a=n[o],s=e[o];return(x(a)?"text_".concat(a):a.type)!==s.t?(s.un(),e.splice(o,1,Lt(a,r[o],o,t)),!0):(s.i=o,!1)}));return bt(bt([],i.added,!0),o.map((function(t){return t[0],t[1]})),!0)}(t,e,n),u=t._hyd,c=e.filter((function(t,e){return t._hyd=u,t.u(r,i,n[e],o,a)}));"container"===t.typ&&t._sel&&e.forEach((function(t){var e=Nt(t);e&&(e._sel=!0)})),t._hyd=null;var l=wt(t);return l&&s.reverse().forEach((function(n){var r=e[n],i=Wt(r.b);if(i&&l!==i&&!i.parentNode){var o=function(t,e){for(var n=t._ps,r=n.length,i=e.i+1;i<r;++i){var o=Wt(n[i].b);if(o)return o}return null}(t,r);l.insertBefore(i,o)}})),c.length>0}function Ht(t,e,n){return!n&&t&&((n=new jt(e.parentElement))._hyd=[e],n._sel=!0),function(t,e,n,r){void 0===n&&(n=e.__CROACT__),void 0===r&&(r={});var i=!!n;n||(n=new jt(e));var o=[];qt(n,n._ps,t?[t]:[],o,r,void 0,void 0),Mt(o),kt(null),i||(e.__CROACT__=n)}(t,e,n),n}function Vt(t){var e=Rt(),n=e._hs||(e._hs=[]),r=Tt,i=n[r];if(Tt=r+1,i){if(!St(i.deps,t.deps))return i.updated=!1,i;n[r]=t}else n.push(t);return t.value=t.func(),t.updated=!0,t}function Kt(t,e,n){var r=Rt(),i=Vt({func:function(){return t},deps:e}),o=n?r._usefs:r._uefs;i.updated?o.push((function(){return i.effect&&i.effect(),i.effect=t(),i.effect})):o.push((function(){return i.effect}))}function Ut(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function $t(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function Zt(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Qt(t,e){try{return new RegExp(t,"g").exec(e)}catch(t){return null}}function Jt(t){return t.replace(/_/g,".")}function te(t,e){var n=null,r="-1";return Ut(t,(function(t){var i=Qt("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!i||t.brand||(n=t,r=i[3]||"-1",t.versionAlias?r=t.versionAlias:t.versionTest&&(r=function(t,e){var n=Qt("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return n?n[3]:""}(t.versionTest.toLowerCase(),e)||r),r=Jt(r),0))})),{preset:n,version:r}}function ee(t,e){var n={brand:"",version:"-1"};return Ut(t,(function(t){var r=ne(e,t);return!!r&&(n.brand=t.id,n.version=t.versionAlias||r.version,"-1"!==n.version)})),n}function ne(t,e){return $t(t,(function(t){var n=t.brand;return Qt(""+e.test,n.toLowerCase())}))}var re=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],ie=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],oe=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ae=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],se=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function ue(t){return!!te(ae,t).preset}function ce(t,e,n,r,i,o){for(var a=0;a<i;++a){var s=n+a*i,u=r+a*i;t[s]+=t[u]*o,e[s]+=e[u]*o}}function le(t,e,n,r,i){for(var o=0;o<i;++o){var a=n+o*i,s=r+o*i,u=t[a],c=e[a];t[a]=t[s],t[s]=u,e[a]=e[s],e[s]=c}}function fe(t,e,n,r,i){for(var o=0;o<r;++o){var a=n+o*r;t[a]/=i,e[a]/=i}}function pe(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function de(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Re(e),i=0;i<e;++i){var o=e*i+i;if(!H(n[o],v))for(var a=i+1;a<e;++a)if(n[e*i+a]){le(n,r,i,a,e);break}if(!H(n[o],v))return[];for(fe(n,r,i,e,n[o]),a=0;a<e;++a){var s=a,u=n[a+i*e];H(u,v)&&i!==a&&ce(n,r,s,i,e,-u)}}return r}function he(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],i=0;i<e-1;++i)n[i]=t[e*(e-1)+i]/r;return n[e-1]=0,n}function ve(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function ge(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Re(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function me(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Re(t);return e.forEach((function(e){r=be(r,e,t)})),r}function be(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s){r[s*n+a]=0;for(var u=0;u<i;++u)r[s*n+a]+=t[u*n+a]*e[s*i+u]}return r}function ye(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function Ee(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function xe(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Se(t,e,n){void 0===n&&(n=e.length);var r=be(t,e,n),i=r[n-1];return r.map((function(t){return t/i}))}function _e(t,e){return be(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function Ce(t,e){return be(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function we(t,e){return be(t,Pe(e,4))}function De(t,e){var n=e[0],r=void 0===n?1:n,i=e[1],o=void 0===i?1:i,a=e[2];return be(t,[r,0,0,0,0,o,0,0,0,0,void 0===a?1:a,0,0,0,0,1],4)}function Me(t,e){return Se(Pe(e,3),ve(t,3))}function Oe(t,e){var n=e[0],r=void 0===n?0:n,i=e[1],o=void 0===i?0:i,a=e[2];return be(t,[1,0,0,0,0,1,0,0,0,0,1,0,r,o,void 0===a?0:a,1],4)}function Te(t,e){return be(t,e,4)}function Pe(t,e){var n=Math.cos(t),r=Math.sin(t),i=Re(e);return i[0]=n,i[1]=r,i[e]=-r,i[e+1]=n,i}function Re(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function ke(t,e){for(var n=Re(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function Ie(t,e){for(var n=Re(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(e-1)+i]=t[i];return n}function ze(t,e,n,r,i,o,a,s){var u=t[0],c=t[1],l=e[0],f=e[1],p=n[0],d=n[1],h=r[0],v=r[1],g=i[0],m=i[1],b=o[0],y=o[1],E=a[0],x=a[1],S=s[0],_=s[1],C=de([u,0,l,0,p,0,h,0,c,0,f,0,d,0,v,0,1,0,1,0,1,0,1,0,0,u,0,l,0,p,0,h,0,c,0,f,0,d,0,v,0,1,0,1,0,1,0,1,-g*u,-m*u,-b*l,-y*l,-E*p,-x*p,-S*h,-_*h,-g*c,-m*c,-b*f,-y*f,-E*d,-x*d,-S*v,-_*v],8);if(!C.length)return[];var w=be(C,[g,m,b,y,E,x,S,_],8);return w[8]=1,ge(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}(w),3,4)}var Be=function(){return Be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Be.apply(this,arguments)};function Fe(t,e){return void 0===e&&(e=0),Ae(Ge(t,e))}function Ae(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var n=t.matrixFunction,r=t.functionValue;n&&(e=n(e,r))})),e}function Ge(t,e){return void 0===e&&(e=0),(E(t)?t:M(t)).map((function(t){var n=T(t),r=n.prefix,i=n.value,o=null,a=r,s="";if("translate"===r||"translateX"===r||"translate3d"===r){var u=y(e)?Be(Be({},e),{"o%":e["%"]}):{"%":e,"o%":e},c=O(i).map((function(t,n){return u["%"]=0===n&&"x%"in u?e["x%"]:1===n&&"y%"in u?e["y%"]:e["o%"],G(t,u)})),l=c[0],f=c[1],p=void 0===f?0:f,d=c[2];o=Oe,s=[l,p,void 0===d?0:d]}else if("translateY"===r)o=Oe,s=[0,p=G(i,y(e)?Be({"%":e["y%"]},e):{"%":e}),0];else if("translateZ"===r)o=Oe,s=[0,0,parseFloat(i)];else if("scale"===r||"scale3d"===r){var h=O(i).map((function(t){return parseFloat(t)})),v=h[0],g=h[1],m=void 0===g?v:g,b=h[2];o=De,s=[v,m,void 0===b?1:b]}else if("scaleX"===r)o=De,s=[v=parseFloat(i),1,1];else if("scaleY"===r)o=De,s=[1,m=parseFloat(i),1];else if("scaleZ"===r)o=De,s=[1,1,parseFloat(i)];else if("rotate"===r||"rotateZ"===r||"rotateX"===r||"rotateY"===r){var E=P(i),x=E.unit,S=E.value;"rotate"===r||"rotateZ"===r?(a="rotateZ",o=we):"rotateX"===r?o=_e:"rotateY"===r&&(o=Ce),s="rad"===x?S:S*Math.PI/180}else if("matrix3d"===r)o=Te,s=O(i).map((function(t){return parseFloat(t)}));else if("matrix"===r){var _=O(i).map((function(t){return parseFloat(t)}));o=Te,s=[_[0],_[1],0,0,_[2],_[3],0,0,0,0,1,0,_[4],_[5],0,1]}else a="";return{name:r,functionName:a,value:i,matrixFunction:o,functionValue:s}}))}var We,Ne=function(t,e){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ne(t,e)},Ye="function"==typeof Map?void 0:(We=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++We)}),je=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,Ye)||this}return function(t,e){function n(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(dt),Xe=function(){return Xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xe.apply(this,arguments)},Le=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(y(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(y(t))for(var n in t)this.off(n);else if(e){var r=this._events[t];if(r){var i=I(r,(function(t){return t.listener===e}));i>-1&&r.splice(i,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var r=this._events[t];if(!t||!r)return!0;var i=!1;return e.eventType=t,e.stop=function(){i=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(r).forEach((function(r){r.listener(e),r.once&&n.off(t,r.listener)})),!i},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var r=this._events;r[t]=r[t]||[],r[t].push(Xe({listener:e},n))},t}(),qe=Le,He=function(t,e){return He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},He(t,e)},Ve=function(){return Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ve.apply(this,arguments)};function Ke(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function Ue(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function $e(t){return t?x(t)?document.querySelector(t):_(t)?t():t instanceof Element?t:"current"in t?t.current:"value"in t?t.value:void 0:null}var Ze=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startRect=null,e._startPos=[],e._prevTime=0,e._timer=0,e._prevScrollPos=[0,0],e._isWait=!1,e._flag=!1,e._currentOptions=null,e._lock=!1,e._unregister=null,e._onScroll=function(){var t=e._currentOptions;!e._lock&&t&&e.emit("scrollDrag",{next:function(n){e.checkScroll({container:t.container,inputEvent:n})}})},e}!function(t,e){function n(){this.constructor=t}He(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=$e(e.container);if(n){var r=0,i=0,o=0,a=0;if(n===document.body)o=window.innerWidth,a=window.innerHeight;else{var s=n.getBoundingClientRect();r=s.top,i=s.left,o=s.width,a=s.height}this._flag=!0,this._startPos=[t.clientX,t.clientY],this._startRect={top:r,left:i,width:o,height:a},this._prevScrollPos=this._getScrollPosition([0,0],e),this._currentOptions=e,this._registerScrollEvent(e)}else this._flag=!1},n.drag=function(t,e){if(clearTimeout(this._timer),this._flag){var n=t.clientX,r=t.clientY,i=e.threshold,o=void 0===i?0:i,a=this._startRect,s=this._startPos;this._currentOptions=e;var u=[0,0];return a.top>r-o?(s[1]>a.top||r<s[1])&&(u[1]=-1):a.top+a.height<r+o&&(s[1]<a.top+a.height||r>s[1])&&(u[1]=1),a.left>n-o?(s[0]>a.left||n<s[0])&&(u[0]=-1):a.left+a.width<n+o&&(s[0]<a.left+a.width||n>s[0])&&(u[0]=1),!(!u[0]&&!u[1])&&this._continueDrag(Ve(Ve({},e),{direction:u,inputEvent:t,isDrag:!0}))}},n.checkScroll=function(t){var e=this;if(this._isWait)return!1;var n=t.prevScrollPos,r=void 0===n?this._prevScrollPos:n,i=t.direction,o=t.throttleTime,a=void 0===o?0:o,s=t.inputEvent,u=t.isDrag,c=this._getScrollPosition(i||[0,0],t),l=c[0]-r[0],f=c[1]-r[1],p=i||[l?Math.abs(l)/l:0,f?Math.abs(f)/f:0];return this._prevScrollPos=c,this._lock=!1,!(!l&&!f||(this.emit("move",{offsetX:p[0]?l:0,offsetY:p[1]?f:0,inputEvent:s}),a&&u&&(clearTimeout(this._timer),this._timer=window.setTimeout((function(){e._continueDrag(t)}),a)),0))},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(t,e){var n=e.container,r=e.getScrollPosition;return(void 0===r?Ke:r)({container:$e(n),direction:t})},n._continueDrag=function(t){var e,n=this,r=t.container,i=t.direction,o=t.throttleTime,a=t.useScroll,s=t.isDrag,u=t.inputEvent;if(!(!this._flag||s&&this._isWait)){var c=k(),l=Math.max(o+this._prevTime-c,0);if(l>0)return clearTimeout(this._timer),this._timer=window.setTimeout((function(){n._continueDrag(t)}),l),!1;this._prevTime=c;var f=this._getScrollPosition(i,t);this._prevScrollPos=f,s&&(this._isWait=!0),a||(this._lock=!0);var p={container:$e(r),direction:i,inputEvent:u};return null===(e=t.requestScroll)||void 0===e||e.call(t,p),this.emit("scroll",p),this._isWait=!1,a||this.checkScroll(Ve(Ve({},t),{prevScrollPos:f,direction:i,inputEvent:u}))}},n._registerScrollEvent=function(t){this._unregisterScrollEvent();var e=t.checkScrollEvent;if(e){var n=!0===e?Ue:e,r=$e(t.container);!0!==e||r!==document.body&&r!==document.documentElement?this._unregister=n(r,this._onScroll):this._unregister=Ue(window,this._onScroll)}},n._unregisterScrollEvent=function(){var t;null===(t=this._unregister)||void 0===t||t.call(this),this._unregister=null},e}(qe),Qe=Ze;function Je(t){return H(t,v)}function tn(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;n>=0;--n)e+=t[n];return e}(t.map((function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]}))))/2}function en(t,e){var n=e.width,r=e.height,i=e.left,o=e.top,a=nn(t),s=a.minX,u=a.minY,c=a.maxX,l=a.maxY,f=n/(c-s),p=r/(l-u);return t.map((function(t){return[i+(t[0]-s)*f,o+(t[1]-u)*p]}))}function nn(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function rn(t,e,n){var r=t[0],i=t[1],o=nn(e),a=o.minX,s=o.maxX,u=[[a,i],[s,i]],c=on(u[0],u[1]),l=un(e),f=[];if(l.forEach((function(e){var n,r=on(e[0],e[1]),o=e[0];n=r,c.every((function(t,e){return 0===Je(t-n[e])}))?f.push({pos:t,line:e,type:"line"}):sn(an(c,r),[u,e]).forEach((function(t){e.some((function(e){return r=t,!Je((n=e)[0]-r[0])&&!Je(n[1]-r[1]);var n,r}))?f.push({pos:t,line:e,type:"point"}):0!==Je(o[1]-i)&&f.push({pos:t,line:e,type:"intersection"})}))})),!n&&z(f,(function(t){return t[0]===r})))return!0;var p=0,d={};return f.forEach((function(t){var e=t.pos,n=t.type,o=t.line;if(!(e[0]>r))if("intersection"===n)++p;else{if("line"===n)return;if("point"===n){var a=z(o,(function(t){return t[1]!==i})),s=d[e[0]],u=a[1]>i?1:-1;s?s!==u&&++p:d[e[0]]=u}}})),p%2==1}function on(t,e){var n=t[0],r=t[1],i=e[0]-n,o=e[1]-r;Math.abs(i)<v&&(i=0),Math.abs(o)<v&&(o=0);var a=0,s=0,u=0;return i?o?(s=1,u=-(a=-o/i)*n-r):(s=1,u=-r):o&&(a=-1,u=n),[a,s,u]}function an(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=0===n&&0===o,c=0===r&&0===a,l=[];if(u&&c)return[];if(u){var f=-i/r;return f!==-s/a?[]:[[-1/0,f],[1/0,f]]}if(c){var p=-i/n;return p!==-s/o?[]:[[p,-1/0],[p,1/0]]}if(0===n)l=[[d=-(a*(h=-i/r)+s)/o,h]];else if(0===o)l=[[d=-(r*(h=-s/a)+i)/n,h]];else if(0===r)l=[[d=-i/n,h=-(o*d+s)/a]];else if(0===a)l=[[d=-s/o,h=-(n*d+i)/r]];else{var d,h;l=[[d=(r*s-a*i)/(a*n-r*o),h=-(n*d+i)/r]]}return l.map((function(t){return[t[0],t[1]]}))}function sn(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))})),r=[];if(2===t.length){var i=t[0],o=i[0],a=i[1];if(Je(o-t[1][0])){if(!Je(a-t[1][1])){var s=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),u=Math.min.apply(Math,n.map((function(t){return t[0][1]})));if(Je(s-u)>0)return[];r=[[s,a],[u,a]]}}else{var c=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),l=Math.min.apply(Math,n.map((function(t){return t[1][1]})));if(Je(c-l)>0)return[];r=[[o,c],[o,l]]}}return r.length||(r=t.filter((function(t){var e=t[0],r=t[1];return n.every((function(t){return 0<=Je(e-t[0][0])&&0<=Je(t[0][1]-e)&&0<=Je(r-t[1][0])&&0<=Je(t[1][1]-r)}))}))),r.map((function(t){return[Je(t[0]),Je(t[1])]}))}function un(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}var cn=function(t,e){return cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},cn(t,e)},ln=function(){return ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ln.apply(this,arguments)};function fn(t){return 180*(e=[t[0].clientX,t[0].clientY],r=(n=[t[1].clientX,t[1].clientY])[0]-e[0],i=n[1]-e[1],((o=Math.atan2(i,r))>=0?o:o+2*Math.PI)/Math.PI);var e,n,r,i,o}function pn(t){return t?t.touches?function(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(vn(t[r]));return n}(t.touches):[vn(t)]:[]}function dn(t,e,n){var r=n.length,i=gn(t,r),o=i.clientX,a=i.clientY,s=i.originalClientX,u=i.originalClientY,c=gn(e,r),l=c.clientX,f=c.clientY,p=gn(n,r);return{clientX:s,clientY:u,deltaX:o-l,deltaY:a-f,distX:o-p.clientX,distY:a-p.clientY}}function hn(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function vn(t){return{clientX:t.clientX,clientY:t.clientY}}function gn(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(t.length,e),i=0;i<r;++i){var o=t[i];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var mn=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return t.prototype.getAngle=function(t){return void 0===t&&(t=this.prevClients),fn(t)},t.prototype.getRotation=function(t){return void 0===t&&(t=this.prevClients),fn(t)-fn(this.startClients)},t.prototype.getPosition=function(t,e){void 0===t&&(t=this.prevClients);var n=dn(t||this.prevClients,this.prevClients,this.startClients),r=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(r*r+i*i),this.prevClients=t,n},t.prototype.getPositions=function(t){void 0===t&&(t=this.prevClients);for(var e=this.prevClients,n=this.startClients,r=Math.min(this.length,e.length),i=[],o=0;o<r;++o)i[o]=dn([t[o]],[e[o]],[n[o]]);return i},t.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=gn(t,this.length),r=gn(this.prevClients,this.length),i=n.clientX-r.clientX,o=n.clientY-r.clientY;return Math.sqrt(i*i+o*o)+e},t.prototype.getDistance=function(t){return void 0===t&&(t=this.prevClients),hn(t)},t.prototype.getScale=function(t){return void 0===t&&(t=this.prevClients),hn(t)/hn(this.startClients)},t.prototype.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),bn=["textarea","input"],yn=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;r.options={},r.flag=!1,r.pinchFlag=!1,r.data={},r.isDrag=!1,r.isPinch=!1,r.clientStores=[],r.targets=[],r.prevTime=0,r.doubleFlag=!1,r._useMouse=!1,r._useTouch=!1,r._useDrag=!1,r._dragFlag=!1,r._isTrusted=!1,r._isMouseEvent=!1,r._isSecondaryButton=!1,r._preventMouseEvent=!1,r._prevInputEvent=null,r._isDragAPI=!1,r._isIdle=!0,r._preventMouseEventId=0,r._window=window,r.onDragStart=function(t,e){if(void 0===e&&(e=!0),r.flag||!1!==t.cancelable){var n=t.type.indexOf("drag")>=-1;if(!r.flag||!n){r._isDragAPI=!0;var i=r.options,o=i.container,a=i.pinchOutside,s=i.preventWheelClick,u=i.preventRightClick,c=i.preventDefault,l=i.checkInput,f=i.dragFocusedInput,p=i.preventClickEventOnDragStart,d=i.preventClickEventOnDrag,h=i.preventClickEventByCondition,v=r._useTouch,g=!r.flag;if(r._isSecondaryButton=3===t.which||2===t.button,s&&(2===t.which||1===t.button)||u&&(3===t.which||2===t.button))return r.stop(),!1;if(g){var m=r._window.document.activeElement,b=t.target;if(b){var y=b.tagName.toLowerCase(),E=bn.indexOf(y)>-1,x=b.isContentEditable;if(E||x){if(l||!f&&m===b)return!1;if(m&&(m===b||x&&m.isContentEditable&&m.contains(b))){if(!f)return!1;b.blur()}}else if((c||"touchstart"===t.type)&&m){var S=m.tagName.toLowerCase();(m.isContentEditable||bn.indexOf(S)>-1)&&m.blur()}(p||d||h)&&J(r._window,"click",r._onClick,!0)}r.clientStores=[new mn(pn(t))],r._isIdle=!1,r.flag=!0,r.isDrag=!1,r._isTrusted=e,r._dragFlag=!0,r._prevInputEvent=t,r.data={},r.doubleFlag=k()-r.prevTime<200,r._isMouseEvent=function(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}(t),!r._isMouseEvent&&r._preventMouseEvent&&r._allowMouseEvent(),!1===(r._preventMouseEvent||r.emit("dragStart",ln(ln({data:r.data,datas:r.data,inputEvent:t,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,isTrusted:e,isDouble:r.doubleFlag},r.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){r._dragFlag=!1}})))&&r.stop(),r._isMouseEvent&&r.flag&&c&&t.preventDefault()}if(!r.flag)return!1;var _=0;if(g?(r._attchDragEvent(),v&&a&&(_=setTimeout((function(){J(o,"touchstart",r.onDragStart,{passive:!1})})))):v&&a&&tt(o,"touchstart",r.onDragStart),r.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(_),g&&t.touches.length!==t.changedTouches.length)return;r.pinchFlag||r.onPinchStart(t)}}}},r.onDrag=function(t,e){if(r.flag){var n=r.options.preventDefault;!r._isMouseEvent&&n&&t.preventDefault(),r._prevInputEvent=t;var i=pn(t),o=r.moveClients(i,t,!1);if(r._dragFlag){if((r.pinchFlag||o.deltaX||o.deltaY)&&!1===(r._preventMouseEvent||r.emit("drag",ln(ln({},o),{isScroll:!!e,inputEvent:t}))))return void r.stop();r.pinchFlag&&r.onPinch(t,i)}r.getCurrentStore().getPosition(i,!0)}},r.onDragEnd=function(t){if(r.flag){var e=r.options,n=e.pinchOutside,i=e.container,o=e.preventClickEventOnDrag,a=e.preventClickEventOnDragStart,s=e.preventClickEventByCondition,u=r.isDrag;(o||a||s)&&requestAnimationFrame((function(){r._allowClickEvent()})),s||a||!o||u||r._allowClickEvent(),r._useTouch&&n&&tt(i,"touchstart",r.onDragStart),r.pinchFlag&&r.onPinchEnd(t);var c=(null==t?void 0:t.touches)?pn(t):[];0!==c.length&&r.options.keepDragging?r._addStore(new mn(c)):r.flag=!1;var l=r._getPosition(),f=k(),p=!u&&r.doubleFlag;r._prevInputEvent=null,r.prevTime=u||p?0:f,r.flag||(r._dettachDragEvent(),r._preventMouseEvent||r.emit("dragEnd",ln({data:r.data,datas:r.data,isDouble:p,isDrag:u,isClick:!u,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,inputEvent:t,isTrusted:r._isTrusted},l)),r.clientStores=[],r._isMouseEvent||(r._preventMouseEvent=!0,clearTimeout(r._preventMouseEventId),r._preventMouseEventId=setTimeout((function(){r._preventMouseEvent=!1}),200)),r._isIdle=!0)}},r.onBlur=function(){r.onDragEnd()},r._allowClickEvent=function(){tt(r._window,"click",r._onClick,!0)},r._onClick=function(t){r._allowClickEvent(),r._allowMouseEvent();var e=r.options.preventClickEventByCondition;(null==e?void 0:e(t))||(t.stopPropagation(),t.preventDefault())},r._onContextMenu=function(t){r.options.preventRightClick?r.onDragEnd(t):t.preventDefault()},r._passCallback=function(){};var i=[].concat(e),o=i[0];r._window=ot(o)?o:it(o),r.options=ln({checkInput:!1,container:o&&!("document"in o)?it(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var a=r.options,s=a.container,u=a.events,c=a.checkWindowBlur;if(r._useDrag=u.indexOf("drag")>-1,r._useTouch=u.indexOf("touch")>-1,r._useMouse=u.indexOf("mouse")>-1,r.targets=i,r._useDrag&&i.forEach((function(t){J(t,"dragstart",r.onDragStart)})),r._useMouse&&(i.forEach((function(t){J(t,"mousedown",r.onDragStart),J(t,"mousemove",r._passCallback)})),J(s,"contextmenu",r._onContextMenu)),c&&J(it(),"blur",r.onBlur),r._useTouch){var l={passive:!1};i.forEach((function(t){J(t,"touchstart",r.onDragStart,l),J(t,"touchmove",r._passCallback,l)}))}return r}return function(t,e){function n(){this.constructor=t}cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(t,e,n,r){void 0===r&&(r=!0),this.flag&&(this.clientStores[0].move(t,e),r&&this.onDrag(n,!0))},e.prototype.move=function(t,e){var n=t[0],r=t[1],i=this.getCurrentStore().prevClients;return this.moveClients(i.map((function(t){var e=t.clientX,i=t.clientY;return{clientX:e+n,clientY:i+r,originalClientX:e,originalClientY:i}})),e,!0)},e.prototype.triggerDragStart=function(t){this.onDragStart(t,!1)},e.prototype.setEventData=function(t){var e=this.data;for(var n in t)e[n]=t[n];return this},e.prototype.setEventDatas=function(t){return this.setEventData(t)},e.prototype.getCurrentEvent=function(t){return void 0===t&&(t=this._prevInputEvent),ln(ln({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),tt(this._window,"blur",this.onBlur),this._useDrag&&e.forEach((function(e){tt(e,"dragstart",t.onDragStart)})),this._useMouse&&(e.forEach((function(e){tt(e,"mousedown",t.onDragStart)})),tt(n,"contextmenu",this._onContextMenu)),this._useTouch&&(e.forEach((function(e){tt(e,"touchstart",t.onDragStart)})),tt(n,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(t){var e=this,n=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>n)){var r=new mn(pn(t));this.pinchFlag=!0,this._addStore(r),!1===this.emit("pinchStart",ln(ln({data:this.data,datas:this.data,angle:r.getAngle(),touches:this.getCurrentStore().getPositions()},r.getPosition()),{inputEvent:t,isTrusted:this._isTrusted,preventDefault:function(){t.preventDefault()},preventDrag:function(){e._dragFlag=!1}}))&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",ln(ln({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",ln(ln({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(t,e,n){var r=this._getPosition(t,n),i=this.isDrag;(r.deltaX||r.deltaY)&&(this.isDrag=!0);var o=!1;return!i&&this.isDrag&&(o=!0),ln(ln({data:this.data,datas:this.data},r),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:o})},e.prototype._addStore=function(t){this.clientStores.splice(0,0,t)},e.prototype._getPosition=function(t,e){var n=this.getCurrentStore().getPosition(t,e),r=this.clientStores.slice(1).reduce((function(t,e){var n=e.getPosition();return t.distX+=n.distX,t.distY+=n.distY,t}),n),i=r.distX,o=r.distY;return ln(ln({},n),{distX:i,distY:o})},e.prototype._attchDragEvent=function(){var t=this._window,e=this.options.container,n={passive:!1};this._isDragAPI&&(J(e,"dragover",this.onDrag,n),J(t,"dragend",this.onDragEnd)),this._useMouse&&(J(e,"mousemove",this.onDrag),J(t,"mouseup",this.onDragEnd)),this._useTouch&&(J(e,"touchmove",this.onDrag,n),J(t,"touchend",this.onDragEnd,n),J(t,"touchcancel",this.onDragEnd,n))},e.prototype._dettachDragEvent=function(){var t=this._window,e=this.options.container;this._isDragAPI&&(tt(e,"dragover",this.onDrag),tt(t,"dragend",this.onDragEnd)),this._useMouse&&(tt(e,"mousemove",this.onDrag),tt(t,"mouseup",this.onDragEnd)),this._useTouch&&(tt(e,"touchstart",this.onDragStart),tt(e,"touchmove",this.onDrag),tt(t,"touchend",this.onDragEnd),tt(t,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(qe),En=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function xn(t){var e="rCS"+En(t).toString(36);return{className:e,inject:function(n,r){void 0===r&&(r={});var i=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(n),o=(i||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(o){var a=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(a+1))}else o=function(t,e,n,r,i){var o=et(r),a=o.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),a.setAttribute("data-styled-count","1"),n.nonce&&a.setAttribute("nonce",n.nonce),a.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var r=n.trim();return(r?O(r):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?"".concat(n.replace(/\:host/g,".".concat(t))):n?".".concat(t," ").concat(n):".".concat(t)})).join(", ")+" {"}))}(t,e,n),(i||o.head||o.body).appendChild(a),a}(e,t,r,n,i);return{destroy:function(){var t,e=parseFloat(o.getAttribute("data-styled-count"))||0;e<=1?(o.remove?o.remove():null===(t=o.parentNode)||void 0===t||t.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(e-1))}}}}}var Sn=function(){return Sn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Sn.apply(this,arguments)};function _n(t,e){var n,r=xn(e),i=r.className;return n=function(e,n){var o=e.className,a=void 0===o?"":o;e.cspNonce;var s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["className","cspNonce"]),u=function(t){return Vt({func:function(){return Bt(t)},deps:[]}).value}();return function(t){Kt((function(){null==t||t(u.current)}),[],!0)}(n),Kt((function(){var t=r.inject(u.current,{nonce:e.cspNonce});return function(){t.destroy()}}),[]),Yt(t,Sn({ref:u,"data-styled-id":i,className:"".concat(a," ").concat(i)},s))},n._fr=!0,n}var Cn=function(t,e){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Cn(t,e)};function wn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Dn=function(){return Dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Dn.apply(this,arguments)};function Mn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function On(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function Tn(t,e){return Dn({events:[],props:[],name:t},e)}var Pn,Rn,kn,In=["n","w","s","e"],zn=["n","w","s","e","nw","ne","sw","se"],Bn=function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}()?function(){var t=navigator.userAgentData,e=(t.uaList||t.brands).slice(),n=t.mobile||!1,r=e[0],i=(t.platform||navigator.platform).toLowerCase(),o={name:r.brand,version:r.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!ee(ae,e).brand||ue(Zt())},a={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&Ut(oe,(function(t){return ne(e,t)}));var s=ee(ie,e);if(o.chromium=!!s.brand,o.chromiumVersion=s.version,!o.chromium){var u=ee(oe,e);o.webkit=!!u.brand,o.webkitVersion=u.version}var c=$t(se,(function(t){return new RegExp(""+t.test,"g").exec(i)}));a.name=c?c.id:"";var l=ee(re,e);return o.name=l.brand||o.name,o.version=(l.brand,l.version),o.webkit&&(a.name=n?"ios":"mac"),"ios"===a.name&&o.webview&&(o.version="-1"),a.version=Jt(a.version),o.version=Jt(o.version),a.majorVersion=parseInt(a.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:a,isMobile:n,isHints:!0}}():function(t){var e=Zt(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:ue(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=te(re,e),a=o.preset,s=o.version,u=te(se,e),c=u.preset,l=u.version,f=te(ie,e);if(r.chromium=!!f.preset,r.chromiumVersion=f.version,!r.chromium){var p=te(oe,e);r.webkit=!!p.preset,r.webkitVersion=p.version}return c&&(i.name=c.id,i.version=l,i.majorVersion=parseInt(l,10)),a&&(r.name=a.id,r.version=s,r.webview&&"ios"===i.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}(Pn),Fn=Bn.browser.webkit,An=Fn&&(Rn="undefined"==typeof window?{userAgent:""}:window.navigator,!!(kn=/applewebkit\/([^\s]+)/g.exec(Rn.userAgent.toLowerCase()))&&parseFloat(kn[1])<605),Gn=Bn.browser.name,Wn=parseInt(Bn.browser.version,10),Nn="chrome"===Gn,Yn=Bn.browser.chromium,jn=parseInt(Bn.browser.chromiumVersion,10)||0,Xn=Nn&&Wn>=109||Yn&&jn>=109,Ln="firefox"===Gn,qn=parseInt(Bn.browser.webkitVersion,10)>=612||Wn>=15,Hn="moveable-",Vn=zn.map((function(t){var e="",n="",r="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(n="left: ".concat(o,";"),r="right"),t.indexOf("e")>-1&&(n="left: 0px;",r="left"),'.around-control[data-direction*="'.concat(t,'"] {\n        ').concat(n).concat(e,"\n        transform-origin: ").concat(r," ").concat(i,";\n    }")})).join("\n"),Kn="\n{\nposition: absolute;\nwidth: 1px;\nheight: 1px;\nleft: 0;\ntop: 0;\nz-index: 3000;\n--moveable-color: #4af;\n--zoom: 1;\n--zoompx: 1px;\n--moveable-line-padding: 0;\n--moveable-control-padding: 0;\nwill-change: transform;\noutline: 1px solid transparent;\n}\n.control-box {\nz-index: 0;\n}\n.line, .control {\nposition: absolute;\nleft: 0;\ntop: 0;\nwill-change: transform;\n}\n.control {\nwidth: 14px;\nheight: 14px;\nborder-radius: 50%;\nborder: 2px solid #fff;\nbox-sizing: border-box;\nbackground: #4af;\nbackground: var(--moveable-color);\nmargin-top: -7px;\nmargin-left: -7px;\nborder: 2px solid #fff;\nz-index: 10;\n}\n.around-control {\nposition: absolute;\nwill-change: transform;\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\nheight: calc(var(--moveable-control-padding, 20) * 1px);\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\nbox-sizing: border-box;\nbackground: transparent;\nz-index: 8;\ncursor: alias;\ntransform-origin: center center;\n}\n".concat(Vn,"\n.padding {\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100px;\nheight: 100px;\ntransform-origin: 0 0;\n}\n.line {\nwidth: 1px;\nheight: 1px;\nbackground: #4af;\nbackground: var(--moveable-color);\ntransform-origin: 0px 50%;\n}\n.line.edge {\nz-index: 1;\nbackground: transparent;\n}\n.line.dashed {\nbox-sizing: border-box;\nbackground: transparent;\n}\n.line.dashed.horizontal {\nborder-top: 1px dashed #4af;\nborder-top-color: #4af;\nborder-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\nborder-left: 1px dashed #4af;\nborder-left-color: #4af;\nborder-left-color: var(--moveable-color);\n}\n.line.vertical {\ntransform: translateX(-50%);\n}\n.line.horizontal {\ntransform: translateY(-50%);\n}\n.line.vertical.bold {\nwidth: 2px;\n}\n.line.horizontal.bold {\nheight: 2px;\n}\n\n.control.origin {\nborder-color: #f55;\nbackground: #fff;\nwidth: 12px;\nheight: 12px;\nmargin-top: -6px;\nmargin-left: -6px;\npointer-events: none;\n}\n").concat([0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'.concat(t,'"], :global .view-control-rotation').concat(t," {\n").concat(function(t){var e=function(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32,'px" height="').concat(32,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}(0,t),n=45*Math.round(t/45)%180,r="ns-resize";return 135===n?r="nwse-resize":45===n?r="nesw-resize":90===n&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")}(t),"\n}\n")})).join("\n"),'\n\n.line.direction:before {\ncontent: "";\nposition: absolute;\nwidth: 100%;\nheight: calc(var(--moveable-line-padding, 0) * 1px);\nbottom: 0;\nleft: 0;\n}\n.group {\nz-index: -1;\n}\n.area {\nposition: absolute;\n}\n.area-pieces {\nposition: absolute;\ntop: 0;\nleft: 0;\ndisplay: none;\n}\n.area.avoid, .area.pass {\npointer-events: none;\n}\n.area.avoid+.area-pieces {\ndisplay: block;\n}\n.area-piece {\nposition: absolute;\n}\n\n').concat(An?':global svg *:before {\ncontent:"";\ntransform-origin: inherit;\n}':"","\n"),Un=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],$n=1e-4,Zn=1e-7,Qn=1e-9,Jn=Math.pow(10,10),tr=-Jn,er={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},nr={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},rr={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},ir=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function or(t,e,n,r,i,o){var a,s;void 0===o&&(o="draggable");var u=null!==(s=null===(a=e.gestos[o])||void 0===a?void 0:a.move(n,t.inputEvent))&&void 0!==s?s:{},c=u.originalDatas||u.datas,l=c[o]||(c[o]={});return Dn(Dn({},i?sa(e,u):u),{isPinch:!!r,parentEvent:!0,datas:l,originalDatas:t.originalDatas})}var ar=function(){function t(t){var e;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((e={})[t]={},e)}var e=t.prototype;return e.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),Dn(Dn({},this.move(t,e.inputEvent)),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r,i=!1;if(this.isFlag){var o=this.isDrag;n=this.prevX+t[0],r=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!o&&this.isDrag&&(i=!0)}else this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0;return this.prevX=n,this.prevY=r,{type:"drag",clientX:n,clientY:r,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function sr(t,e,n,r){var i=16===t.length?4:3,o=Mn(Oo(t,n,r,i),4),a=Mn(o[0],2),s=a[0],u=a[1],c=Mn(o[1],2),l=c[0],f=c[1],p=Mn(o[2],2),d=p[0],h=p[1],v=Mn(o[3],2),g=v[0],m=v[1],b=Mn(Mo(t,e,i),2),y=b[0],E=b[1],x=Math.min(s,l,d,g),S=Math.min(u,f,h,m),_=Math.max(s,l,d,g);return s=s-x||0,{left:x,top:S,right:_,bottom:Math.max(u,f,h,m),origin:[y=y-x||0,E=E-S||0],pos1:[s,u=u-S||0],pos2:[l=l-x||0,f=f-S||0],pos3:[d=d-x||0,h=h-S||0],pos4:[g=g-x||0,m=m-S||0],direction:Sa(t[0]*t[i+1])}}function ur(t,e){var n=e.clientX,r=e.clientY,i=e.datas,o=t.state,a=o.moveableClientRect,s=o.rootMatrix,u=o.is3d,c=o.pos1,l=Mn(Ee(aa(s,[n-a.left,r-a.top],u?4:3),c),2),f=Mn(hr({datas:i,distX:l[0],distY:l[1]}),2);return[f[0],f[1]]}function cr(t,e){var n=e.datas,r=t.state,i=r.allMatrix,o=r.beforeMatrix,a=r.is3d,s=r.left,u=r.top,c=r.origin,l=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,d=a?4:3;n.is3d=a,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=o,n.offsetMatrix=l,n.transformOrigin=p,n.inverseMatrix=de(i,d),n.inverseBeforeMatrix=de(o,d),n.absoluteOrigin=ve(ye([s,u],c),d),n.startDragBeforeDist=Se(n.inverseBeforeMatrix,n.absoluteOrigin,d),n.startDragDist=Se(n.inverseMatrix,n.absoluteOrigin,d)}function lr(t,e,n){var r=e.datas,i=e.originalDatas.beforeRenderable,o=r.transformIndex,a=i.nextTransforms,s=a.length,u=i.nextTransformAppendedIndexes,c=-1;-1===o?("translate"===n?c=0:"rotate"===n&&(c=I(a,(function(t){return t.match(/scale\(/g)}))),-1===c&&(c=a.length),r.transformIndex=c):c=z(u,(function(t){return t.index===o&&t.functionName===n}))?o:o+u.filter((function(t){return t.index<o})).length;var l=function(t,e,n){var r,i=Ge(t,{"x%":function(t){return t/100*e.offsetWidth},"y%":function(t){return t/100*e.offsetHeight}}),o=t.slice(0,n<0?void 0:n),a=t.slice(0,n<0?void 0:n+1),s=t[n]||"",u=n<0?[]:t.slice(n),c=n<0?[]:t.slice(n+1),l=i.slice(0,n<0?void 0:n),f=i.slice(0,n<0?void 0:n+1),p=null!==(r=i[n])&&void 0!==r?r:Ge([""])[0],d=n<0?[]:i.slice(n),h=n<0?[]:i.slice(n+1),v=p?[p]:[],g=Ae(l),m=Ae(f),b=Ae(d),y=Ae(h),E=be(g,b,4);return{transforms:t,beforeFunctionMatrix:g,beforeFunctionMatrix2:m,targetFunctionMatrix:Ae(v),afterFunctionMatrix:b,afterFunctionMatrix2:y,allFunctionMatrix:E,beforeFunctions:l,beforeFunctions2:f,targetFunction:v[0],afterFunctions:d,afterFunctions2:h,beforeFunctionTexts:o,beforeFunctionTexts2:a,targetFunctionText:s,afterFunctionTexts:u,afterFunctionTexts2:c}}(a,t.state,c),f=l.targetFunction,p="rotate"===n?"rotateZ":n;r.beforeFunctionTexts=l.beforeFunctionTexts,r.afterFunctionTexts=l.afterFunctionTexts,r.beforeTransform=l.beforeFunctionMatrix,r.beforeTransform2=l.beforeFunctionMatrix2,r.targetTansform=l.targetFunctionMatrix,r.afterTransform=l.afterFunctionMatrix,r.afterTransform2=l.afterFunctionMatrix2,r.targetAllTransform=l.allFunctionMatrix,f.functionName===p?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):s>c&&(r.isAppendTransform=!0,i.nextTransformAppendedIndexes=On(On([],Mn(u),!1),[{functionName:n,index:c,isAppend:!0}],!1))}function fr(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function pr(t,e,n){var r=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,u=n?be(s,e,4):be(e,s,4),c=be(de(n?o:r,4),u,4);return be(c,de(n?a:i,4),4)}function dr(t){var e=t.datas,n=t.distX,r=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,a=e.startDragBeforeDist,s=o?4:3;return Ee(Se(i,ye(e.absoluteOrigin,[n,r]),s),a)}function hr(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,u=n.startDragBeforeDist,c=n.startDragDist,l=s?4:3;return Ee(Se(e?o:a,ye(n.absoluteOrigin,[r,i]),l),e?u:c)}function vr(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function gr(t,e){var n=(e+1)/2;return[m(t[0][0],t[1][0],n,1-n),m(t[0][1],t[1][1],n,1-n)]}function mr(t,e){var n=gr([t[0],t[1]],e[0]),r=gr([t[2],t[3]],e[0]);return gr([n,r],e[1])}function br(t,e,n,r){return be(t,go(e,r,n),r)}function yr(t,e){var n=_r(e);return{setTransform:function(r,i){void 0===i&&(i=-1),n.startTransforms=E(r)?r:M(r),xr(t,e,i)},setTransformIndex:function(n){xr(t,e,n)}}}function Er(t,e,n){xr(t,e,I(_r(e).startTransforms,(function(t){return 0===t.indexOf("".concat(n,"("))})))}function xr(t,e,n){var r=_r(e),i=e.datas;if(i.transformIndex=n,-1!==n){var o=r.startTransforms[n];if(o){var a=t.state,s=Ge([o],{"x%":function(t){return t/100*a.offsetWidth},"y%":function(t){return t/100*a.offsetHeight}});i.startValue=s[0].functionValue}}}function Sr(t,e){_r(t).nextTransforms=M(e)}function _r(t){return t.originalDatas.beforeRenderable}function Cr(t){return t.originalDatas.beforeRenderable.nextTransforms}function wr(t){return(Cr(t)||[]).join(" ")}function Dr(t){return _r(t).nextStyle}function Mr(t,e,n,r,i){Sr(i,e);var o=zi.drag(t,or(i,t.state,n,r,!1)),a=o?o.transform:e;return Dn(Dn({transform:e,drag:o},Vo({transform:a},i)),{afterTransform:a})}function Or(t,e,n,r,i,o){var a=function(t,e,n,r){var i,o=t.transformOrigin,a=t.offsetMatrix,s=t.is3d?4:3;if(x(n)){var u=e.beforeTransform,c=e.afterTransform;i=ge(r?Fe(n):be(be(u,Fe([n]),4),c,4),4,s)}else i=n;return br(a,i,o,s)}(t.state,i,e,o),s=function(t,e,n,r){void 0===r&&(r=t.state.allMatrix);var i=t.state,o=i.width,a=i.height,s=i.is3d?4:3;return Mo(r,[o/2*(1+e[0])+n[0],a/2*(1+e[1])+n[1]],s)}(t,n,r,a);return s}function Tr(t,e,n,r,i,o,a){var s=Or(t,e,n,i,o,a),u=t.state,c=u.left,l=u.top,f=t.props.groupable,p=f?c:0,d=f?l:0,h=Ee(r,s);return Ee(h,[p,d])}function Pr(t,e,n,r,i,o){var a=t.props.groupable,s=t.state,u=s.transformOrigin,c=s.offsetMatrix,l=s.is3d,f=s.width,p=s.height,d=s.left,h=s.top,v=o.fixedDirection,g=o.nextTargetMatrix||s.targetMatrix,m=l?4:3,b=function(t,e,n,r,i,o){return void 0===r&&(r=e),void 0===i&&(i=n),void 0===o&&(o=[0,0]),t?t.map((function(t,a){var s=P(t),u=s.value,c=s.unit,l=a?i:r,f=a?n:e;return"%"===t||isNaN(u)?f*(l?o[a]/l:0):"%"!==c?u:f*u/100})):o}(i,e,n,f,p,u),y=a?d:0,E=a?h:0,x=function(t,e,n,r,i,o){var a=mr(Oo(e,n,r,i),o);return[t[0]-a[0],t[1]-a[1]]}(r,br(c,g,b,m),e,n,m,v);return Ee(x,[y,E])}function Rr(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function kr(t){var e=t("scale"),n=t("rotate"),r=t("translate"),i=[];return r&&"0px"!==r&&"none"!==r&&i.push("translate(".concat(r.split(/\s+/).join(","),")")),n&&"1"!==n&&"none"!==n&&i.push("rotate(".concat(n,")")),e&&"1"!==e&&"none"!==e&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function Ir(t,e,n){for(var r,i,o,a,s,u=t,c=[],l=nt(t)||rt(t),f=!n&&t===e||t===l,p=f,d=!1,h=3,v=!1,g=yo(e,e,!0).offsetParent,m=1;u&&!p;){p=f;var b=Gr(u),y=b("position"),E=bo(u),x="fixed"===y,S=kr(b),_=(a=vo(E),void 0===(s=void 0)&&(s=6===a.length),s?[a[0],a[1],0,a[2],a[3],0,a[4],a[5],1]:a),C=void 0,w=!1,D=!1,M=0,O=0,T=0,P=0,R={hasTransform:!1,fixedContainer:null};x&&(v=!0,g=(R=_o(u)).fixedContainer);var k=_.length;d||16!==k&&!S.length||(d=!0,h=4,So(c),o&&(o=ge(o,3,4))),d&&9===k&&(_=ge(_,3,4));var I=Eo(u,t),z=I.tagName,B=I.hasOffset,F=I.isSVG,A=I.origin,G=I.targetOrigin,W=Mn(I.offset,2),N=W[0],Y=W[1];"svg"===z&&!u.ownerSVGElement&&o&&(c.push({type:"target",target:u,matrix:Do(u,h)}),c.push({type:"offset",target:u,matrix:Re(h)}));var j=parseFloat(b("zoom"))||1;if(x)C=R.fixedContainer,w=!0;else{var X=yo(u,e,!1,!0,b),L=X.offsetZoom;if(C=X.offsetParent,w=X.isEnd,D=X.isStatic,m*=L,(X.isCustomElement||1!==L)&&D)N-=C.offsetLeft,Y-=C.offsetTop;else if((Ln||Xn)&&X.parentSlotElement){for(var q=C,H=0,V=0;q&&Rr(q);)H+=q.offsetLeft,V+=q.offsetTop,q=q.offsetParent;N-=H,Y-=V}}if(!Fn||qn||!B||F||!D||"relative"!==y&&"static"!==y||(N-=C.offsetLeft,Y-=C.offsetTop,f=f||w),x)B&&R.hasTransform&&(T=C.clientLeft,P=C.clientTop);else if(B&&g!==C&&(M=C.clientLeft,O=C.clientTop),B&&C===l){var K=xo(u,!1);N+=K[0],Y+=K[1]}if(c.push({type:"target",target:u,matrix:go(_,h,A)}),S.length&&(c.push({type:"offset",target:u,matrix:Re(h)}),c.push({type:"target",target:u,matrix:go(Fe(S),h,A)})),B){var U=u===t,$=U?0:u.scrollLeft,Z=U?0:u.scrollTop;c.push({type:"offset",target:u,matrix:Ie([N-$+M-T,Y-Z+O-P],h)})}else c.push({type:"offset",target:u,origin:A});if(1!==j&&c.push({type:"zoom",target:u,matrix:go(ke([j,j],h),h,[0,0])}),o||(o=_),r||(r=A),i||(i=G),p||x)break;u=C,f=w,n&&u!==l||(p=f)}return o||(o=Re(h)),r||(r=[0,0]),i||(i=[0,0]),{zoom:m,offsetContainer:g,matrixes:c,targetMatrix:o,transformOrigin:r,targetOrigin:i,is3d:d,hasFixed:v}}var zr=null,Br=null,Fr=null;function Ar(t){t?(window.Map&&(zr=new Map,Br=new Map),Fr=[]):(zr=null,Fr=null,Br=null)}function Gr(t){var e=null==zr?void 0:zr.get(t);if(!e){var n=it(t).getComputedStyle(t);if(!zr)return function(t){return n[t]};e={style:n,cached:{}},zr.set(t,e)}var r=e.cached,i=e.style;return function(t){return t in r||(r[t]=i[t]),r[t]}}function Wr(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map((function(t,r){return o[r]=o[r]||{},o[r][e]=o[r][e]||{},Dn(Dn({},n),{isRequestChild:!0,datas:o[r][e],originalDatas:o[r]})}))}function Nr(t,e,n,r,i,o,a){var s=!!n.match(/Start$/g),u=!!n.match(/End$/g),c=i.isPinch,l=i.datas,f=Wr(t,e.name,i),p=t.moveables,d=[],h=f.map((function(t,i){var f=p[i],h=f.state,v=h.gestos,g=t;if(s)g=new ar(a).dragStart(r,t),d.push(g);else{if(v[a]||(v[a]=l.childGestos[i]),!v[a])return;g=or(t,h,r,c,o,a),d.push(g)}var m=e[n](f,Dn(Dn({},g),{parentFlag:!0}));return u&&(v[a]=null),m}));return s&&(l.childGestos=p.map((function(t){return t.state.gestos[a]}))),{eventParams:h,childEvents:d}}function Yr(t,e,n,r,i,o){void 0===i&&(i=function(t,e){return e});var a=!!n.match(/End$/g),s=Wr(t,e.name,r),u=t.moveables;return s.map((function(t,r){var s,c=u[r];s=i(c,t);var l=e[n](c,Dn(Dn({},s),{parentFlag:!0}));return l&&o&&o(c,t,l,r),a&&(c.state.gestos={}),l}))}function jr(t,e,n,r){var i=n.fixedDirection,o=n.fixedPosition,a=mr(r.datas.startPositions||Lo(e.state),i),s=Mn(Se(Pe(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),2),u=s[0],c=s[1];return r.datas.originalX=u,r.datas.originalY=c,r}function Xr(t,e,n,r){var i=t.getState(),o=i.renderPoses,a=i.rotation,s=i.direction,u=Bo(t.props,e).zoom,c=oo(a/Math.PI*180),l={},f=t.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var p=f.renderDirectionMap;n.forEach((function(t){var e=t.dir;l[e]=!0}));var d=Sa(s);return n.map((function(t){var n=t.data,i=t.classNames,s=t.dir,f=nr[s];if(!f||!l[s])return null;p[s]=!0;var h=(H(c,15)+d*rr[s]+720)%180,v={};return A(n).forEach((function(t){v["data-".concat(t)]=n[t]})),r.createElement("div",Dn({className:po.apply(void 0,On(["control","direction",s,e],Mn(i),!1)),"data-rotation":h,"data-direction":s},v,{key:"direction-".concat(s),style:zo.apply(void 0,On([a,u],Mn(f.map((function(t){return o[t]}))),!1))}))}))}function Lr(t,e,n,r){var i=Bo(t.props,n),o=i.renderDirections,a=void 0===o?e:o,s=i.displayAroundControls;if(!a)return[];var u=!0===a?zn:a;return On(On([],Mn(s?Ur(t,r,n,u):[]),!1),Mn(Xr(t,n,u.map((function(t){return{data:{},classNames:[],dir:t}})),r)),!1)}function qr(t,e,n,r,i,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var u=X(n,r),c=e?H(u/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:po.apply(void 0,On(["line","direction",e?"edge":"",e],Mn(a),!1)),"data-rotation":c,"data-line-key":o,"data-direction":e,style:Io(n,r,i,u)})}function Hr(t,e,n,r,i){return(!0===n?In:n).map((function(n,o){var a=Mn(nr[n],2),s=a[0],u=a[1];if(null!=u)return qr(t,n,r[s],r[u],i,"".concat(e,"Edge").concat(o),e)})).filter(Boolean)}function Vr(t){return function(e,n){var r=Bo(e.props,t).edge;return r&&(!0===r||r.length)?On(On([],Mn(Hr(n,t,r,e.getState().renderPoses,e.props.zoom)),!1),Mn(function(t,e,n){return Lr(t,["nw","ne","sw","se"],e,n)}(e,t,n)),!1):Kr(e,t,n)}}function Kr(t,e,n){return Lr(t,zn,e,n)}function Ur(t,e,n,r){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var o=t.getState(),a=o.renderPoses,s=o.rotation,u=o.direction,c=i.renderDirectionMap,l=t.props.zoom,f=Sa(u),p=s/Math.PI*180;return(r||A(c)).map((function(t){var r=nr[t];if(!r)return null;var i=(H(p,15)+f*rr[t]+720)%180,o=["around-control"];return n&&o.push("direction",n),e.createElement("div",{className:po.apply(void 0,On([],Mn(o),!1)),"data-rotation":i,"data-direction":t,key:"direction-around-".concat(t),style:zo.apply(void 0,On([s,l],Mn(r.map((function(t){return a[t]}))),!1))})}))}function $r(t,e,n){var r=t||{},i=r.position,o=void 0===i?"client":i,a=r.left,s=void 0===a?-1/0:a,u=r.top,c=void 0===u?-1/0:u,l=r.right,f=void 0===l?1/0:l,p=r.bottom,d={position:o,left:s,top:c,right:f,bottom:void 0===p?1/0:p};return{vertical:Qr(d,e,!0),horizontal:Qr(d,n,!1)}}function Zr(t,e){var n=t.state,r=n.containerClientRect,i=r.clientHeight,o=r.clientWidth,a=r.clientLeft,s=r.clientTop,u=n.snapOffset,c=u.left,l=u.top,f=u.right,p=u.bottom,d=e||t.props.bounds||{},h="css"===(d.position||"client"),v=d.left,g=void 0===v?-1/0:v,m=d.top,b=void 0===m?-1/0:m,y=d.right,E=void 0===y?h?-1/0:1/0:y,x=d.bottom,S=void 0===x?h?-1/0:1/0:x;return h&&(E=o+f-c-E,S=i+p-l-S),{left:g+c-a,right:E+c-a,top:b+l-s,bottom:S+l-s}}function Qr(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],o=Math.min.apply(Math,On([],Mn(e),!1)),a=Math.max.apply(Math,On([],Mn(e),!1)),s=[];return r+1>o&&s.push({direction:"start",isBound:!0,offset:o-r,pos:r}),i-1<a&&s.push({direction:"end",isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return _a(e.offset)-_a(t.offset)}))}function Jr(t,e,n){return(n?t.map((function(t){return Me(t,n)})):t).some((function(t){return t[0]<e.left&&_a(t[0]-e.left)>.1||t[0]>e.right&&_a(t[0]-e.right)>.1||t[1]<e.top&&_a(t[1]-e.top)>.1||t[1]>e.bottom&&_a(t[1]-e.bottom)>.1}))}var ti=["left","right","center"],ei=["top","bottom","middle"],ni={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},ri={start:"left",end:"right",center:"center"},ii={start:"top",end:"bottom",center:"middle"};function oi(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,u=n.snapGridWidth,c=n.snapGridHeight,l=t.state,f=l.guidelines,p=l.enableSnap;return!(!r||!p||e&&!0!==r&&r.indexOf(e)<0||!(u||c||i||o||f&&f.length||a&&a.length||s&&s.length))}function ai(t){return!1===t?{}:!0!==t&&t?t:{left:!0,right:!0,top:!0,bottom:!0}}function si(t,e){var n=function(t,e){var n=ai(t),r={};for(var i in n)i in e&&n[i]&&(r[i]=e[i]);return r}(t,e),r=ei.filter((function(t){return t in n})),i=ti.filter((function(t){return t in n}));return{horizontalNames:r,verticalNames:i,horizontal:r.map((function(t){return n[t]})),vertical:i.map((function(t){return n[t]}))}}var ui="snapRotationThreshold",ci="snapRotationDegrees",li="snapHorizontalThreshold",fi="snapVerticalThreshold";function pi(t,e,n,r,i,o,a){var s;void 0===r&&(r=[]),void 0===i&&(i=[]);var u=t.props,c=(null===(s=t.state.snapThresholdInfo)||void 0===s?void 0:s.multiples)||[1,1],l=na(a,u[li],5),f=na(o,u[fi],5);return di(t.state.guidelines,e,n,r,i,l,f,c)}function di(t,e,n,r,i,o,a,s){return{vertical:mi(t,"vertical",e,a*s[0],r),horizontal:mi(t,"horizontal",n,o*s[1],i)}}function hi(t){var e="";return-1===t||"top"===t||"left"===t?e="start":0===t||"center"===t||"middle"===t?e="center":1!==t&&"right"!==t&&"bottom"!==t||(e="end"),e}function vi(t,e,n,r){var i=si(t.props.snapDirections,e),o=pi(t,i.vertical,i.horizontal,i.verticalNames.map((function(t){return hi(t)})),i.horizontalNames.map((function(t){return hi(t)})),n,r),a=hi(i.horizontalNames[o.horizontal.index]),s=hi(i.verticalNames[o.vertical.index]);return{vertical:Dn(Dn({},o.vertical),{direction:s}),horizontal:Dn(Dn({},o.horizontal),{direction:a})}}function gi(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,o=r.dist,a=r.guideline;return{isSnap:e,offset:i,dist:o,pos:n.pos,guideline:a}}function mi(t,e,n,r,i){var o,a;if(void 0===i&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s="vertical"===e?0:1,u=n.map((function(n,o){var a=i[o]||"",u=t.map((function(t){var e=t.pos,r=n-e[s];return{offset:r,dist:_a(r),guideline:t,direction:a}})).filter((function(t){var n=t.guideline,i=t.dist;return!(n.type!==e||i>r)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,index:o,guidelineInfos:u,direction:a}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),c=u.length>0;return{isSnap:c,index:c?u[0].index:-1,direction:null!==(a=null===(o=u[0])||void 0===o?void 0:o.direction)&&void 0!==a?a:"",posInfos:u}}function bi(t,e){var n=_a(t.offset),r=_a(e.offset);return t.isBound&&e.isBound?r-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?r-n:t.isSnap?-1:e.isSnap||n<Zn?1:r<Zn?-1:n-r}function yi(t,e){return t.slice().sort((function(t,n){var r=t.sign[e],i=n.sign[e],o=t.offset[e],a=n.offset[e];return r?i?bi({isBound:t.isBound,isSnap:t.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:a}):-1:1}))[0]}function Ei(t,e){var n=j([e[0][0],e[1][0]]),r=j([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function xi(t,e){var n,r,i=Mn(e,2),o=i[0],a=i[1],s=a[0]-o[0],u=a[1]-o[1];return _a(s)<Zn&&(s=0),_a(u)<Zn&&(u=0),s?u?(n=u/s*(t[0]-o[0])+o[1],r=t[1]):(n=o[1],r=t[1]):(n=o[0],r=t[0]),n-r}function Si(t,e,n,r){return void 0===r&&(r=Zn),t.every((function(t){var i=xi(t,e);return i<=0===n||_a(i)<=r}))}function _i(t,e,n,r,i){return void 0===i&&(i=0),r&&e-i<=t||!r&&t<=n+i?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function Ci(t,e,n,r,i,o){var a,s,u=Mn(e,2),c=u[0],l=u[1],f=t[0],p=n[0],d=n[1],h=la(d[1]-p[1]),v=l,g=c,m=-c/l;return la(d[0]-p[0])?h||o&&!v?{isBound:!1,offset:0}:g?_i((p[1]-f[1])/m+f[0],p[0],d[0],r,i):{isBound:s=_a(a=p[1]-f[1])<=(i||0),offset:s?a:0}:o&&!g?{isBound:!1,offset:0}:v?_i(m*(p[0]-f[0])+f[1],p[1],d[1],r,i):{isBound:s=_a(a=p[0]-f[0])<=(i||0),offset:s?a:0}}function wi(t,e,n){return e.map((function(e){var r=function(t,e){var n=e.line,r=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var u=s.left,c=s.top,l=s.width,f=s.height,p=[[u,c],[u,c+f]],d=[[u,c],[u+l,c]],h=[[u+l,c],[u+l,c+f]],v=[[u,c+f],[u+l,c+f]];if(Si([[u,c],[u+l,c],[u,c+f],[u+l,c+f]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=Ci(n,a,d,i),m=Ci(n,a,v,i),b=Ci(n,a,p,o),y=Ci(n,a,h,o),E=g.isBound&&m.isBound,x=g.isBound||m.isBound,S=b.isBound&&y.isBound,_=b.isBound||y.isBound,C=oa(g.offset,m.offset),w=oa(b.offset,y.offset),D=[0,0],M=!1,O=!1;return _a(w)<_a(C)?(D=[C,0],M=x,O=E):(D=[0,w],M=_,O=S),{isAllBound:O,isVerticalBound:x,isHorizontalBound:_,isBound:M,offset:D}}(t,e),i=r.isBound,o=r.offset,a=r.isVerticalBound,s=r.isHorizontalBound,u=e.multiple,c=hr({datas:n,distX:o[0],distY:o[1]}).map((function(t,e){return t*(u[e]?2/u[e]:0)}));return{sign:u,isBound:i,isVerticalBound:a,isHorizontalBound:s,isSnap:!1,offset:c}}))}function Di(t,e,n,r){var i=t.state,o=Oo(i.allMatrix,100,100,i.is3d?4:3),a=mr(o,[0,0]);return function(t,e){var n=[],r=t[0],i=t[1];return r&&i?n.push([[0,2*i],t,[-r,i]],[[2*r,0],t,[r,-i]]):r?(n.push([[2*r,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,2*i],[1,i],[-1,i]]),e&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(n,r).map((function(t){var n=Mn(t,3),r=n[0],i=n[1],s=n[2],u=[mr(o,i),mr(o,s)],c=function(t){var e=Mn(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];Math.abs(i)<v&&(i=0),Math.abs(o)<v&&(o=0);var a=0,s=0,u=0;return i?o?(s=1,u=(a=-o/i)*n[0]-n[1]):(s=1,u=-n[1]):(a=-1,u=n[0]),[a,s,u].map((function(t){return H(t,v)}))}(u),l=Ei(a,u),f=l.vertical,p=l.horizontal;return{multiple:r,centerSign:xi(a,u)<=0,verticalSign:f,horizontalSign:p,lineConstants:c,line:[mr(e,i),mr(e,s)]}}))}function Mi(t,e,n,r){var i=r?t.map((function(t){return Me(t,r)})):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t){var r=xi(n,t)<=0;return!Si(e,t,r)}))}function Oi(t,e,n,r,i){var o=function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];if(_a(i)<v&&(i=0),_a(o)<v&&(o=0),!i)return r?[0,0]:[0,n];if(!o)return r?[n,0]:[0,0];var a=o/i,s=t[1]-a*t[0];return r?[n,a*(e[0]+n)+s-e[1]]:[(e[1]+n-s)/a-e[0],n]}(t,e,n,r);if(!o)return{isOutside:!1,offset:[0,0]};var a=q(t,e),s=q(o,t),u=q(o,e),c=s>a||u>a,l=Mn(hr({datas:i,distX:o[0],distY:o[1]}),2);return{offset:[l[0],l[1]],isOutside:c}}function Ti(t,e){return t.isBound?t.offset:e.isSnap?gi(e).offset:0}function Pi(t,e,n,r,i,o){if(!oi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=Xo(o.absolutePoses,[e,n]),s=To(a),u=s.left,c=s.right,l=s.top,f=s.bottom,p={horizontal:a.map((function(t){return t[1]})),vertical:a.map((function(t){return t[0]}))},d=Ri(t,i,si(ai(t.props.snapDirections),{left:u,right:c,top:l,bottom:f,center:(u+c)/2,middle:(l+f)/2}),p),h=d.vertical,g=d.horizontal,m=function(t,e,n){var r,i=wi(t,Di(t,e,[0,0],!1).map((function(t){return Dn(Dn({},t),{multiple:t.multiple.map((function(t){return 2*_a(t)}))})})),n),o=yi(i,0),a=yi(i,1),s=0,u=0,c=o.isVerticalBound||a.isVerticalBound,l=o.isHorizontalBound||a.isHorizontalBound;return(c||l)&&(r=Mn(function(t){var e=t.datas,n=t.distX,r=t.distY,i=(e.beforeMatrix,e.matrix),o=e.is3d,a=(e.startDragBeforeDist,e.startDragDist),s=e.absoluteOrigin,u=o?4:3;return Ee(Se(i,ye(a,[n,r]),u),s)}({datas:n,distX:-o.offset[0],distY:-a.offset[1]}),2),s=r[0],u=r[1]),{vertical:{isBound:c,offset:s},horizontal:{isBound:l,offset:u}}}(t,a,o),b=m.vertical,y=m.horizontal,E=h.isSnap,x=g.isSnap,S=h.isBound||b.isBound,_=g.isBound||y.isBound,C=Mn(function(t,e,n,r,i){var o=Mn(e,2),a=o[0],s=o[1],u=Mn(n,2),c=u[0],l=u[1],f=Mn(r,2),p=f[0],d=f[1],h=Mn(i,2),g=h[0],m=h[1],b=-g,y=-m;if(t&&a&&s){b=0,y=0;var E=[];if(c&&l?E.push([0,m],[g,0]):c?E.push([g,0]):l?E.push([0,m]):p&&d?E.push([0,m],[g,0]):p?E.push([g,0]):d&&E.push([0,m]),E.length){E.sort((function(t,e){return Ro(Ee([a,s],t))-Ro(Ee([a,s],e))}));var x=E[0];if(x[0]&&_a(a)>v)b=-x[0],y=s*_a(a+b)/_a(a)-s;else if(x[1]&&_a(s)>v){var S=s;y=-x[1],b=a*_a(s+y)/_a(S)-a}if(t&&l&&c)if(_a(b)>v&&_a(b)<_a(g))b*=_=_a(g)/_a(b),y*=_;else if(_a(y)>v&&_a(y)<_a(m)){var _;b*=_=_a(m)/_a(y),y*=_}else b=oa(-g,b),y=oa(-m,y)}}else b=a||c?-g:0,y=s||l?-m:0;return[b,y]}(r,[e,n],[S,_],[E,x],[oa(h.offset,b.offset),oa(g.offset,y.offset)]),2);return[{isBound:S,isSnap:E,offset:C[0]},{isBound:_,isSnap:x,offset:C[1]}]}function Ri(t,e,n,r){void 0===r&&(r=n);var i=$r(Zr(t),r.vertical,r.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:pi(t,n.vertical,n.horizontal,void 0,void 0,void 0,void 0),u=s.horizontal,c=s.vertical,l=Ti(o[0],u),f=Ti(a[0],c),p=_a(l),d=_a(f);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:l,dist:p,bounds:o,snap:u},vertical:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:f,dist:d,bounds:a,snap:c}}}function ki(t,e,n,r,i,o,a){void 0===a&&(a=[1,1]);var s=$r(e,n,r),u=s.horizontal,c=s.vertical,l=di(t,n,r,[],[],i,o,a),f=l.horizontal,p=l.vertical,d=Ti(u[0],f),h=Ti(c[0],p),v=_a(d),g=_a(h);return{horizontal:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:d,dist:v,bounds:u,snap:f},vertical:{isBound:c[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:h,dist:g,bounds:c,snap:p}}}function Ii(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}var zi={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var n=t.props,r=n.hideThrottleDragRotateLine,i=n.throttleDragRotate,o=n.zoom,a=t.getState(),s=a.dragInfo,u=a.beforeOrigin;if(r||!i||!s)return[];var c=s.dist;if(!c[0]&&!c[1])return[];var l=Ro(c),f=X(c,[0,0]);return[e.createElement("div",{className:po("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(l,"px"),transform:"translate(".concat(u[0],"px, ").concat(u[1],"px) rotate(").concat(f,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentGesto,o=t.state,a=o.gestos,s=o.style;if(a.draggable)return!1;a.draggable=i||t.targetGesto,n.datas={},n.left=parseFloat(s.left||"")||0,n.top=parseFloat(s.top||"")||0,n.bottom=parseFloat(s.bottom||"")||0,n.right=parseFloat(s.right||"")||0,n.startValue=[0,0],cr(t,e),Er(t,e,"translate"),function(t,e){e.absolutePoses=Lo(t.state)}(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var u=Uo(t,e,Dn({set:function(t){n.startValue=t}},yr(t,e)));return!1!==(r||Qo(t,"onDragStart",u))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,n.isPinch=!1),!!n.isDrag&&u},drag:function(t,e){if(e){lr(t,e,"translate");var n=e.datas,r=e.parentEvent,i=e.parentFlag,o=e.isPinch,a=e.deltaOffset,s=e.useSnap,u=e.isRequest,c=e.isGroup,l=e.parentThrottleDrag,f=e.distX,p=e.distY,d=n.isDrag,h=n.prevDist,v=n.prevBeforeDist,g=n.startValue;if(d){a&&(f+=a[0],p+=a[1]);var m=t.props,b=m.parentMoveable,y=c?0:m.throttleDrag||l||0,E=r?0:m.throttleDragRotate||0,x=0,S=!1,_=!1,C=!1,w=!1;if(!r&&E>0&&(f||p)){var D=m.startDragRotate||0,M=H(D+180*X([0,0],[f,p])/Math.PI,E)-D,O=p*Math.abs(Math.cos((M-90)/180*Math.PI)),T=Ro([f*Math.abs(Math.cos(M/180*Math.PI)),O]);x=M*Math.PI/180,f=T*Math.cos(x),p=T*Math.sin(x)}if(!o&&!r&&!i){var P=Mn(Pi(t,f,p,E,!s&&u||a,n),2),R=P[0],k=P[1];S=R.isSnap,_=R.isBound,C=k.isSnap,w=k.isBound,f+=R.offset,p+=k.offset}var I=ye(dr({datas:n,distX:f,distY:p}),g),z=ye(function(t){var e=t.datas,n=Mn(dr({datas:e,distX:t.distX,distY:t.distY}),2);return Se(pr(e,function(t){for(var e=Re(4),n=0;n<3;++n)e[12+n]=t[n]||0;return e}([n[0],n[1]])),ve([0,0,0],4),4)}({datas:n,distX:f,distY:p}),g);V(z,Zn),V(I,Zn),E||(S||_||(z[0]=H(z[0],y),I[0]=H(I[0],y)),C||w||(z[1]=H(z[1],y),I[1]=H(I[1],y)));var B=Ee(I,g),F=Ee(z,g),A=Ee(F,h),G=Ee(B,v);n.prevDist=F,n.prevBeforeDist=B,n.passDelta=A,n.passDist=F;var W=n.left+B[0],N=n.top+B[1],Y=n.right-B[0],j=n.bottom-B[1],L=fr(n,"translate(".concat(z[0],"px, ").concat(z[1],"px)"),"translate(".concat(F[0],"px, ").concat(F[1],"px)"));if(Sr(e,L),t.state.dragInfo.dist=r?[0,0]:F,r||b||!A.every((function(t){return!t}))||!G.some((function(t){return!t}))){var q=t.state,K=q.width,U=q.height,$=Uo(t,e,Dn({transform:L,dist:F,delta:A,translate:z,beforeDist:B,beforeDelta:G,beforeTranslate:I,left:W,top:N,right:Y,bottom:j,width:K,height:U,isPinch:o},Vo({transform:L},e)));return!r&&Qo(t,"onDrag",$),$}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return!(!r[0]&&!r[1])&&(n.deltaOffset=[0,0],this.drag(t,Dn(Dn({},e),{deltaOffset:r})))},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.dragInfo=null,r.isDrag){r.isDrag=!1;var i=$o(t,e,{});return!n&&Qo(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var u=Nr(t,this,"dragStart",[o||0,a||0],e,!1,"draggable"),c=u.childEvents,l=u.eventParams,f=Qo(t,"onDragGroupStart",Dn(Dn({},s),{targets:t.props.targets,events:l}));i.isDrag=!1!==f;var p=null!==(r=null===(n=c[0])||void 0===n?void 0:n.datas.startValue)&&void 0!==r?r:[0,0];return i.throttleOffset=[p[0]%1,p[1]%1],!!i.isDrag&&s},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,Dn(Dn({},e),{parentThrottleDrag:t.props.throttleDrag})),r=Nr(t,this,"drag",e.datas.passDelta,e,!1,"draggable").eventParams;if(n){var i=Dn({targets:t.props.targets,events:r},n);return Qo(t,"onDragGroup",i),i}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag){this.dragEnd(t,e);var r=Nr(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return Qo(t,"onDragGroupEnd",$o(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=!1;return{isControl:!1,requestStart:function(t){return o=t.useSnap,{datas:e,useSnap:o}},request:function(t){return"x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:r,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Bi(t,e){return{fixedPosition:mr(t,e),fixedDirection:e,fixedOffset:[0,0]}}function Fi(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,o=t.height,a=r?4:3,s=function(t,e,n){return[e?t[0]/(e/2)-1:0,n?t[1]/(n/2)-1:0]}(e,i,o);return{fixedPosition:Mo(n,e,a),fixedDirection:s,fixedOffset:[i?0:e[0],o?0:e[1]]}}var Ai=pa("resizable"),Gi={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:Vr("resizable"),dragControlCondition:Ai,viewClassName:fa("resizable"),dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,o=e.isGroup,a=e.parentDirection,s=e.parentGesto,u=e.datas,c=e.parentFixedDirection,l=e.parentEvent,f=Yo(a,i,r,u),p=t.state,d=p.target,h=p.width,v=p.height,g=p.gestos;if(!f||!d)return!1;if(g.resizable)return!1;g.resizable=s||t.controlGesto,!i&&cr(t,e),u.datas={},u.direction=f,u.startOffsetWidth=h,u.startOffsetHeight=v,u.prevWidth=0,u.prevHeight=0,u.minSize=[0,0],u.startWidth=p.inlineCSSWidth||p.cssWidth,u.startHeight=p.inlineCSSHeight||p.cssHeight,u.maxSize=[1/0,1/0],o||(u.minSize=[p.minOffsetWidth,p.minOffsetHeight],u.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";function b(t){u.ratio=t&&isFinite(t)?t:0}function y(t){var e=Bi(u.startPositions,t);u.fixedDirection=e.fixedDirection,u.fixedPosition=e.fixedPosition,u.fixedOffset=e.fixedOffset}function E(e){var n=Fi(t.state,e);u.fixedDirection=n.fixedDirection,u.fixedPosition=n.fixedPosition,u.fixedOffset=n.fixedOffset}function _(t){u.minSize=[G("".concat(t[0]),0)||0,G("".concat(t[1]),0)||0]}function C(t){var e=[t[0]||1/0,t[1]||1/0];S(e[0])&&!isFinite(e[0])||(e[0]=G("".concat(e[0]),0)||1/0),S(e[1])&&!isFinite(e[1])||(e[1]=G("".concat(e[1]),0)||1/0),u.maxSize=e}u.transformOrigin=m&&x(m)?m.split(" "):m,u.startOffsetMatrix=p.offsetMatrix,u.startTransformOrigin=p.transformOrigin,u.isWidth=null!==(n=null==e?void 0:e.parentIsWidth)&&void 0!==n?n:!f[0]&&!f[1]||f[0]||!f[1],u.startPositions=Lo(t.state),b(h/v),y(c||[-f[0],-f[1]]),u.setFixedDirection=y,u.setFixedPosition=E,u.setMin=_,u.setMax=C;var w=Uo(t,e,{direction:f,startRatio:u.ratio,set:function(t){var e=Mn(t,2),n=e[0],r=e[1];u.startWidth=n,u.startHeight=r},setMin:_,setMax:C,setRatio:b,setFixedDirection:y,setFixedPosition:E,setOrigin:function(t){u.transformOrigin=t},dragStart:zi.dragStart(t,(new ar).dragStart([0,0],e))}),D=l||Qo(t,"onResizeStart",w);return u.startFixedDirection=u.fixedDirection,u.startFixedPosition=u.fixedPosition,!1!==D&&(u.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),!!u.isResize&&w},dragControl:function(t,e){var n,r=e.datas,i=e.parentFlag,o=e.isPinch,a=e.parentKeepRatio,s=e.dragClient,u=e.parentDist,c=e.useSnap,l=e.isRequest,f=e.isGroup,p=e.parentEvent,d=e.resolveMatrix,h=r.isResize,v=r.transformOrigin,g=r.startWidth,m=r.startHeight,b=r.prevWidth,y=r.prevHeight,E=r.minSize,x=r.maxSize,S=r.ratio,_=r.startOffsetWidth,C=r.startOffsetHeight,w=r.isWidth;if(h){if(d){var D=t.state.is3d,M=r.startOffsetMatrix,O=r.startTransformOrigin,T=D?4:3,P=Fe(Cr(e)),R=Math.sqrt(P.length);T!==R&&(P=ge(P,R,T));var k=br(M,P,O,T),I=Oo(k,_,C,T);r.startPositions=I,r.nextTargetMatrix=P,r.nextAllMatrix=k}var z=Bo(t.props,"resizable"),B=z.resizeFormat,F=z.throttleResize,A=void 0===F?i?0:1:F,G=z.parentMoveable,W=z.keepRatioFinally,N=r.direction,j=N,X=0,L=0;N[0]||N[1]||(j=[1,1]);var q=S&&(null!=a?a:z.keepRatio)||!1,V=Mn(at(),2),K=V[0],U=V[1];p||(r.setFixedDirection(r.fixedDirection),Qo(t,"onBeforeResize",Uo(t,e,{startFixedDirection:r.startFixedDirection,startFixedPosition:r.startFixedPosition,setFixedDirection:function(t){var e;return r.setFixedDirection(t),e=Mn(at(),2),K=e[0],U=e[1],[K,U]},setFixedPosition:function(t){var e;return r.setFixedPosition(t),e=Mn(at(),2),K=e[0],U=e[1],[K,U]},boundingWidth:K,boundingHeight:U,setSize:function(t){var e;e=Mn(t,2),K=e[0],U=e[1]}},!0)));var $=s;s||($=!i&&o?function(t){return mr(Lo(t.state),[0,0])}(t):r.fixedPosition);var Z=[0,0];if(o||(Z=function(t,e,n,r,i,o,a){if(!oi(t,"resizable"))return[0,0];var s=a.fixedDirection,u=a.nextAllMatrix,c=t.state,l=c.allMatrix,f=c.is3d;return io(t,(function(t,r){return eo(u||l,e+t,n+r,s,i,f)}),e,n,r,i,o,a)}(t,K,U,N,$,!c&&l,r)),u&&(!u[0]&&(Z[0]=0),!u[1]&&(Z[1]=0)),q){j[0]&&j[1]&&Z[0]&&Z[1]&&(_a(Z[0])>_a(Z[1])?Z[1]=0:Z[0]=0);var Q=!Z[0]&&!Z[1];Q&&st(),j[0]&&!j[1]||Z[0]&&!Z[1]||Q&&w?(K+=Z[0],U=K/S):(!j[0]&&j[1]||!Z[0]&&Z[1]||Q&&!w)&&(U+=Z[1],K=U*S)}else K+=Z[0],U+=Z[1],K=Math.max(0,K),U=Math.max(0,U);n=Mn(Y([K,U],E,x,!!q&&S),2),K=n[0],U=n[1],st(),q&&(f||W)&&(w?U=K/S:K=U*S);var J=[(X=K-_)-b,(L=U-C)-y];r.prevWidth=X,r.prevHeight=L;var tt=Pr(t,K,U,$,v,r);if(G||!J.every((function(t){return!t}))||!tt.every((function(t){return!t}))){var et=zi.drag(t,or(e,t.state,tt,!!o,!1,"draggable")),nt=et.transform,rt=g+X,it=m+L,ot=Uo(t,e,Dn({width:rt,height:it,offsetWidth:Math.round(K),offsetHeight:Math.round(U),startRatio:S,boundingWidth:K,boundingHeight:U,direction:N,dist:[X,L],delta:J,isPinch:!!o,drag:et},Ko({style:{width:"".concat(rt,"px"),height:"".concat(it,"px")},transform:nt},et,e)));return!p&&Qo(t,"onResize",ot),ot}}function at(){var t=r.fixedDirection,n=ma(j,q,r,e);X=n.distWidth,L=n.distHeight;var i=j[0]-t[0]||q?Math.max(_+X,Zn):_,o=j[1]-t[1]||q?Math.max(C+L,Zn):C;return q&&_&&C&&(w?o=i/S:i=o*S),[i,o]}function st(){var t;B&&(t=Mn(B([K,U]),2),K=t[0],U=t[1]),K=H(K,A),U=H(U,A)}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,a=n.prevWidth,s=n.prevHeight;if(r&&!1!==t.props.checkResizableError){var u=t.state,c=u.width-(i+a),l=u.height-(o+s),f=_a(c)>3,p=_a(l)>3;return f&&(n.startWidth+=c,n.startOffsetWidth+=c,n.prevWidth+=c),p&&(n.startHeight+=l,n.startOffsetHeight+=l,n.prevHeight+=l),f||p?this.dragControl(t,e):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.parentEvent;if(n.isResize){n.isResize=!1;var i=$o(t,e,{});return!r&&Qo(t,"onResizeEnd",i),i}},dragGroupControlCondition:Ai,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,Dn(Dn({},e),{isGroup:!0}));if(!r)return!1;var i=Wr(t,"resizable",e),o=n.startOffsetWidth,a=n.startOffsetHeight;function s(){var t=n.minSize;i.forEach((function(e){var n=e.datas,r=n.minSize,i=n.startOffsetWidth,s=n.startOffsetHeight,u=o*(i?r[0]/i:0),c=a*(s?r[1]/s:0);t[0]=Math.max(t[0],u),t[1]=Math.max(t[1],c)}))}function u(){var t=n.maxSize;i.forEach((function(e){var n=e.datas,r=n.maxSize,i=n.startOffsetWidth,s=n.startOffsetHeight,u=o*(i?r[0]/i:0),c=a*(s?r[1]/s:0);t[0]=Math.min(t[0],u),t[1]=Math.min(t[1],c)}))}var c=Yr(t,this,"dragControlStart",e,(function(e,r){return jr(t,e,n,r)}));s(),u();var l=function(e){r.setFixedDirection(e),c.forEach((function(r,o){r.setFixedDirection(e),jr(t,r.moveable,n,i[o])}))};n.setFixedDirection=l;var f=Dn(Dn({},r),{targets:t.props.targets,events:c.map((function(t){return Dn(Dn({},t),{setMin:function(e){t.setMin(e),s()},setMax:function(e){t.setMax(e),u()}})})),setFixedDirection:l,setMin:function(t){r.setMin(t),s()},setMax:function(t){r.setMax(t),u()}}),p=Qo(t,"onResizeGroupStart",f);return n.isResize=!1!==p,!!n.isResize&&r},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var r=Bo(t.props,"resizable");Zo(t,"onBeforeResize",(function(n){Qo(t,"onBeforeResizeGroup",Uo(t,e,Dn(Dn({},n),{targets:r.targets}),!0))}));var i=this.dragControl(t,Dn(Dn({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,a=i.boundingHeight,s=i.dist,u=r.keepRatio,c=[o/(o-s[0]),a/(a-s[1])],l=n.fixedPosition,f=Yr(t,this,"dragControl",e,(function(e,n){var r=Mn(Se(Pe(t.rotation/180*Math.PI,3),[n.datas.originalX*c[0],n.datas.originalY*c[1],1],3),2),i=r[0],o=r[1];return Dn(Dn({},n),{parentDist:null,parentScale:c,dragClient:ye(l,[i,o]),parentKeepRatio:u})})),p=Dn({targets:r.targets,events:f},i);return Qo(t,"onResizeGroup",p),p}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize){this.dragControlEnd(t,e);var r=Yr(t,this,"dragControlEnd",e);return Qo(t,"onResizeGroupEnd",$o(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=0,r=0,i=!1,o=t.getRect();return{isControl:!0,requestStart:function(t){var n;return i=t.useSnap,{datas:e,parentDirection:t.direction||[1,1],parentIsWidth:null===(n=null==t?void 0:t.horizontal)||void 0===n||n,useSnap:i}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-o.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?r=t.offsetHeight-o.offsetHeight:"deltaHeight"in t&&(r+=t.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:t.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function Wi(t,e,n,r,i){var o=t.props.groupable,a=t.state,s=a.is3d?4:3,u=e.origin,c=Mo(t.state.rootMatrix,Ee([u[0],u[1]],o?[0,0]:[a.left,a.top]),s),l=ye([i.left,i.top],c);e.startAbsoluteOrigin=l,e.prevDeg=X(l,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=q(l,[n,r])}function Ni(t,e,n){var r=n.defaultDeg,i=n.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(360*a+t-r);return n.prevDeg=r+s,s}function Yi(t,e,n,r){return Ni(X(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function ji(t,e,n,r,i,o){var a=t.props.throttleRotate,s=void 0===a?0:a,u=n.prevSnapDeg,c=0,l=!1;if(o){var f=function(t,e,n,r){var i,o=t.props,a=null!==(i=o[ui])&&void 0!==i?i:5,s=o[ci];if(oi(t,"rotatable")){var u=e.pos1,c=e.pos2,l=e.pos3,f=e.pos4,p=e.origin,d=n*Math.PI/180,h=[u,c,l,f].map((function(t){return Ee(t,p)})),v=h.map((function(t){return Me(t,d)})),g=On(On([],Mn(function(t,e,n,r,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,a=Zr(t),s=a.left,u=a.top,c=a.right,l=a.bottom,f=s-r[0],p=c-r[0],d=u-r[1],h=l-r[1],v={left:f,top:d,right:p,bottom:h};if(!Jr(n,v,0))return[];var g=[];return[[f,0],[p,0],[d,1],[h,1]].forEach((function(t){var r=Mn(t,2),i=r[0],a=r[1];n.forEach((function(t){var n=X([0,0],t);g.push.apply(g,On([],Mn(function(t,e,n){var r=Ro(t),i=Math.sqrt(r*r-e*e)||0;return[i,-i].sort((function(e,r){return _a(e-t[n?0:1])-_a(r-t[n?0:1])})).map((function(t){return X([0,0],n?[t,e]:[e,t])}))}(t,i,a).map((function(t){return o+t-n})).filter((function(t){return!Jr(e,v,t)})).map((function(t){return H(180*t/Math.PI,Zn)}))),!1))}))})),g}(t,h,v,p,n)),!1),Mn(function(t,e,n,r,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,u=o.top,c=o.width,l=o.height,f=s-r[0],p=s+c-r[0],d=u-r[1],h=u+l-r[1],v=[[f,d],[p,d],[f,h],[p,h]],g=mr(n,[0,0]);if(!Mi(n,v,g,0))return[];var m=[],b=v.map((function(t){return[Ro(t),X([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=X([0,0],function(t){var e=Mn(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];if(!i)return[n[0],0];if(!o)return[0,n[1]];var a=o/i,s=-a*n[0]+n[1];return[-s/(a+1/a),s/(a*a+1)]}(t)),r=function(t){var e=Mn(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];if(!i)return _a(n[0]);if(!o)return _a(n[1]);var a=o/i;return _a((-a*n[0]+n[1])/Math.sqrt(Math.pow(a,2)+1))}(t);m.push.apply(m,On([],Mn(b.filter((function(t){var e=Mn(t,1)[0];return e&&r<=e})).map((function(t){var e=Mn(t,2),i=e[0],o=e[1],s=Math.acos(i?r/i:0);return[a+(o+s)-n,a+(o-s)-n]})).reduce((function(t,e){return t.push.apply(t,On([],Mn(e),!1)),t}),[]).filter((function(t){return!Mi(e,v,g,t)})).map((function(t){return H(180*t/Math.PI,Zn)}))),!1))})),m}(t,h,v,p,n)),!1);g.sort((function(t,e){return _a(t-n)-_a(e-n)}));var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:n}}if((null==s?void 0:s.length)&&a){var b=s.slice().sort((function(t,e){return so(t,r)-so(e,r)}))[0];if(so(b,r)<=a)return{isSnap:!0,dist:n+ao(r,b)-r}}return{isSnap:!1,dist:n}}(t,e,r,i+r);l=f.isSnap,c=i+f.dist}l||(c=H(i+r,s));var p=c-i;return n.prevSnapDeg=p,[p-u,p,c]}function Xi(t,e,n){var r=Mn(e,4),i=r[0],o=r[1],a=r[2],s=r[3];if("none"===t)return[];if(E(t))return t.map((function(t){return Xi(t,[i,o,a,s],n)[0]}));var u=Mn((t||"top").split("-"),2),c=u[0],l=u[1],f=[i,o];"left"===c?f=[a,i]:"right"===c?f=[o,s]:"bottom"===c&&(f=[s,a]);var p=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],d=Ao(f,n);if(l){var h="top"===l||"left"===l,v="bottom"===c||"left"===c;p=f[h&&!v||!h&&v?0:1]}return[[p,d]]}function Li(t,e){if(e.isRequest)return"rotatable"===e.requestAble;var n=e.inputEvent.target;if($(n,po("rotation-control"))||t.props.rotateAroundControls&&$(n,po("around-control"))||$(n,po("control"))&&$(n,po("rotatable")))return!0;var r=t.props.rotationTarget;return!!r&&ha(r,!0).some((function(t){return!!t&&(n===t||n.contains(t))}))}var qi={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[".rotation {\nposition: absolute;\nheight: 40px;\nwidth: 1px;\ntransform-origin: 50% 100%;\nheight: calc(40px * var(--zoom));\ntop: auto;\nleft: 0;\nbottom: 100%;\nwill-change: transform;\n}\n.rotation .rotation-line {\ndisplay: block;\nwidth: 100%;\nheight: 100%;\ntransform-origin: 50% 50%;\n}\n.rotation .rotation-control {\nborder-color: #4af;\nborder-color: var(--moveable-color);\nbackground:#fff;\ncursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\ncursor: alias;\n}\n.rotatable.direction.control.move {\ncursor: move;\n}\n"],viewClassName:function(t){return t.isDragging("rotatable")?po("view-rotation-dragging"):""},render:function(t,e){var n=Bo(t.props,"rotatable"),r=n.rotatable,i=n.rotationPosition,o=n.zoom,a=n.renderDirections,s=n.rotateAroundControls,u=n.resolveAblesWithRotatable,c=t.getState(),l=c.renderPoses,f=c.direction;if(!r)return null;var p=Xi(i,l,f),d=[];if(p.forEach((function(t,n){var r=Mn(t,2),i=r[0],a=r[1];d.push(e.createElement("div",{key:"rotation".concat(n),className:po("rotation"),style:{transform:"translate(-50%) translate(".concat(i[0],"px, ").concat(i[1],"px) rotate(").concat(a,"rad)")}},e.createElement("div",{className:po("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:po("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))})),a){var h=A(u||{}),v={};h.forEach((function(t){u[t].forEach((function(e){v[e]=t}))}));var g=[];E(a)&&(g=a.map((function(t){var e=v[t];return{data:e?{resolve:e}:{},classNames:e?["move"]:[],dir:t}}))),d.push.apply(d,On([],Mn(Xr(t,"rotatable",g,e)),!1))}return s&&d.push.apply(d,On([],Mn(Ur(t,e)),!1)),d},dragControlCondition:Li,dragControlStart:function(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=e.parentRotate,u=e.parentFlag,c=e.isPinch,l=e.isRequest,f=t.state,p=f.target,d=f.left,h=f.top,v=f.direction,g=f.beforeDirection,m=f.targetTransform,b=f.moveableClientRect,y=f.offsetMatrix,E=f.targetMatrix,x=f.allMatrix,S=f.width,_=f.height;if(!l&&!p)return!1;var C=t.getRect();i.rect=C,i.transform=m,i.left=d,i.top=h;var w=function(e){var n=Fi(t.state,e);i.fixedDirection=n.fixedDirection,i.fixedOffset=n.fixedOffset,i.fixedPosition=n.fixedPosition,A&&A.setFixedPosition(e)},D=function(e){var n=function(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,o=t.height,a=r?4:3;return{fixedPosition:Mo(n,[i/2*(1+e[0]),o/2*(1+e[1])],a),fixedDirection:e,fixedOffset:[0,0]}}(t.state,e);i.fixedDirection=n.fixedDirection,i.fixedOffset=n.fixedOffset,i.fixedPosition=n.fixedPosition,A&&A.setFixedDirection(e)},M=o,O=a;if(l||c||u){var T=s||0;i.beforeInfo={origin:C.beforeOrigin,prevDeg:T,defaultDeg:T,prevSnapDeg:0,startDist:0},i.afterInfo=Dn(Dn({},i.beforeInfo),{origin:C.origin}),i.absoluteInfo=Dn(Dn({},i.beforeInfo),{origin:C.origin,startValue:T})}else{var P=null===(r=e.inputEvent)||void 0===r?void 0:r.target;if(P){var R=P.getAttribute("data-direction")||"",k=er[R];if(k){i.isControl=!0,i.isAroundControl=$(P,po("around-control")),i.controlDirection=k;var I=P.getAttribute("data-resolve");I&&(i.resolveAble=I);var z=function(t,e,n){var r=16===t.length?4:3,i=e.map((function(e){return Mo(t,e,r)})),o=n.left,a=n.top;return i.map((function(t){return[t[0]+o,t[1]+a]}))}(f.rootMatrix,f.renderPoses,b);n=Mn(mr(z,k),2),M=n[0],O=n[1]}}i.beforeInfo={origin:C.beforeOrigin},i.afterInfo={origin:C.origin},i.absoluteInfo={origin:C.origin,startValue:C.rotation};var B=w;w=function(e){var n=f.is3d?4:3,r=Mn(ye(he(E,n),e),2),o=r[0],a=r[1],s=Se(y,ve([o,a],n)),u=Se(x,ve([e[0],e[1]],n));B(e);var c=f.posDelta;i.beforeInfo.origin=Ee(s,c),i.afterInfo.origin=Ee(u,c),i.absoluteInfo.origin=Ee(u,c),Wi(t,i.beforeInfo,M,O,b),Wi(t,i.afterInfo,M,O,b),Wi(t,i.absoluteInfo,M,O,b)},D=function(t){var e=mr([[0,0],[S,0],[0,_],[S,_]],t);w(e)}}i.startClientX=M,i.startClientY=O,i.direction=v,i.beforeDirection=g,i.startValue=0,i.datas={},Er(t,e,"rotate");var F=!1,A=!1;i.isControl&&i.resolveAble&&"resizable"===i.resolveAble&&(A=Gi.dragControlStart(t,Dn(Dn({},new ar("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition}))),A||(F=zi.dragStart(t,(new ar).dragStart([0,0],e))),w(function(t){var e=t.props,n=e.groupable,r=e.svgOrigin,i=t.getState(),o=i.offsetWidth,a=i.offsetHeight,s=i.svg,u=i.transformOrigin;return!n&&s&&r?ya(r,o,a):u}(t));var G=Uo(t,e,Dn(Dn({set:function(t){i.startValue=t*Math.PI/180},setFixedDirection:D,setFixedPosition:w},yr(t,e)),{dragStart:F,resizeStart:A})),W=Qo(t,"onRotateStart",G);return i.isRotate=!1!==W,f.snapRenderInfo={request:e.isRequest},!!i.isRotate&&G},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.clientDistX,s=e.clientDistY,u=e.parentRotate,c=e.parentFlag,l=e.isPinch,f=e.groupDelta,p=e.resolveMatrix,d=o.beforeDirection,h=o.beforeInfo,v=o.afterInfo,g=o.absoluteInfo,m=o.isRotate,b=o.startValue,y=o.rect,E=o.startClientX,x=o.startClientY;if(m){lr(t,e,"rotate");var S,_,C,w,D,M,O,T,P,R=function(t){return sr(t.datas.beforeTransform,[50,50],100,100).direction}(e),k=d*R,I=t.props.parentMoveable,z=180/Math.PI*b,B=g.startValue,F=!1,A=E+a,G=x+s;if(!c&&"parentDist"in e){var W=e.parentDist;_=W,D=W,T=W}else l||c?(_=Ni(u,d,h),D=Ni(u,k,v),T=Ni(u,k,g)):(_=Yi(A,G,d,h),D=Yi(A,G,k,v),T=Yi(A,G,k,g),F=!0);if(Qo(t,"onBeforeRotate",Uo(t,e,{beforeRotation:z+_,rotation:z+D,absoluteRotation:B+T,setRotation:function(t){_=D=t-z,T=D}},!0)),S=(n=Mn(ji(t,y,h,_,z,F),3))[0],_=n[1],C=n[2],w=(r=Mn(ji(t,y,v,D,z,F),3))[0],D=r[1],M=r[2],O=(i=Mn(ji(t,y,g,T,B,F),3))[0],T=i[1],P=i[2],O||w||S||I||p){var N=fr(o,"rotate(".concat(M,"deg)"),"rotate(".concat(D,"deg)"));p&&(o.fixedPosition=Or(t,o.targetAllTransform,o.fixedDirection,o.fixedOffset,o));var Y=function(t,e,n){var r=n.fixedDirection,i=n.fixedPosition,o=n.fixedOffset;return Tr(t,"rotate(".concat(e,"deg)"),r,i,o,n)}(t,D,o),j=Ee(ye(f||[0,0],Y),o.prevInverseDist||[0,0]);o.prevInverseDist=Y,o.requestValue=null;var X=Mr(t,N,j,l,e),L=X,H=q([A,G],g.startAbsoluteOrigin)-g.startDist,V=void 0;if("resizable"===o.resolveAble){var K=Gi.dragControl(t,Dn(Dn({},or(e,t.state,[e.deltaX,e.deltaY],!!l,!1,"resizable")),{resolveMatrix:!0,parentDistance:H}));K&&(V=K,L=Ko(L,K,e))}var U=Uo(t,e,Dn(Dn({delta:w,dist:D,rotate:M,rotation:M,beforeDist:_,beforeDelta:S,beforeRotate:C,beforeRotation:C,absoluteDist:T,absoluteDelta:O,absoluteRotate:P,absoluteRotation:P,isPinch:!!l,resize:V},X),L));return Qo(t,"onRotate",U),U}}},dragControlEnd:function(t,e){var n=e.datas;if(n.isRotate){n.isRotate=!1;var r=$o(t,e,{});return Qo(t,"onRotateEnd",r),r}},dragGroupControlCondition:Li,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,i=r.left,o=r.top,a=r.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var u=Yr(t,this,"dragControlStart",e,(function(t,e){var n=t.state,r=n.left,s=n.top,u=n.beforeOrigin,c=ye(Ee([r,s],[i,o]),Ee(u,a));return e.datas.startGroupClient=c,e.datas.groupClient=c,Dn(Dn({},e),{parentRotate:0})})),c=Qo(t,"onRotateGroupStart",Dn(Dn({},s),{targets:t.props.targets,events:u}));return n.isRotate=!1!==c,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){Zo(t,"onBeforeRotate",(function(n){Qo(t,"onBeforeRotateGroup",Uo(t,e,Dn(Dn({},n),{targets:t.props.targets}),!0))}));var r=this.dragControl(t,e);if(r){var i=n.beforeDirection,o=r.beforeDist,a=o/180*Math.PI,s=Yr(t,this,"dragControl",e,(function(t,e){var n=e.datas.startGroupClient,r=Mn(e.datas.groupClient,2),s=r[0],u=r[1],c=Mn(Me(n,a*i),2),l=c[0],f=c[1],p=[l-s,f-u];return e.datas.groupClient=[l,f],Dn(Dn({},e),{parentRotate:o,groupDelta:p})}));t.rotation=i*r.beforeRotation;var u=Dn({targets:t.props.targets,events:s,set:function(e){t.rotation=e},setGroupRotation:function(e){t.rotation=e}},r);return Qo(t,"onRotateGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate){this.dragControlEnd(t,e);var r=Yr(t,this,"dragControlEnd",e);return Qo(t,"onRotateGroupEnd",$o(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Hi(t,e){return function(t,e){var n,r=t.direction,i=t.classNames,o=t.size,a=t.pos,s=t.zoom,u=t.key,c="horizontal"===r,l=c?"Y":"X";return e.createElement("div",{key:u,className:i.join(" "),style:(n={},n[c?"width":"height"]="".concat(o),n.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(l,"(-50%) scale").concat(l,"(").concat(s,")"),n)})}(Dn(Dn({},t),{classNames:On([po("line","guideline",t.direction)],Mn(t.classNames),!1).filter((function(t){return t})),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map((function(t){return"".concat(H(t,.1),"px")}))}),e)}function Vi(t,e,n,r,i,o,a,s){var u=t.props.zoom;return n.map((function(t,n){var c=t.type,l=t.pos,f=[0,0];return f[a]=r,f[a?0:1]=-i+l,Hi({key:"".concat(e,"TargetGuideline").concat(n),classNames:[po("target","bold",c)],posValue:f,sizeValue:o,zoom:u,direction:e},s)}))}function Ki(t,e,n,r,i,o){var a=t.props,s=a.zoom,u=a.isDisplayInnerSnapDigit,c="horizontal"===e?ri:ii,l=i[c.start],f=i[c.end];return n.filter((function(t){var e=t.hide,n=t.elementRect;if(e)return!1;if(u&&n){var r=n.rect;if(r[c.start]<=l&&f<=r[c.end])return!1}return!0})).map((function(t,n){var i=t.pos,a=t.size,u=t.element,c=t.className,l=[-r[0]+i[0],-r[1]+i[1]];return Hi({key:"".concat(e,"-default-guideline-").concat(n),classNames:u?[po("bold"),c]:[po("normal"),c],direction:e,posValue:l,sizeValue:a,zoom:s},o)}))}function Ui(t,e,n,r,i,o,a,s){var u,c=t.props,l=c.snapDigit,f=void 0===l?0:l,p=c.isDisplaySnapDigit,d=void 0===p||p,h=c.snapDistFormat,v=void 0===h?function(t,e){return t}:h,g=c.zoom,m="horizontal"===e?"X":"Y",b="vertical"===e?"height":"width",y=Math.abs(i),E=d?parseFloat(y.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:po("guideline-group",e),style:(u={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},u[b]="".concat(y,"px"),u)},Hi({direction:e,classNames:[po(n),a],size:"100%",posValue:[0,0],sizeValue:y,zoom:g},s),s.createElement("div",{className:po("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},E>0?v(E,e):""))}function $i(t){var e,n,r=t.state,i=r.containerClientRect,o=r.hasFixed,a=i.overflow,s=i.scrollHeight,u=i.scrollWidth,c=i.clientHeight,l=i.clientWidth,f=i.clientLeft,p=i.clientTop,d=t.props,h=d.snapGap,v=void 0===h||h,g=d.verticalGuidelines,b=d.horizontalGuidelines,E=d.snapThreshold,x=void 0===E?5:E,S=d.maxSnapElementGuidelineDistance,_=void 0===S?1/0:S,C=d.isDisplayGridGuidelines,w=To(Lo(t.state)),D=w.top,M=w.left,O=w.bottom,T=w.right,P={top:D,left:M,bottom:O,right:T,center:(M+T)/2,middle:(D+O)/2},R=function(t){var e=t.state,n=t.props.elementGuidelines,r=void 0===n?[]:n;if(!r.length)return e.elementRects=[],[];var i,o,a=(e.elementRects||[]).filter((function(t){return!t.refresh})),s=r.map((function(t){return y(t)&&"element"in t?Dn(Dn({},t),{element:da(t.element,!0)}):{element:da(t,!0)}})).filter((function(t){return t.element})),u=(i=a.map((function(t){return t.element})),o=s.map((function(t){return t.element})),pt(i,o,Ye)),c=u.maintained,l=u.added,f=[];c.forEach((function(t){var e=Mn(t,2),n=e[0],r=e[1];f[r]=a[n]})),function(t,e){if(!e.length)return[];var n=t.props.groupable,r=t.state,i=r.containerClientRect,o=r.rootMatrix,a=r.is3d,s=r.offsetDelta,u=a?4:3,c=Mn(function(t,e,n){var r=Mo(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}(o,i,u),2),l=c[0],f=c[1],p=n?0:s[0],d=n?0:s[1];return e.map((function(t){var e=t.element.getBoundingClientRect(),n=e.left-l-p,r=e.top-f-d,i=r+e.height,a=n+e.width,s=Mn(aa(o,[n,r],u),2),c=s[0],h=s[1],v=Mn(aa(o,[a,i],u),2),g=v[0],m=v[1];return Dn(Dn({},t),{rect:{left:c,right:g,top:h,bottom:m,center:(c+g)/2,middle:(h+m)/2}})}))}(t,l.map((function(t){return s[t]}))).map((function(t,e){f[l[e]]=t})),e.elementRects=f;var p=ai(t.props.elementSnapDirections),d=[];return f.forEach((function(t){var e=t.element,n=t.top,r=void 0===n?p.top:n,i=t.left,o=void 0===i?p.left:i,a=t.right,s=void 0===a?p.right:a,u=t.bottom,c=void 0===u?p.bottom:u,l=t.center,f=void 0===l?p.center:l,h=t.middle,v=void 0===h?p.middle:h,g=t.className,m=t.rect,b=si({top:r,right:s,left:o,bottom:c,center:f,middle:v},m),y=b.horizontal,E=b.vertical,x=b.horizontalNames,S=b.verticalNames,_=m.top,C=m.left,w=m.right-C,D=m.bottom-_,M=[w,D];E.forEach((function(n,r){d.push({type:"vertical",element:e,pos:[H(n,.1),_],size:D,sizes:M,className:g,elementRect:t,elementDirection:ni[S[r]]||S[r],direction:""})})),y.forEach((function(n,r){d.push({type:"horizontal",element:e,pos:[C,H(n,.1)],size:w,sizes:M,className:g,elementRect:t,elementDirection:ni[x[r]]||x[r],direction:""})}))})),d}(t),k=On([],Mn(R),!1),I=(null!==(n=null===(e=r.snapThresholdInfo)||void 0===e?void 0:e.multiples)&&void 0!==n?n:[1,1]).map((function(t){return t*x}));v&&k.push.apply(k,On([],Mn(function(t,e,n){var r=t.props,i=r.maxSnapElementGuidelineDistance,o=void 0===i?1/0:i,a=r.maxSnapElementGapDistance,s=void 0===a?1/0:a,u=t.state.elementRects,c=[];return[["vertical",ri,ii],["horizontal",ii,ri]].forEach((function(t){var r=Mn(t,3),i=r[0],a=r[1],l=r[2],f=e[a.start],p=e[a.end],d=e[a.center],h=e[l.start],v=e[l.end],g={left:n[0],top:n[1]};function m(t){var e=t.rect,n=g[a.start];return e[a.end]<f+n?f-e[a.end]:p-n<e[a.start]?e[a.start]-p:-1}var b=u.filter((function(t){var e=t.rect;return!(e[l.start]>v||e[l.end]<h)&&m(t)>0})).sort((function(t,e){return m(t)-m(e)})),y=[];b.forEach((function(t){b.forEach((function(e){if(t!==e){var n=t.rect,r=e.rect,i=n[l.start],o=n[l.end],a=r[l.start];i>r[l.end]||a>o||y.push([t,e])}}))})),y.forEach((function(t){var n=Mn(t,2),r=n[0],u=n[1],l=r.rect,h=u.rect,v=l[a.start],m=l[a.end],b=h[a.start],y=h[a.end],E=g[a.start],x=0,S=0,_=!1,C=!1,w=!1;if(m<=f&&p<=b){if(C=!0,_a((S=m+(x=(b-m-(p-f))/2)+(p-f)/2)-d)>E)return}else if(m<b&&y<f+E){if(_=!0,_a((S=y+(x=b-m))-f)>E)return}else{if(!(m<b&&p-E<v))return;if(w=!0,_a((S=v-(x=b-m))-p)>E)return}x&&Zi(e,h,i,o)&&(x>s||c.push({type:i,pos:"vertical"===i?[S,0]:[0,S],element:u.element,size:0,className:u.className,isStart:_,isCenter:C,isEnd:w,gap:x,hide:!0,gapRects:[r,u],direction:"",elementDirection:""}))}))})),c}(t,P,I)),!1));var z=Dn({},r.snapOffset||{left:0,top:0,bottom:0,right:0});if(k.push.apply(k,On([],Mn(function(t,e,n,r,i,o,a){void 0===r&&(r=0),void 0===i&&(i=0);var s=t.props,u=t.state,c=s.snapGridWidth,l=void 0===c?0:c,f=s.snapGridHeight,p=void 0===f?0:f,d=[],h=o.left,v=o.top,g=[0,0];!function(t,e,n,r){var i,o,a=t.props,s=t.state,u=a.snapGridAll,c=a.snapGridWidth,l=void 0===c?0:c,f=a.snapGridHeight,p=void 0===f?0:f,d=s.snapRenderInfo,h=d&&((null===(i=d.direction)||void 0===i?void 0:i[0])||(null===(o=d.direction)||void 0===o?void 0:o[1])),v=t.moveables;if(u&&v&&h&&(l||p)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var g=t.getRect(),b=g.children,y=d.direction;if(b){var E=y.map((function(t,i){var o=0===i?{snapSize:l,posName:"left",sizeName:"width",clientOffset:r.left-e}:{snapSize:p,posName:"top",sizeName:"height",clientOffset:r.top-n},a=o.snapSize,s=o.posName,u=o.sizeName,c=o.clientOffset;if(!a)return{dir:t,multiple:1,snapSize:a,snapOffset:0};var f=g[u],d=g[s],h=K(b.map((function(t){return[t[s]-d,t[u],f-t[u]-t[s]+d]}))).filter((function(t){return t})).sort((function(t,e){return t-e})),v=h[0],y=h.map((function(t){return H(t/v,.1)*a})),E=1,x=H(f/v,.1);for(E=1;E<=10&&!y.every((function(t){return t*E%1==0}));++E);var S=(1-t)/2,_=m(d-c,d-c+f,S,1-S);return{multiple:x*E,dir:t,snapSize:a,snapOffset:Math.round(_/a)}})),x=E.map((function(t){return t.multiple||1}));s.snapThresholdInfo.multiples=x,s.snapThresholdInfo.offset=E.map((function(t){return t.snapOffset})),E.forEach((function(t,e){t.snapSize}))}}else s.snapThresholdInfo=null}(t,r,i,o);var b=u.snapThresholdInfo,y=l,E=p;if(b&&(l*=b.multiples[0]||1,p*=b.multiples[1]||1,g=b.offset),p){for(var x=function(t){d.push({type:"horizontal",pos:[h,H(g[1]*E+t-i+v,.1)],className:po("grid-guideline"),size:e,hide:!a,direction:"",grid:!0})},S=0;S<=2*n;S+=p)x(S);for(S=-p;S>=-n;S-=p)x(S)}if(l){for(x=function(t){d.push({type:"vertical",pos:[H(g[0]*y+t-r+h,.1),v],className:po("grid-guideline"),size:n,hide:!a,direction:"",grid:!0})},S=0;S<=2*e;S+=l)x(S);for(S=-l;S>=-e;S-=l)x(S)}return d}(t,a?u:l,a?s:c,f,p,z,C)),!1)),o){var B=i.left,F=i.top;z.left+=B,z.top+=F,z.right+=B,z.bottom+=F}return k.push.apply(k,On([],Mn(Ji(b||!1,g||!1,a?u:l,a?s:c,f,p,z)),!1)),k=k.filter((function(t){var e=t.element,n=t.elementRect,r=t.type;if(!e||!n)return!0;var i=n.rect;return Zi(P,i,r,_)})),k}function Zi(t,e,n,r){return"horizontal"===n?_a(t.right-e.left)<=r||_a(t.left-e.right)<=r||t.left<=e.right&&e.left<=t.right:"vertical"!==n||_a(t.bottom-e.top)<=r||_a(t.top-e.bottom)<=r||t.top<=e.bottom&&e.top<=t.bottom}function Qi(t,e){return t?t.map((function(t){var n=y(t)?t:{pos:t},r=n.pos;return S(r)?n:Dn(Dn({},n),{pos:G(r,e)})})):[]}function Ji(t,e,n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var s=[],u=a.left,c=a.top,l=a.bottom,f=n+a.right-u,p=r+l-c;return Qi(t,p).forEach((function(t){s.push({type:"horizontal",pos:[u,H(t.pos-o+c,.1)],size:f,className:t.className,direction:""})})),Qi(e,f).forEach((function(t){s.push({type:"vertical",pos:[H(t.pos-i+u,.1),c],size:p,className:t.className,direction:""})})),s}function to(t){var e=t.state,n=e.container,r=t.props.snapContainer||n;if(e.snapContainer===r&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(n!==r){var a=da(r,!0);if(a){var s=No(a),u=va(e,[s.left-i.left,s.top-i.top]),c=va(e,[s.right-i.right,s.bottom-i.bottom]);o.left=H(u[0],1e-5),o.top=H(u[1],1e-5),o.right=H(c[0],1e-5),o.bottom=H(c[1],1e-5)}}return e.snapContainer=r,e.snapOffset=o,e.guidelines=$i(t),e.enableSnap=!0,!0}function eo(t,e,n,r,i,o){var a=Oo(t,e,n,o?4:3);return Xo(a,Ee(i,mr(a,r)))}function no(t){return t?t/_a(t):0}function ro(t,e,n,r,i,o){var a=function(t,e,n){var r=[];if(n)1!==_a(e[0])||1!==_a(e[1])?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach((function(t){[1,-1].forEach((function(n){var o=[t*i[0],n*i[1]];e[0]===o[0]&&e[1]===o[1]||r.push([e,o])}))}))}else t[0]?(1===_a(e[0])?[1]:[1,-1]).forEach((function(n){r.push([[e[0],-1],[n*t[0],-1]],[[e[0],0],[n*t[0],0]],[[e[0],1],[n*t[0],1]])})):t[1]&&(1===_a(e[1])?[1]:[1,-1]).forEach((function(n){r.push([[-1,e[1]],[-1,n*t[1]]],[[0,e[1]],[0,n*t[1]]],[[1,e[1]],[1,n*t[1]]])}));return r}(n,o.fixedDirection,r),s=Di(t,e,n,r),u=On(On([],Mn(function(t,e,n,r,i,o){return n.map((function(n){var a=Mn(n,2),s=a[0],u=a[1],c=mr(e,s),l=mr(e,u),f=r?function(t,e,n,r){var i=function(t,e,n){var r=Zr(t),i=r.left,o=r.top,a=r.right,s=r.bottom,u=Mn(n,2),c=u[0],l=u[1],f=Mn(Ee(n,e),2),p=f[0],d=f[1];_a(p)<Zn&&(p=0),_a(d)<Zn&&(d=0);var h=d>0,v=p>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(0===p&&0===d)return{vertical:g,horizontal:m};if(0===p)h?s<l&&(m.pos=s,m.offset=l-s):o>l&&(m.pos=o,m.offset=l-o);else if(0===d)v?a<c&&(g.pos=a,g.offset=c-a):i>c&&(g.pos=i,g.offset=c-i);else{var b=d/p,y=n[1]-b*c,E=0,x=0,S=!1;v&&a<=c?(E=b*a+y,x=a,S=!0):!v&&c<=i&&(E=b*i+y,x=i,S=!0),S&&(E<o||E>s)&&(S=!1),S||(h&&s<=l?(x=((E=s)-y)/b,S=!0):!h&&l<=o&&(x=((E=o)-y)/b,S=!0)),S&&(g.isBound=!0,g.pos=x,g.offset=c-x,m.isBound=!0,m.pos=E,m.offset=l-E)}return{vertical:g,horizontal:m}}(t,e,n),o=i.horizontal,a=i.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var r=Mn(n,2),i=r[0],o=r[1],a=Mn(e,2),s=a[0],u=a[1],c=Mn(Ee(n,e),2),l=c[0],f=c[1],p=f>0,d=l>0;l=la(l),f=la(f);var h={isSnap:!1,offset:0,pos:0},v={isSnap:!1,offset:0,pos:0};if(0===l&&0===f)return{vertical:h,horizontal:v};var g=pi(t,l?[i]:[],f?[o]:[],[],[],void 0,void 0),m=g.vertical,b=g.horizontal;m.posInfos.filter((function(t){var e=t.pos;return d?e>=s:e<=s})),b.posInfos.filter((function(t){var e=t.pos;return p?e>=u:e<=u})),m.isSnap=m.posInfos.length>0,b.isSnap=b.posInfos.length>0;var y=gi(m),E=y.isSnap,x=y.guideline,S=gi(b),_=S.isSnap,C=S.guideline,w=_?C.pos[1]:0,D=E?x.pos[0]:0;if(0===l)_&&(v.isSnap=!0,v.pos=C.pos[1],v.offset=o-v.pos);else if(0===f)E&&(h.isSnap=!0,h.pos=D,h.offset=i-D);else{var M=f/l,O=n[1]-M*i,T=0,P=0,R=!1;E?(T=M*(P=D)+O,R=!0):_&&(P=((T=w)-O)/M,R=!0),R&&(h.isSnap=!0,h.pos=P,h.offset=i-P,v.isSnap=!0,v.pos=T,v.offset=o-T)}return{vertical:h,horizontal:v}}(t,e,n),u=s.horizontal,c=s.vertical,l=Ii(o,u),f=Ii(a,c),p=_a(l),d=_a(f);return{horizontal:{isBound:o.isBound,isSnap:u.isSnap,offset:l,dist:p},vertical:{isBound:a.isBound,isSnap:c.isSnap,offset:f,dist:d}}}(t,c,l,i):Ri(t,i,{vertical:[l[0]],horizontal:[l[1]]}),p=f.horizontal,d=p.offset,h=p.isBound,v=p.isSnap,g=f.vertical,m=g.offset,b=g.isBound,y=g.isSnap,E=Ee(u,s);if(!m&&!d)return{isBound:b||h,isSnap:y||v,sign:E,offset:[0,0]};var x=function(t,e,n,r){var i=X(t,e)/Math.PI*180,o=n.vertical,a=o.isBound,s=o.isSnap,u=o.dist,c=n.horizontal,l=c.isBound,f=c.isSnap,p=i%180,d=p<3||p>177,h=p>87&&p<93;return c.dist<u&&(a||s&&!h&&(!r||!d))?"vertical":!l&&(!f||d||r&&h)?"":"horizontal"}(c,l,f,r);if(!x)return{sign:E,isBound:!1,isSnap:!1,offset:[0,0]};var S="vertical"===x,_=[0,0];return _=(_=r||1!==_a(u[0])||1!==_a(u[1])||s[0]===u[0]||s[1]===u[1]?Oi(c,l,-(S?m:d),S,o).offset:hr({datas:o,distX:-m,distY:-d})).map((function(t,e){return t*(E[e]?2/E[e]:0)})),{sign:E,isBound:S?b:h,isSnap:S?y:v,offset:_}}))}(t,e,a,r,i,o)),!1),Mn(wi(t,s,o)),!1),c=yi(u,0),l=yi(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:l.isBound,offset:l.offset[1]}}}function io(t,e,n,r,i,o,a,s){for(var u=Lo(t.state),c=t.props.keepRatio,l=0,f=0,p=0;p<2;++p){var d=ro(t,e(l,f),i,c,a,s),h=d.width,v=d.height,g=h.isBound,m=v.isBound,b=h.offset,y=v.offset;if(1===p&&(g||(b=0),m||(y=0)),0===p&&a&&!g&&!m)return[0,0];if(c){var E=_a(b)*(n?1/n:1),x=_a(y)*(r?1/r:1);(g&&m?E<x:m||!g&&E<x)?b=n*y/r:y=r*b/n}l+=b,f+=y}if(!c&&i[0]&&i[1]){var S=function(t,e,n,r,i){var o=[-n[0],-n[1]],a=t.state,s=a.width,u=a.height,c=t.props.bounds,l=1/0,f=1/0;if(c){var p=[[n[0],-n[1]],[-n[0],n[1]]],d=c.left,h=void 0===d?-1/0:d,v=c.top,g=void 0===v?-1/0:v,m=c.right,b=void 0===m?1/0:m,y=c.bottom,E=void 0===y?1/0:y;p.forEach((function(t){var n=t[0]!==o[0],a=t[1]!==o[1],c=mr(e,t),p=360*X(r,c)/Math.PI;if(a){var d=c.slice();(_a(p-360)<2||_a(p-180)<2)&&(d[1]=r[1]);var v=Oi(r,d,(r[1]<c[1]?E:g)-c[1],!1,i),m=Mn(v.offset,2)[1],y=v.isOutside;isNaN(m)||(f=u+(y?1:-1)*_a(m))}if(n){d=c.slice(),(_a(p-90)<2||_a(p-270)<2)&&(d[0]=r[0]);var x=Oi(r,d,(r[0]<c[0]?b:h)-c[0],!0,i),S=Mn(x.offset,1)[0],_=x.isOutside;isNaN(S)||(l=s+(_?1:-1)*_a(S))}}))}return{maxWidth:l,maxHeight:f}}(t,u,i,o,s),_=S.maxWidth,C=S.maxHeight,w=Mn(function(t,e,n,r,i,o,a,s,u){var c=mr(e,a),l=Ri(t,s,{vertical:[c[0]],horizontal:[c[1]]}),f=l.horizontal.offset,p=l.vertical.offset;if(H(p,$n)||H(f,$n)){var d=Mn(hr({datas:u,distX:-p,distY:-f}),2),h=d[0],v=d[1];return[Math.min(i||1/0,n+a[0]*h)-n,Math.min(o||1/0,r+a[1]*v)-r]}return[0,0]}(t,e(l,f).map((function(t){return t.map((function(t){return H(t,$n)}))})),n+l,r+f,_,C,i,a,s),2);l+=b=w[0],f+=y=w[1]}return[l,f]}function oo(t){return t<0&&(t=t%360+360),t%360}function ao(t,e){e=oo(e);var n=Math.floor(t/360),r=360*n+360-e,i=360*n+e;return _a(t-r)<_a(t-i)?r:i}function so(t,e){t=oo(t),e=oo(e);var n=oo(t-e);return Math.min(n,360-n)}function uo(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(n){var r=n.guideline;z(e,(function(t){return t.guideline===r}))||(r.direction="",e.push({guideline:r,posInfo:t}))}))})),e.map((function(t){var e=t.guideline,n=t.posInfo;return Dn(Dn({},e),{direction:n.direction})}))}function co(t,e,n,r,i,o){var a=$r(Zr(t,o),e,n),s=a.vertical,u=a.horizontal,c={left:!1,top:!1,right:!1,bottom:!1};s.forEach((function(t){t.isBound&&("start"===t.direction&&(c.left=!0),"end"===t.direction&&(c.right=!0),r.push({type:"bounds",pos:t.pos}))})),u.forEach((function(t){t.isBound&&("start"===t.direction&&(c.top=!0),"end"===t.direction&&(c.bottom=!0),i.push({type:"bounds",pos:t.pos}))}));var l=function(t){var e=t.props.innerBounds,n={left:!1,top:!1,right:!1,bottom:!1};if(!e)return{boundMap:n,vertical:[],horizontal:[]};var r=t.getRect(),i=[r.pos1,r.pos2,r.pos3,r.pos4],o=mr(i,[0,0]),a=e.left,s=e.top,u=e.width,c=e.height,l=[[a,s],[a,s+c]],f=[[a,s],[a+u,s]],p=[[a+u,s],[a+u,s+c]],d=[[a,s+c],[a+u,s+c]],h=Di(t,i,[0,0],!1),v=[],g=[];return h.forEach((function(t){var e=t.line,r=t.lineConstants,i=Ei(o,e),h=i.horizontal,m=i.vertical,b=Ci(e,r,f,m,1,!0),y=Ci(e,r,d,m,1,!0),E=Ci(e,r,l,h,1,!0),x=Ci(e,r,p,h,1,!0);b.isBound&&!n.top&&(v.push(s),n.top=!0),y.isBound&&!n.bottom&&(v.push(s+c),n.bottom=!0),E.isBound&&!n.left&&(g.push(a),n.left=!0),x.isBound&&!n.right&&(g.push(a+u),n.right=!0)})),{boundMap:n,horizontal:v,vertical:g}}(t),f=l.boundMap,p=l.vertical,d=l.horizontal;return p.forEach((function(t){I(r,(function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t}))>=0||r.push({type:"bounds",pos:t})})),d.forEach((function(t){I(i,(function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t}))>=0||i.push({type:"bounds",pos:t})})),{boundMap:c,innerBoundMap:f}}var lo=pa("",["resizable","scalable"]),fo={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",ui,ci,li,fi,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[":host {\n--bounds-color: #d66;\n}\n.guideline {\npointer-events: none;\nz-index: 2;\n}\n.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}\n.guideline-group {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.guideline-group .size-value {\nposition: absolute;\ncolor: #f55;\nfont-size: 12px;\nfont-size: calc(12px * var(--zoom));\nfont-weight: bold;\n}\n.guideline-group.horizontal .size-value {\ntransform-origin: 50% 100%;\ntransform: translateX(-50%);\nleft: 50%;\nbottom: 5px;\nbottom: calc(2px + 3px * var(--zoom));\n}\n.guideline-group.vertical .size-value {\ntransform-origin: 0% 50%;\ntop: 50%;\ntransform: translateY(-50%);\nleft: 5px;\nleft: calc(2px + 3px * var(--zoom));\n}\n.guideline.gap {\nbackground: #f55;\n}\n.size-value.gap {\ncolor: #f55;\n}\n"],render:function(t,e){var n=t.state,r=n.top,i=n.left,o=n.pos1,a=n.pos2,s=n.pos3,u=n.pos4,c=n.snapRenderInfo,l=t.props.snapRenderThreshold,f=void 0===l?1:l;if(!c||!c.render||!oi(t,""))return xa(t,"boundMap",{left:!1,top:!1,right:!1,bottom:!1},(function(t){return JSON.stringify(t)})),xa(t,"innerBoundMap",{left:!1,top:!1,right:!1,bottom:!1},(function(t){return JSON.stringify(t)})),[];n.guidelines=$i(t);var p=Math.min(o[0],a[0],s[0],u[0]),d=Math.min(o[1],a[1],s[1],u[1]),h=c.externalPoses||[],v=Lo(t.state),g=[],m=[],b=[],y=[],E=[],x=To(v),S=x.width,_=x.height,C=x.top,w=x.left,D=x.bottom,M=x.right,O={left:w,right:M,top:C,bottom:D,center:(w+M)/2,middle:(C+D)/2},T=h.length>0,P=T?To(h):{};if(!c.request){if(c.direction&&E.push(function(t,e,n,r,i){var o=[];n[0]&&n[1]?o=[n,[-n[0],n[1]],[n[0],-n[1]]]:n[0]||n[1]?t.props.keepRatio?o.push([-1,-1],[-1,1],[1,-1],[1,1],n):(o.push.apply(o,On([],Mn(function(t,e){return vr(e).map((function(e){return t[e]}))}([[-1,-1],[1,-1],[-1,-1],[1,1]],n)),!1)),o.length>1&&o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2])):[[-1,-1],[1,-1],[1,1],[-1,1]].forEach((function(t,e,n){var r=n[e+1]||n[0];o.push(t),o.push([(t[0]+r[0])/2,(t[1]+r[1])/2])}));var a=o.map((function(t){return mr(e,t)})),s=pi(t,a.map((function(t){return t[0]})),a.map((function(t){return t[1]})),o.map((function(t){return hi(t[0])})),o.map((function(t){return hi(t[1])})),r,i),u=hi(o.map((function(t){return t[0]}))[s.vertical.index]),c=hi(o.map((function(t){return t[1]}))[s.horizontal.index]);return{vertical:Dn(Dn({},s.vertical),{direction:u}),horizontal:Dn(Dn({},s.horizontal),{direction:c})}}(t,v,c.direction,f,f)),c.snap){var R=To(v);c.center&&(R.middle=(R.top+R.bottom)/2,R.center=(R.left+R.right)/2),E.push(vi(t,R,f,f))}T&&(c.center&&(P.middle=(P.top+P.bottom)/2,P.center=(P.left+P.right)/2),E.push(vi(t,P,f,f))),E.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;g.push.apply(g,On([],Mn(e.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),!1)),m.push.apply(m,On([],Mn(n.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),!1)),b.push.apply(b,On([],Mn(uo(e)),!1)),y.push.apply(y,On([],Mn(uo(n)),!1))}))}var k=co(t,[w,M],[C,D],g,m),I=k.boundMap,z=k.innerBoundMap;T&&co(t,[P.left,P.right],[P.top,P.bottom],g,m,c.externalBounds);var B=On(On([],Mn(b),!1),Mn(y),!1),F=B.filter((function(t){return t.element&&!t.gapRects})),A=B.filter((function(t){return t.gapRects})).sort((function(t,e){return t.gap-e.gap}));Qo(t,"onSnap",{guidelines:B.filter((function(t){return!t.element})),elements:F,gaps:A},!0);var G=xa(t,"boundMap",I,(function(t){return JSON.stringify(t)}),{left:!1,top:!1,right:!1,bottom:!1}),W=xa(t,"innerBoundMap",z,(function(t){return JSON.stringify(t)}),{left:!1,top:!1,right:!1,bottom:!1});return I!==G&&z!==W||Qo(t,"onBound",{bounds:I,innerBounds:z},!0),On(On(On(On(On(On([],Mn(function(t,e,n,r,i){var o=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach((function(s){var u=e.filter((function(t){return t.type===s})),c="vertical"===s?1:0,l=c?0:1,f=function(t,e,n,r){var i="vertical"===t?0:1,o="vertical"===t?1:0,a=i?ri:ii,s=n[a.start],u=n[a.end];return ra(e,(function(t){return t.pos[i]})).map((function(e){var n=[],c=[];return e.forEach((function(e){var l,f,p=e.element,d=e.elementRect.rect;if(d[a.end]<s)n.push(e);else if(u<d[a.start])c.push(e);else if(d[a.start]<=s&&u<=d[a.end]&&r){var h=e.pos,v={element:p,rect:Dn(Dn({},d),(l={},l[a.end]=d[a.start],l))},g={element:p,rect:Dn(Dn({},d),(f={},f[a.start]=d[a.end],f))},m=[0,0],b=[0,0];m[i]=h[i],m[o]=h[o],b[i]=h[i],b[o]=h[o]+e.size,n.push({type:t,pos:m,size:0,elementRect:v,direction:"",elementDirection:"end"}),c.push({type:t,pos:b,size:0,elementRect:g,direction:"",elementDirection:"start"})}})),n.sort((function(t,e){return e.pos[o]-t.pos[o]})),c.sort((function(t,e){return t.pos[o]-e.pos[o]})),{total:e,start:n,end:c,inner:[]}}))}(s,u,r,o),p=c?ii:ri,d=c?ri:ii,h=r[p.start],v=r[p.end];f.forEach((function(e){var o=e.total,u=e.start,f=e.end,g=e.inner,m=n[l]+o[0].pos[l]-r[d.start],b=r;u.forEach((function(e){var r=e.elementRect.rect,o=b[p.start]-r[p.end];if(o>0){var u=[0,0];u[c]=n[c]+b[p.start]-h-o,u[l]=m,a.push(Ui(t,s,"dashed",a.length,o,u,e.className,i))}b=r})),b=r,f.forEach((function(e){var r=e.elementRect.rect,o=r[p.start]-b[p.end];if(o>0){var u=[0,0];u[c]=n[c]+b[p.end]-h,u[l]=m,a.push(Ui(t,s,"dashed",a.length,o,u,e.className,i))}b=r})),g.forEach((function(e){var r=e.elementRect.rect,o=h-r[p.start],u=r[p.end]-v,f=[0,0],d=[0,0];f[c]=n[c]-o,f[l]=m,d[c]=n[c]+v-h,d[l]=m,a.push(Ui(t,s,"dashed",a.length,o,f,e.className,i)),a.push(Ui(t,s,"dashed",a.length,u,d,e.className,i))}))}))})),a}(t,F,[p,d],O,e)),!1),Mn(function(t,e,n,r,i){var o=[];return["horizontal","vertical"].forEach((function(a){var s=e.filter((function(t){return t.type===a})).slice(0,1),u="vertical"===a?0:1,c=u?0:1,l=u?ii:ri,f=u?ri:ii,p=r[l.start],d=r[l.end],h=r[f.start],v=r[f.end];s.forEach((function(e){var r=e.gap,a=e.gapRects,s=Math.max.apply(Math,On([h],Mn(a.map((function(t){return t.rect[f.start]}))),!1)),g=Math.min.apply(Math,On([v],Mn(a.map((function(t){return t.rect[f.end]}))),!1)),m=(s+g)/2;s!==g&&m!==(h+v)/2&&a.forEach((function(e){var a=e.rect,s=e.className,f=[n[0],n[1]];if(a[l.end]<p)f[u]+=a[l.end]-p;else{if(!(d<a[l.start]))return;f[u]+=a[l.start]-p-r}f[c]+=m-h,o.push(Ui(t,u?"vertical":"horizontal","gap",o.length,r,f,s,i))}))}))})),o}(t,A,[p,d],O,e)),!1),Mn(Ki(t,"horizontal",y,[i,r],O,e)),!1),Mn(Ki(t,"vertical",b,[i,r],O,e)),!1),Mn(Vi(t,"horizontal",m,p,r,S,0,e)),!1),Mn(Vi(t,"vertical",g,d,i,_,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},to(t)},drag:function(t){var e=t.state;to(t)||(e.guidelines=$i(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){return!(!lo(t,e)&&!Li(t,e))||(!e.isRequest&&e.inputEvent?$(e.inputEvent.target,po("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,to(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,to(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function po(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.apply(void 0,On([Hn],Mn(t),!1))}function ho(t){t()}function vo(t){return t&&"none"!==t?y(t)?t:Fe(t):[1,0,0,1,0,0]}function go(t,e,n){return me(e,Ie(n,e),t,Ie(n.map((function(t){return-t})),e))}function mo(t){return t?t.split(" "):["0","0"]}function bo(t){var e=Gr(t)("transform");if(e&&"none"!==e)return e;if("transform"in t){var n=t.transform.baseVal;if(!n)return"";var r=n.length;if(!r)return"";for(var i=[],o=function(t){var e=n[t].matrix;i.push("matrix(".concat(["a","b","c","d","e","f"].map((function(t){return e[t]})).join(", "),")"))},a=0;a<r;++a)o(a);return i.join(" ")}return""}function yo(t,e,n,r,i){var o,a,s,u,c=nt(t)||rt(t),l=!1;if(!t||n)s=t;else{var f=null===(o=null==t?void 0:t.assignedSlot)||void 0===o?void 0:o.parentElement,p=t.parentElement;f?(l=!0,u=p,s=f):s=p}for(var d=!1,h=t===e||s===e,v="relative",g=1,m=parseFloat(null==i?void 0:i("zoom"))||1,b=null==i?void 0:i("position");s&&s!==c;){e===s&&(h=!0);var y=Gr(s),E=s.tagName.toLowerCase(),x=bo(s),S=y("willChange"),_=parseFloat(y("zoom"))||1;if(v=y("position"),r&&1!==_){g=_;break}if(!n&&r&&1!==m&&b&&"absolute"!==b||"svg"===E||"foreignobject"===E||"static"!==v||x&&"none"!==x||"transform"===S)break;var C=null===(a=null==t?void 0:t.assignedSlot)||void 0===a?void 0:a.parentNode,w=s.parentNode;C&&(l=!0,u=w);var D=w;if(D&&11===D.nodeType){d=!0,v=Gr(s=D.host)("position");break}s=D,v="relative"}return{offsetZoom:g,hasSlot:l,parentSlotElement:u,isCustomElement:d,isStatic:"static"===v,isEnd:h||!s||s===c,offsetParent:s||c}}function Eo(t,e){var n,r,i,o=t.tagName.toLowerCase(),a=t.offsetLeft,s=t.offsetTop,u=Gr(t),c=b(a),l=!c;return l||"svg"===o&&!t.ownerSVGElement?i=(r=mo(u("transformOrigin")).map((function(t){return parseFloat(t)}))).slice():(i=(r=An?function(t){return mo(Jo(t,":before").transformOrigin).map((function(e,n){var r=P(e),i=r.value,o=r.unit;return i*function(t,e,n){return"%"===e?wo(t.ownerSVGElement)[n?"width":"height"]/100:1}(t,o,0===n)}))}(t):mo(u("transformOrigin")).map((function(t){return parseFloat(t)}))).slice(),l=!0,"svg"===o?(a=0,s=0):(n=Mn(function(t,e,n){var r=t.tagName.toLowerCase();if(!t.getBBox||!n&&"g"===r)return[0,0,0,0];var i="fill-box"===Gr(t)("transform-box"),o=t.getBBox(),a=wo(t.ownerSVGElement),s=o.x,u=o.y;"foreignobject"!==r||s||u||(s=parseFloat(t.getAttribute("x"))||0,u=parseFloat(t.getAttribute("y"))||0);var c=s-a.x,l=u-a.y;return[c,l,i?e[0]:e[0]-c,i?e[1]:e[1]-l]}(t,r,t===e&&"g"===e.tagName.toLowerCase()),4),a=n[0],s=n[1],r[0]=n[2],r[1]=n[3])),{tagName:o,isSVG:c,hasOffset:l,offset:[a||0,s||0],origin:r,targetOrigin:i}}function xo(t,e){var n=Gr(t),r=Gr(rt(t)),i=r("position");if(!(e||i&&"static"!==i))return[0,0];var o=parseInt(r("marginLeft"),10),a=parseInt(r("marginTop"),10);return"absolute"===n("position")&&("auto"===n("top")&&"auto"===n("bottom")||(a=0),"auto"===n("left")&&"auto"===n("right")||(o=0)),[o,a]}function So(t){t.forEach((function(t){var e=t.matrix;e&&(t.matrix=ge(e,3,4))}))}function _o(t){for(var e=t.parentElement,n=!1,r=rt(t);e;){var i=Jo(e).transform;if(i&&"none"!==i){n=!0;break}if(e===r)break;e=e.parentElement}return{fixedContainer:e||r,hasTransform:n}}function Co(t,e){return void 0===e&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(xe(t,!e).join(","),")")}function wo(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n,clientWidth:e,clientHeight:n}}function Do(t,e){var n,r=wo(t),i=r.width,o=r.height,a=r.clientWidth,s=r.clientHeight,u=a/i,c=s/o,l=t.preserveAspectRatio.baseVal,f=l.align,p=l.meetOrSlice,d=[0,0],h=[u,c],v=[0,0];if(1!==f){var g=(f-2)%3,m=Math.floor((f-2)/3);d[0]=i*g/2,d[1]=o*m/2;var b=2===p?Math.max(c,u):Math.min(u,c);h[0]=b,h[1]=b,v[0]=(a-i)/2*g,v[1]=(s-o)/2*m}var y=ke(h,e);return n=Mn(v,2),y[e*(e-1)]=n[0],y[e*(e-1)+1]=n[1],go(y,e,d)}function Mo(t,e,n){return Se(t,ve(e,n),n)}function Oo(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return Mo(t,e,r)}))}function To(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),r=Math.min.apply(Math,On([],Mn(e),!1)),i=Math.min.apply(Math,On([],Mn(n),!1)),o=Math.max.apply(Math,On([],Mn(e),!1)),a=Math.max.apply(Math,On([],Mn(n),!1));return{left:r,top:i,right:o,bottom:a,width:o-r,height:a-i}}function Po(t,e,n,r){return To(Oo(t,e,n,r))}function Ro(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ko(t,e){return Ro([e[0]-t[0],e[1]-t[1]])}function Io(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=X(t,e));var i=ko(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(i,"px")}}function zo(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,o=n.reduce((function(t,e){return t+e[0]}),0)/i,a=n.reduce((function(t,e){return t+e[1]}),0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function Bo(t,e){var n=t[e];return y(n)?Dn(Dn({},t),n):t}function Fo(t){var e=t&&!b(t.offsetWidth),n=0,r=0,i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=0,p=0,d=0,h=1/0,v=1/0,g=1/0,m=1/0,y=0,E=0,x=!1;if(t)if(!e&&t.ownerSVGElement){var S=t.getBBox();x=!0,a=n=S.width,s=r=S.height,u=n,c=r,i=n,o=r}else{var _=Gr(t),C=t.style,w="border-box"===_("boxSizing"),D=parseFloat(_("borderLeftWidth"))||0,M=parseFloat(_("borderRightWidth"))||0,O=parseFloat(_("borderTopWidth"))||0,T=parseFloat(_("borderBottomWidth"))||0,P=(parseFloat(_("paddingLeft"))||0)+(parseFloat(_("paddingRight"))||0),R=(parseFloat(_("paddingTop"))||0)+(parseFloat(_("paddingBottom"))||0),k=P+(D+M),I=R+(O+T),z=_("position"),B=0,F=0;if("clientLeft"in t){var A;if(A="absolute"===z?yo(t,rt(t)).offsetParent:t.parentElement){var N=Gr(A);B=parseFloat(N("width")),F=parseFloat(N("height"))}}l=Math.max(P,G(_("minWidth"),B)||0),f=Math.max(R,G(_("minHeight"),F)||0),h=G(_("maxWidth"),B),v=G(_("maxHeight"),F),isNaN(h)&&(h=1/0),isNaN(v)&&(v=1/0),y=G(C.width,0)||0,E=G(C.height,0)||0,a=parseFloat(_("width"))||0,s=parseFloat(_("height"))||0,n=u=_a(a-y)<1?W(l,y||a,h):a,r=c=_a(s-E)<1?W(f,E||s,v):s,i=u,o=c,w?(g=h,m=v,p=l,d=f,u=n-k,c=r-I):(g=h+k,m=v+I,p=l+k,d=f+I,n=u+k,r=c+I),i=u+P,o=c+R}return{svg:x,offsetWidth:n,offsetHeight:r,clientWidth:i,clientHeight:o,contentWidth:u,contentHeight:c,inlineCSSWidth:y,inlineCSSHeight:E,cssWidth:a,cssHeight:s,minWidth:l,minHeight:f,maxWidth:h,maxHeight:v,minOffsetWidth:p,minOffsetHeight:d,maxOffsetWidth:g,maxOffsetHeight:m}}function Ao(t,e){return X(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Go(t,e){var n=t===rt(t)||t===nt(t),r={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return n&&(r.clientHeight=Math.max(e.height,r.clientHeight),r.scrollHeight=Math.max(e.height,r.scrollHeight)),r.overflow="visible"!==Gr(t)("overflow"),Dn(Dn({},e),r)}function Wo(t,e,n,r){var i=t.left,o=t.right,a=t.top,s=t.bottom,u=e.top,c=e.left,l={left:c+i,top:u+a,right:c+o,bottom:u+s,width:o-i,height:s-a};return n&&r?Go(n,l):l}function No(t,e){var n=0,r=0,i=0,o=0;if(t){var a=t.getBoundingClientRect();n=a.left,r=a.top,i=a.width,o=a.height}var s={left:n,top:r,width:i,height:o,right:n+i,bottom:r+o};return t&&e?Go(t,s):s}function Yo(t,e,n,r){return t||(e?[0,0]:jo(n.target,r))}function jo(t,e){if(t){var n=t.getAttribute("data-rotation")||"",r=t.getAttribute("data-direction");if(e.deg=n,r){var i=[0,0];return r.indexOf("w")>-1&&(i[0]=-1),r.indexOf("e")>-1&&(i[0]=1),r.indexOf("n")>-1&&(i[1]=-1),r.indexOf("s")>-1&&(i[1]=1),i}}}function Xo(t,e){return[ye(e,t[0]),ye(e,t[1]),ye(e,t[2]),ye(e,t[3])]}function Lo(t){var e=t.left,n=t.top;return Xo([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function qo(t,e){t[e?"controlAbles":"targetAbles"].forEach((function(e){e.unset&&e.unset(t)}))}function Ho(t,e){var n=e?"controlGesto":"targetGesto",r=t[n];!1===(null==r?void 0:r.isIdle())&&qo(t,e),null==r||r.unset(),t[n]=null}function Vo(t,e){if(e){var n=_r(e);n.nextStyle=Dn(Dn({},n.nextStyle),t)}return{style:t,cssText:A(t).map((function(e){return"".concat(R(e,"-"),": ").concat(t[e],";")})).join("")}}function Ko(t,e,n){var r=e.afterTransform||e.transform;return Dn(Dn({},Vo(Dn(Dn(Dn({},t.style),e.style),{transform:r}),n)),{afterTransform:r,transform:t.transform})}function Uo(t,e,n,r){var i=e.datas;i.datas||(i.datas={});var o=Dn(Dn({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:!1!==e.isTrusted,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var t;null===(t=e.stop)||void 0===t||t.call(e)}});return i.isStartEvent?r||(i.lastEvent=o):i.isStartEvent=!0,o}function $o(t,e,n){var r=e.datas,i="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),Dn(Dn({isDrag:i},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas,isFirstDrag:!!e.isFirstDrag})}function Zo(t,e,n){t._emitter.on(e,n)}function Qo(t,e,n,r,i){return t.triggerEvent(e,n,r,i)}function Jo(t,e){return it(t).getComputedStyle(t,e)}function ta(t,e,n){var r={},i={};return t.filter((function(t){var o=t.name;if(r[o]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return r[o]=!0,!0}))}function ea(t,e){return t===e||null==t&&null==e}function na(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!b(i))return i}return t[n]}function ra(t,e){var n=[],r=[];return t.forEach((function(i,o){var a=e(i,o,t),s=r.indexOf(a),u=n[s]||[];-1===s&&(r.push(a),n.push(u)),u.push(i)})),n}function ia(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function oa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return _a(e)-_a(t)})),t[0]}function aa(t,e,n){return Se(de(t,n),ve(e,n),n)}function sa(t,e){var n,r=t.is3d?4:3;return n=Mn(aa(t.rootMatrix,[e.distX,e.distY],r),2),e.distX=n[0],e.distY=n[1],e}function ua(t,e,n,r){if(!n[0]&&!n[1])return e;var i=Mo(t,[no(n[0]||1),0],r),o=Mo(t,[0,no(n[1]||1)],r);return ye(e,Mo(t,[n[0]/Ro(i),n[1]/Ro(o)],r))}function ca(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function la(t){return _a(t)<=Zn?0:t}function fa(t){return function(e){if(!e.isDragging(t))return"";var n=function(t,e){var n,r=t.targetGesto,i=t.controlGesto;return(null==r?void 0:r.isFlag())&&(n=r.getEventData()[e]),!n&&(null==i?void 0:i.isFlag())&&(n=i.getEventData()[e]),n||{}}(e,t),r=n.deg;return r?po("view-control-rotation".concat(r)):""}}function pa(t,e){return void 0===e&&(e=[t]),function(n,r){if(r.isRequest)return!!e.some((function(t){return r.requestAble===t}))&&r.parentDirection;var i=r.inputEvent.target;return $(i,po("direction"))&&(!t||$(i,po(t)))}}function da(t,e){return t?at(t)?t:x(t)?e?document.querySelector(t):t:_(t)?t():ot(t)?t:"current"in t?t.current:t:null}function ha(t,e){return t?((n=t)&&y(n)&&!at(n)&&(E(n)||"length"in n)?[].slice.call(t):[t]).reduce((function(t,n){return x(n)&&e?On(On([],Mn(t),!1),Mn([].slice.call(document.querySelectorAll(n))),!1):(E(n)?t.push(ha(n,e)):t.push(da(n,e)),t)}),[]):[];var n}function va(t,e){var n=t.rootMatrix,r=t.is3d,i=de(n,r?4:3);return r||(i=ge(i,3,4)),i[12]=0,i[13]=0,i[14]=0,function(t,e){var n=Se(t,[e[0],e[1]||0,e[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}(i,e)}function ga(t,e,n,r,i){var o=Mn(t,2),a=o[0],s=o[1],u=0,c=0;if(i&&a&&s){var l=X([0,0],e),f=X([0,0],r),p=Ro(e),d=Math.cos(l-f)*p;if(r[0])if(r[1]){var h=r[0]*a,v=r[1]*s,g=Math.atan2(h+e[0],v+e[1]),m=Math.atan2(h,v);g<0&&(g+=2*Math.PI),m<0&&(m+=2*Math.PI);var b=0;(b=_a(g-m)<Math.PI/2||_a(g-m)>Math.PI/2*3?g-m:g-(m+=Math.PI))>2*Math.PI?b-=2*Math.PI:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var y=Ro([h+e[0],v+e[1]])*Math.cos(b);u=y*Math.sin(m)-h,c=y*Math.cos(m)-v,r[0]<0&&(u*=-1),r[1]<0&&(c*=-1)}else c=(u=d)/n;else u=(c=d)*n}else u=r[0]*e[0],c=r[1]*e[1];return[u,c]}function ma(t,e,n,r){var i,o=n.ratio,a=n.startOffsetWidth,s=n.startOffsetHeight,u=0,c=0,l=r.distX,f=r.distY,p=r.pinchScale,d=r.parentDistance,h=r.parentDist,v=r.parentScale,g=n.fixedDirection,m=[0,1].map((function(e){return _a(t[e]-g[e])})),b=[0,1].map((function(t){var e=m[t];return 0!==e&&(e=2/e),e}));if(h)u=h[0],c=h[1],e&&(u?c||(c=u/o):u=c*o);else if(S(p))u=(p-1)*a,c=(p-1)*s;else if(v)u=(v[0]-1)*a,c=(v[1]-1)*s;else if(d){var y=a*m[0],E=s*m[1],x=Ro([y,E]);u=d/x*y*b[0],c=d/x*E*b[1]}else{var _=hr({datas:n,distX:l,distY:f});_=b.map((function(t,e){return _[e]*t})),u=(i=Mn(ga([a,s],_,o,t,e),2))[0],c=i[1]}return{distWidth:u,distHeight:c}}function ba(t,e){if(e){if("left"===t)return{x:"0%",y:"50%"};if("top"===t)return{x:"50%",y:"50%"};if("center"===t)return{x:"50%",y:"50%"};if("right"===t)return{x:"100%",y:"50%"};if("bottom"===t)return{x:"50%",y:"100%"};var n=Mn(t.split(" "),2),r=n[0],i=n[1],o=ba(r||""),a=ba(i||""),s=Dn(Dn({},o),a),u={x:"50%",y:"50%"};return s.x&&(u.x=s.x),s.y&&(u.y=s.y),s.value&&(s.x&&!s.y&&(u.y=s.value),!s.x&&s.y&&(u.x=s.value)),u}return"left"===t?{x:"0%"}:"right"===t?{x:"100%"}:"top"===t?{y:"0%"}:"bottom"===t?{y:"100%"}:t?"center"===t?{value:"50%"}:{value:t}:{}}function ya(t,e,n){var r=ba(t,!0),i=r.x,o=r.y;return[G(i,e)||0,G(o,n)||0]}function Ea(t,e){return t.length===e.length&&t.every((function(t,n){var r=e[n],i=E(t),o=E(r);return i&&o?Ea(t,r):!i&&!o&&t===r}))}function xa(t,e,n,r,i){var o=t._store,a=o[e];if(!(e in o)){if(null==i)return o[e]=n,n;o[e]=i,a=i}return a===n||r(a)===r(n)?a:(o[e]=n,n)}function Sa(t){return t>=0?1:-1}function _a(t){return Math.abs(t)}function Ca(t,e){return function(t){for(var e=[],n=0;n<t;++n)e.push(n);return e}(t).map((function(t){return e(t)}))}function wa(t){return S(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var Da=Tn("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,u=a.ables;if(!s)return!1;var c="onPinch".concat(r?"Group":"","Start"),l="drag".concat(r?"Group":"","ControlStart"),f=(!0===s?t.controlAbles:u.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[l]})),p=Uo(t,e,{});r&&(p.targets=r);var d=Qo(t,c,p);n.isPinch=!1!==d,n.ables=f;var h=n.isPinch;return!!h&&(f.forEach((function(n){if(o[n.name]=o[n.name]||{},n[l]){var r=Dn(Dn({},e),{datas:o[n.name],parentRotate:i,isPinch:!0});n[l](t,r)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},h)},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,u=e.angle;if(n.isPinch){var c=i*(1-1/r),l=Uo(t,e,{});s&&(l.targets=s);var f="onPinch".concat(s?"Group":"");Qo(t,f,l);var p=n.ables,d="drag".concat(s?"Group":"","Control");return p.forEach((function(n){n[d]&&n[d](t,Dn(Dn({},e),{datas:o[n.name],inputEvent:a,resolveMatrix:!0,pinchScale:r,parentDistance:c,parentRotate:u,isPinch:!0}))})),l}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s="onPinch".concat(o?"Group":"","End"),u=$o(t,e,{isDrag:r});o&&(u.targets=o),Qo(t,s,u);var c=n.ables,l="drag".concat(o?"Group":"","ControlEnd");return c.forEach((function(n){n[l]&&n[l](t,Dn(Dn({},e),{isDrag:r,datas:a[n.name],inputEvent:i,isPinch:!0}))})),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,Dn(Dn({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Dn(Dn({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Dn(Dn({},e),{targets:t.props.targets}))}}),Ma=pa("scalable"),Oa={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:Vr("scalable"),dragControlCondition:Ma,viewClassName:fa("scalable"),dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=Yo(e.parentDirection,r,i,n),a=t.state,s=a.width,u=a.height,c=a.targetTransform,l=a.target,f=a.pos1,p=a.pos2,d=a.pos4;if(!o||!l)return!1;r||cr(t,e),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=o,n.startOffsetWidth=s,n.startOffsetHeight=u,n.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];function v(t){n.ratio=t&&isFinite(t)?t:0}function g(t){var e=Bi(n.startPositions,t);n.fixedDirection=e.fixedDirection,n.fixedPosition=e.fixedPosition,n.fixedOffset=e.fixedOffset}Er(t,e,"scale"),n.isWidth=h,n.startPositions=Lo(t.state),n.setFixedDirection=g,v(q(f,p)/q(p,d)),g([-o[0],-o[1]]);var m=function(t){n.minScaleSize=t},b=function(t){n.maxScaleSize=t};m([-1/0,-1/0]),b([1/0,1/0]);var y=Uo(t,e,Dn(Dn({direction:o,set:function(t){n.startValue=t},setRatio:v,setFixedDirection:g,setMinScaleSize:m,setMaxScaleSize:b},yr(t,e)),{dragStart:zi.dragStart(t,(new ar).dragStart([0,0],e))})),E=Qo(t,"onScaleStart",y);return n.startFixedDirection=n.fixedDirection,!1!==E&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),!!n.isScale&&y},dragControl:function(t,e){lr(t,e,"scale");var n=e.datas,r=e.parentKeepRatio,i=e.parentFlag,o=e.isPinch,a=e.dragClient,s=e.isRequest,u=e.useSnap,c=e.resolveMatrix,l=n.prevDist,f=n.direction,p=n.startOffsetWidth,d=n.startOffsetHeight,h=n.isScale,v=n.startValue,g=n.isWidth,m=n.ratio;if(!h)return!1;var b=t.props,y=b.throttleScale,x=b.parentMoveable,S=f;f[0]||f[1]||(S=[1,1]);var _=m&&(null!=r?r:b.keepRatio)||!1,C=t.state,w=[v[0],v[1]];function D(){var t=ma(S,_,n,e),r=t.distWidth,i=t.distHeight,o=p?(p+r)/p:1,a=d?(d+i)/d:1;v[0]||(w[0]=r/p),v[1]||(w[1]=i/d);var s=(S[0]||_?o:1)*w[0],u=(S[1]||_?a:1)*w[1];return 0===s&&(s=Sa(l[0])*Qn),0===u&&(u=Sa(l[1])*Qn),[s,u]}var M=D();if(!o&&t.props.groupable){var O=(C.snapRenderInfo||{}).direction;E(O)&&(O[0]||O[1])&&(C.snapRenderInfo={direction:f,request:e.isRequest})}Qo(t,"onBeforeScale",Uo(t,e,{scale:M,setFixedDirection:function(t){return n.setFixedDirection(t),M=D()},startFixedDirection:n.startFixedDirection,setScale:function(t){M=t}},!0));var T,P,R=[M[0]/w[0],M[1]/w[1]],k=a,I=[0,0],z=Sa(R[0]*R[1]),B=!a&&!i&&o;if(B||c?k=Or(t,n.targetAllTransform,[0,0],[0,0],n):a||(k=n.fixedPosition),o||(I=function(t,e,n,r,i){if(!oi(t,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,s=i.fixedPosition,u=i.fixedDirection,c=i.is3d,l=io(t,(function(t,n){return eo(function(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,a=i?4:3;return br(r,be(t.targetAllTransform||o,ke(e,a),a),n,a)}(i,ye(e,[t/o,n/a])),o,a,u,s,c)}),o,a,n,s,r,i);return[l[0]/o,l[1]/a]}(t,R,f,!u&&s,n)),_){S[0]&&S[1]&&I[0]&&I[1]&&(Math.abs(I[0]*p)>Math.abs(I[1]*d)?I[1]=0:I[0]=0);var F=!I[0]&&!I[1];if(F&&(g?R[0]=H(R[0]*w[0],y)/w[0]:R[1]=H(R[1]*w[1],y)/w[1]),S[0]&&!S[1]||I[0]&&!I[1]||F&&g){R[0]+=I[0];var A=p*R[0]*w[0]/m;R[1]=Sa(z*R[0])*_a(A/d/w[1])}else if(!S[0]&&S[1]||!I[0]&&I[1]||F&&!g){R[1]+=I[1];var G=d*R[1]*w[1]*m;R[0]=Sa(z*R[1])*_a(G/p/w[0])}}else R[0]+=I[0],R[1]+=I[1],I[0]||(R[0]=H(R[0]*w[0],y)/w[0]),I[1]||(R[1]=H(R[1]*w[1],y)/w[1]);0===R[0]&&(R[0]=Sa(l[0])*Qn),0===R[1]&&(R[1]=Sa(l[1])*Qn),T=R,P=[w[0],w[1]],M=[T[0]*P[0],T[1]*P[1]];var W=[p,d],N=[p*M[0],d*M[1]];N=Y(N,n.minScaleSize,n.maxScaleSize,!!_&&m),M=Ca(2,(function(t){return W[t]?N[t]/W[t]:N[t]})),R=Ca(2,(function(t){return M[t]/w[t]}));var j=Ca(2,(function(t){return l[t]?R[t]/l[t]:R[t]})),X="scale(".concat(R.join(", "),")"),L="scale(".concat(M.join(", "),")"),q=fr(n,L,X),V=!v[0]||!v[1],K=function(t,e,n,r,i,o,a){return Tr(t,e,n,r,i,o,a)}(t,V?L:X,n.fixedDirection,k,n.fixedOffset,n,V),U=B?K:Ee(K,n.prevInverseDist||[0,0]);if(n.prevDist=R,n.prevInverseDist=K,M[0]===l[0]&&M[1]===l[1]&&U.every((function(t){return!t}))&&!x&&!B)return!1;var $=Uo(t,e,Dn({offsetWidth:p,offsetHeight:d,direction:f,scale:M,dist:R,delta:j,isPinch:!!o},Mr(t,q,U,o,e)));return Qo(t,"onScale",$),$},dragControlEnd:function(t,e){var n=e.datas;if(!n.isScale)return!1;n.isScale=!1;var r=$o(t,e,{});return Qo(t,"onScaleEnd",r),r},dragGroupControlCondition:Ma,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=Wr(t,"resizable",e);n.moveableScale=t.scale;var o=Yr(t,this,"dragControlStart",e,(function(e,r){return jr(t,e,n,r)})),a=function(e){r.setFixedDirection(e),o.forEach((function(r,o){r.setFixedDirection(e),jr(t,r.moveable,n,i[o])}))};n.setFixedDirection=a;var s=Dn(Dn({},r),{targets:t.props.targets,events:o,setFixedDirection:a}),u=Qo(t,"onScaleGroupStart",s);return n.isScale=!1!==u,!!n.isScale&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){Zo(t,"onBeforeScale",(function(n){Qo(t,"onBeforeScaleGroup",Uo(t,e,Dn(Dn({},n),{targets:t.props.targets}),!0))}));var r=this.dragControl(t,e);if(r){var i=r.dist,o=n.moveableScale;t.scale=[i[0]*o[0],i[1]*o[1]];var a=t.props.keepRatio,s=n.fixedPosition,u=Yr(t,this,"dragControl",e,(function(e,n){var r=Mn(Se(Pe(t.rotation/180*Math.PI,3),[n.datas.originalX*i[0],n.datas.originalY*i[1],1],3),2),o=r[0],u=r[1];return Dn(Dn({},n),{parentDist:null,parentScale:i,parentKeepRatio:a,dragClient:ye(s,[o,u])})})),c=Dn({targets:t.props.targets,events:u},r);return Qo(t,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale){this.dragControlEnd(t,e);var r=Yr(t,this,"dragControlEnd",e);return Qo(t,"onScaleGroupEnd",$o(t,e,{targets:t.props.targets,events:r})),n}},request:function(){var t={},e=0,n=0,r=!1;return{isControl:!0,requestStart:function(e){return r=e.useSnap,{datas:t,parentDirection:e.direction||[1,1],useSnap:r}},request:function(i){return e+=i.deltaWidth,n+=i.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:i.keepRatio,useSnap:r}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:r}}}}};function Ta(t,e){return t.map((function(t,n){return m(t,e[n],1,2)}))}function Pa(t,e,n){var r=X(t,e),i=X(t,n)-r;return i>=0?i:i+2*Math.PI}var Ra={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:fa("warpable"),render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable,a=n.zoom;if(r||i||!o)return[];var s=t.state,u=s.pos1,c=s.pos2,l=s.pos3,f=s.pos4,p=Ta(u,c),d=Ta(c,u),h=Ta(u,l),v=Ta(l,u),g=Ta(l,f),m=Ta(f,l),b=Ta(c,f),y=Ta(f,c);return On([e.createElement("div",{className:po("line"),key:"middeLine1",style:Io(p,g,a)}),e.createElement("div",{className:po("line"),key:"middeLine2",style:Io(d,m,a)}),e.createElement("div",{className:po("line"),key:"middeLine3",style:Io(h,b,a)}),e.createElement("div",{className:po("line"),key:"middeLine4",style:Io(v,y,a)})],Mn(Kr(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var n=e.inputEvent.target;return $(n,po("direction"))&&$(n,po("warpable"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,o=jo(r.target,n);if(!o||!i)return!1;var a=t.state,s=a.transformOrigin,u=a.is3d,c=a.targetTransform,l=a.targetMatrix,f=a.width,p=a.height,d=a.left,h=a.top;return n.datas={},n.targetTransform=c,n.warpTargetMatrix=u?l:ge(l,3,4),n.targetInverseMatrix=pe(de(n.warpTargetMatrix,4),3,4),n.direction=o,n.left=d,n.top=h,n.poses=[[0,0],[f,0],[0,p],[f,p]].map((function(t){return Ee(t,s)})),n.nextPoses=n.poses.map((function(t){var e=Mn(t,2),r=e[0],i=e[1];return Se(n.warpTargetMatrix,[r,i,0,1],4)})),n.startValue=Re(4),n.prevMatrix=Re(4),n.absolutePoses=Lo(a),n.posIndexes=vr(o),cr(t,e),Er(t,e,"matrix3d"),a.snapRenderInfo={request:e.isRequest,direction:o},!1!==Qo(t,"onWarpStart",Uo(t,e,Dn({set:function(t){n.startValue=t}},yr(t,e))))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,u=n.isWarp,c=n.startValue,l=n.poses,f=n.posIndexes,p=n.absolutePoses;if(!u)return!1;if(lr(t,e,"matrix3d"),oi(t,"warpable")){var d=f.map((function(t){return p[t]}));d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var h=Ri(t,r,{horizontal:d.map((function(t){return t[1]+o})),vertical:d.map((function(t){return t[0]+i}))}),v=h.horizontal,g=h.vertical;o-=v.offset,i-=g.offset}var m=hr({datas:n,distX:i,distY:o},!0),b=n.nextPoses.slice();if(f.forEach((function(t){b[t]=ye(b[t],m)})),!Un.every((function(t){return e=t.map((function(t){return l[t]})),n=t.map((function(t){return b[t]})),r=Pa(e[0],e[1],e[2]),i=Pa(n[0],n[1],n[2]),!(r>=(o=Math.PI)&&i<=o||r<=o&&i>=o);var e,n,r,i,o})))return!1;var y=ze(l[0],l[2],l[1],l[3],b[0],b[2],b[1],b[3]);if(!y.length)return!1;var E=pr(n,be(a,y,4),!0),x=be(de(s,4),E,4);n.prevMatrix=E;var S=be(c,E,4),_=fr(n,"matrix3d(".concat(S.join(", "),")"),"matrix3d(".concat(E.join(", "),")"));return Sr(e,_),Qo(t,"onWarp",Uo(t,e,Dn({delta:x,matrix:S,dist:E,multiply:be,transform:_},Vo({transform:_},e)))),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,Qo(t,"onWarpEnd",$o(t,e,{})),r)}},ka=po("area-pieces"),Ia=po("area-piece"),za=po("avoid"),Ba=po("view-dragging");function Fa(t){var e=t.areaElement;if(e){var n=t.state,r=n.width,i=n.height;Q(e,za),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(i,"px")}}function Aa(t){return t.createElement("div",{key:"area_pieces",className:ka},t.createElement("div",{className:Ia}),t.createElement("div",{className:Ia}),t.createElement("div",{className:Ia}),t.createElement("div",{className:Ia}))}var Ga={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var n=t.props,r=n.target,o=n.dragArea,a=n.groupable,s=n.passDragArea,u=t.getState(),c=u.width,l=u.height,f=u.renderPoses,p=s?po("area","pass"):po("area");if(a)return[e.createElement("div",{key:"area",ref:i(t,"areaElement"),className:p}),Aa(e)];if(!r||!o)return[];var d=ze([0,0],[c,0],[0,l],[c,l],f[0],f[1],f[2],f[3]),h=d.length?Co(d,!0):"none";return[e.createElement("div",{key:"area",ref:i(t,"areaElement"),className:p,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(l,"px"),transformOrigin:"0 0",transform:h}}),Aa(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;n.isDragArea=!1;var o=t.areaElement,a=t.state,s=a.moveableClientRect,u=a.renderPoses,c=a.rootMatrix,l=a.is3d,f=s.left,p=s.top,d=To(u),h=d.left,v=d.top,g=d.width,m=d.height,b=Mn(aa(c,[r-f,i-p],l?4:3),2),y=b[0],E=b[1],x=[{left:h,top:v,width:g,height:(E-=v)-10},{left:h,top:v,width:(y-=h)-10,height:m},{left:h,top:v+E+10,width:g,height:m-E-10},{left:h+y+10,top:v,width:g-y-10,height:m}],S=[].slice.call(o.nextElementSibling.children);x.forEach((function(t,e){S[e].style.cssText="left: ".concat(t.left,"px;top: ").concat(t.top,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px;")})),Z(o,za),a.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,Fa(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||Fa(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Fa(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&B((function(){e.disableNativeEvent=!1}))}},Wa=Tn("origin",{props:["origin","svgOrigin"],render:function(t,e){var n,r=t.props,i=r.zoom,o=r.svgOrigin,a=r.groupable,s=t.getState(),u=s.beforeOrigin,c=s.rotation,l=s.svg,f=s.allMatrix,p=s.is3d,d=s.left,h=s.top,v=s.offsetWidth,g=s.offsetHeight;if(!a&&l&&o){var m=Mn(ya(o,v,g),2);n=zo(c,i,Ee(Mo(f,[m[0],m[1]],p?4:3),[d,h]))}else n=zo(c,i,u);return[e.createElement("div",{className:po("control","origin"),style:n,key:"beforeOrigin"})]}});function Na(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Ya={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=void 0===r?t.getContainer():r,o=n.scrollOptions,a=new Qe,s=da(i,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var u=e.isControl?"controlGesto":"targetGesto",c=e.targets;a.on("scroll",(function(n){var r=n.container,i=n.direction,o=Uo(t,e,{scrollContainer:r,direction:i}),a=c?"onScrollGroup":"onScroll";c&&(o.targets=c),Qo(t,a,o)})).on("move",(function(e){var n=e.offsetX,r=e.offsetY,i=e.inputEvent;t[u].scrollBy(n,r,i.inputEvent,!1)})).on("scrollDrag",(function(e){(0,e.next)(t[u].getCurrentEvent())})),a.dragStart(e,Dn({container:s},o))},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,o=void 0===i?t.getContainer():i,a=r.scrollThreshold,s=void 0===a?0:a,u=r.scrollThrottleTime,c=void 0===u?0:u,l=r.getScrollPosition,f=void 0===l?Na:l,p=r.scrollOptions;return n.drag(e,Dn({container:o,threshold:s,throttleTime:c,getScrollPosition:function(t){return f({scrollContainer:t.container,direction:t.direction})}},p)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,Dn(Dn({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,Dn(Dn({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,Dn(Dn({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,Dn(Dn({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,Dn(Dn({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,Dn(Dn({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,Dn(Dn({},e),{targets:t.props.targets}))},unset:function(t){var e,n=t.state;null===(e=n.dragScroll)||void 0===e||e.dragEnd(),n.dragScroll=null}},ja={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},Xa=Tn("padding",{props:["padding"],render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=wa(n.padding||{}),i=r.left,o=r.top,a=r.right,s=r.bottom,u=t.getState(),c=u.renderPoses,l=[u.pos1,u.pos2,u.pos3,u.pos4],f=[];return i>0&&f.push([0,2]),o>0&&f.push([0,1]),a>0&&f.push([1,3]),s>0&&f.push([2,3]),f.map((function(t,n){var r=Mn(t,2),i=r[0],o=r[1],a=ze([0,0],[100,0],[0,100],[100,100],l[i],l[o],c[i],c[o]);if(a.length)return e.createElement("div",{key:"padding".concat(n),className:po("padding"),style:{transform:Co(a,!0)}})}))}}),La=["nw","ne","se","sw"];function qa(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var Ha=[1,2,5,6],Va=[0,3,4,7],Ka=[1,-1,-1,1],Ua=[1,1,-1,-1];function $a(t,e,n,r,i,o,a,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=n),void 0===s&&(s=r);var u=[],c=!1,l=t.filter((function(t){return!t.virtual})),f=l.map((function(t){var l=t.horizontal,f=t.vertical,p=t.pos;if(f&&!c&&(c=!0,u.push("/")),c){var d=Math.max(0,1===f?p[1]-o:s-p[1]);return u.push(ca(d,r,e)),d}return d=Math.max(0,1===l?p[0]-i:a-p[0]),u.push(ca(d,n,e)),d}));return{radiusPoses:l,styles:u,raws:f}}function Za(t){for(var e=[0,0],n=[0,0],r=t.length,i=0;i<r;++i){var o=t[i];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,n[0]=i+1),o.vertical&&(0===n[1]&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function Qa(t,e,n,r,i,o,a){var s,u,c,l;void 0===o&&(o=[0,0]),void 0===a&&(a=!1);var f=t.indexOf("/"),p=(f>-1?t.slice(0,f):t).length,d=t.slice(0,p),h=t.slice(p+1),v=d.length,g=h.length,m=g>0,b=Mn(d,4),y=b[0],E=void 0===y?"0px":y,x=b[1],S=void 0===x?E:x,_=b[2],C=void 0===_?E:_,w=b[3],D=void 0===w?S:w,M=Mn(h,4),O=M[0],T=void 0===O?E:O,P=M[1],R=void 0===P?m?T:S:P,k=M[2],I=void 0===k?m?T:C:k,z=M[3],B=void 0===z?m?R:D:z,F=[E,S,C,D].map((function(t){return G(t,e)})),A=[T,R,I,B].map((function(t){return G(t,n)})),W=F.slice(),N=A.slice();s=Mn(qa([W[0],W[1]],e),2),W[0]=s[0],W[1]=s[1],u=Mn(qa([W[3],W[2]],e),2),W[3]=u[0],W[2]=u[1],c=Mn(qa([N[0],N[3]],n),2),N[0]=c[0],N[3]=c[1],l=Mn(qa([N[1],N[2]],n),2),N[1]=l[0],N[2]=l[1];var Y=a?W:W.slice(0,Math.max(o[0],v)),j=a?N:N.slice(0,Math.max(o[1],g));return On(On([],Mn(Y.map((function(t,e){var o=La[e];return{virtual:e>=v,horizontal:Ka[e],vertical:0,pos:[r+t,i+(-1===Ua[e]?n:0)],sub:!0,raw:F[e],direction:o}}))),!1),Mn(j.map((function(t,n){var o=La[n];return{virtual:n>=g,horizontal:0,vertical:Ua[n],pos:[r+(-1===Ka[n]?e:0),i+t],sub:!0,raw:A[n],direction:o}}))),!1)}var Ja=[[0,-1,"n"],[1,0,"e"]],ts=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function es(t,e,n){var r=t.props.clipRelative,i=t.state,o=i.width,a=i.height,s=e,u=s.type,c=s.poses,l="rect"===u,f="circle"===u;if("polygon"===u)return n.map((function(t){return"".concat(ca(t[0],o,r)," ").concat(ca(t[1],a,r))}));if(l||"inset"===u){var p=n[1][1],d=n[3][0],h=n[7][0],v=n[5][1];if(l)return[p,d,v,h].map((function(t){return"".concat(t,"px")}));var g=[p,o-d,a-v,h].map((function(t,e){return ca(t,e%2?o:a,r)}));if(n.length>8){var m=Mn(Ee(n[4],n[0]),2),b=m[0],y=m[1];g.push.apply(g,On(["round"],Mn($a(c.slice(8).map((function(t,e){return Dn(Dn({},t),{pos:n[e]})})),r,b,y,h,p,d,v).styles),!1))}return g}if(f||"ellipse"===u){var E=n[0],x=ca(_a(n[1][1]-E[1]),f?Math.sqrt((o*o+a*a)/2):a,r);return(g=f?[x]:[ca(_a(n[2][0]-E[0]),o,r),x]).push("at",ca(E[0],o,r),ca(E[1],a,r)),g}}function ns(t,e,n,r){var i=[r,(r+e)/2,e],o=[t,(t+n)/2,n];return ts.map((function(t){var e=Mn(t,3),n=e[0],r=e[1],a=e[2],s=i[n+1],u=o[r+1];return{vertical:_a(r),horizontal:_a(n),direction:a,pos:[s,u]}}))}function rs(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach((function(t){var r=t.pos;e[0]=Math.min(e[0],r[0]),e[1]=Math.max(e[1],r[0]),n[0]=Math.min(n[0],r[1]),n[1]=Math.max(n[1],r[1])})),[_a(e[1]-e[0]),_a(n[1]-n[0])]}function is(t,e,n,r,i){var o,a,s,u,c,l,f,p,d;if(t){var h=i;if(!h){var v=Gr(t),g=v("clipPath");h="none"!==g?g:v("clip")}if(h&&"none"!==h&&"auto"!==h||(h=r)){var m=T(h),b=m.prefix,y=void 0===b?h:b,E=m.value,x=void 0===E?"":E,S="circle"===y,_=" ";if("polygon"===y){_=",";var C=(A=O(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var r=Mn(t.split(" "),2),i=r[0],o=r[1];return{vertical:1,horizontal:1,pos:[G(i,e),G(o,n)]}})),w=nn(C.map((function(t){return t.pos})));return{type:y,clipText:h,poses:C,splitter:_,left:w.minX,right:w.maxX,top:w.minY,bottom:w.maxY}}if(S||"ellipse"===y){var D,R,k,I="",z="",B=0,F=0,A=M(x);S?(D=void 0===(a=(o=Mn(A,4))[0])?"50%":a,I=void 0===(s=o[2])?"50%":s,z=void 0===(u=o[3])?"50%":u,B=G(D,Math.sqrt((e*e+n*n)/2)),F=B):(R=void 0===(l=(c=Mn(A,5))[0])?"50%":l,k=void 0===(f=c[1])?"50%":f,I=void 0===(p=c[3])?"50%":p,z=void 0===(d=c[4])?"50%":d,B=G(R,e),F=G(k,n));var W=[G(I,e),G(z,n)];return C=On([{vertical:1,horizontal:1,pos:W,direction:"nesw"}],Mn(Ja.slice(0,S?1:2).map((function(t){return{vertical:_a(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[W[0]+t[0]*B,W[1]+t[1]*F]}}))),!1),{type:y,clipText:h,radiusX:B,radiusY:F,left:W[0]-B,top:W[1]-F,right:W[0]+B,bottom:W[1]+F,poses:C,splitter:_}}if("inset"===y){var N=(A=M(x||"0 0 0 0")).indexOf("round"),Y=(N>-1?A.slice(0,N):A).length,j=A.slice(Y+1),X=Mn(A.slice(0,Y),4),L=X[0],q=X[1],H=void 0===q?L:q,V=X[2],K=void 0===V?L:V,U=X[3],$=void 0===U?H:U,Z=Mn([L,K].map((function(t){return G(t,n)})),2),Q=Z[0],J=Z[1],tt=Mn([$,H].map((function(t){return G(t,e)})),2),et=tt[0],nt=tt[1],rt=e-nt,it=n-J,ot=Qa(j,rt-et,it-Q,et,Q);return{type:"inset",clipText:h,poses:C=On(On([],Mn(ns(Q,rt,it,et)),!1),Mn(ot),!1),top:Q,left:et,right:rt,bottom:it,radius:j,splitter:_}}if("rect"===y){_=",";var at=Mn((A=O(x||"0px, ".concat(e,"px, ").concat(n,"px, 0px"))).map((function(t){return P(t).value})),4),st=at[0];return{type:"rect",clipText:h,poses:C=ns(st,nt=at[1],J=at[2],et=at[3]),top:st,right:nt,bottom:J,left:et,values:A,splitter:_}}}}}var os={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[".control.clip-control {\nbackground: #6d6;\ncursor: pointer;\n}\n.control.clip-control.clip-radius {\nbackground: #d66;\n}\n.line.clip-line {\nbackground: #6e6;\ncursor: move;\nz-index: 1;\n}\n.clip-area {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.clip-ellipse {\nposition: absolute;\ncursor: move;\nborder: 1px solid #6d6;\nborder: var(--zoompx) solid #6d6;\nborder-radius: 50%;\ntransform-origin: 0px 0px;\n}",":host {\n--bounds-color: #d66;\n}",".guideline {\npointer-events: none;\nz-index: 2;\n}",".line.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,r=n.customClipPath,i=n.defaultClipPath,o=n.clipArea,a=n.zoom,s=n.groupable,u=t.getState(),c=u.target,l=u.width,f=u.height,p=u.allMatrix,d=u.is3d,h=u.left,v=u.top,g=u.pos1,m=u.pos2,b=u.pos3,y=u.pos4,E=u.clipPathState,x=u.snapBoundInfos,S=u.rotation;if(!c||s)return[];var _=is(c,l,f,i||"inset",E||r);if(!_)return[];var C=d?4:3,w=_.type,D=_.poses.map((function(t){var e=Mo(p,t.pos,C);return[e[0]-h,e[1]-v]})),M=[],O=[],T="rect"===w,P="inset"===w,R="polygon"===w;if(T||P||R){var k=P?D.slice(0,8):D;O=k.map((function(t,n){var r=0===n?k[k.length-1]:k[n-1],i=X(r,t),o=ko(r,t);return e.createElement("div",{key:"clipLine".concat(n),className:po("line","clip-line","snap-control"),"data-clip-index":n,style:{width:"".concat(o,"px"),transform:"translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(i,"rad) scaleY(").concat(a,")")}})}))}if(M=D.map((function(t,n){return e.createElement("div",{key:"clipControl".concat(n),className:po("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})})),P&&M.push.apply(M,On([],Mn(D.slice(8).map((function(t,n){return e.createElement("div",{key:"clipRadiusControl".concat(n),className:po("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})}))),!1)),"circle"===w||"ellipse"===w){var I=_.left,z=_.top,B=_.radiusX,F=_.radiusY,A=Mn(Ee(Mo(p,[I,z],C),Mo(p,[0,0],C)),2),G=A[0],W=A[1],N="none";if(!o){for(var Y=Math.max(10,B/5,F/5),j=[],L=0;L<=Y;++L){var q=2*Math.PI/Y*L;j.push([B+(B-a)*Math.cos(q),F+(F-a)*Math.sin(q)])}j.push([B,-2]),j.push([-2,-2]),j.push([-2,2*F+2]),j.push([2*B+2,2*F+2]),j.push([2*B+2,-2]),j.push([B,-2]),N="polygon(".concat(j.map((function(t){return"".concat(t[0],"px ").concat(t[1],"px")})).join(", "),")")}M.push(e.createElement("div",{key:"clipEllipse",className:po("clip-ellipse","snap-control"),style:{width:"".concat(2*B,"px"),height:"".concat(2*F,"px"),clipPath:N,transform:"translate(".concat(-h+G,"px, ").concat(-v+W,"px) ").concat(Co(p))}}))}if(o){var H=To(On([g,m,b,y],Mn(D),!1)),V=H.width,K=H.height,U=H.left,$=H.top;(R||T||P)&&(j=P?D.slice(0,8):D,M.push(e.createElement("div",{key:"clipArea",className:po("clip-area","snap-control"),style:{width:"".concat(V,"px"),height:"".concat(K,"px"),transform:"translate(".concat(U,"px, ").concat($,"px)"),clipPath:"polygon(".concat(j.map((function(t){return"".concat(t[0]-U,"px ").concat(t[1]-$,"px")})).join(", "),")")}})))}return x&&["vertical","horizontal"].forEach((function(t){var n=x[t],r="horizontal"===t;n.isSnap&&O.push.apply(O,On([],Mn(n.snap.posInfos.map((function(n,i){var o=n.pos,s=Ee(Mo(p,r?[0,o]:[o,0],C),[h,v]),u=Ee(Mo(p,r?[l,o]:[o,f],C),[h,v]);return qr(e,"",s,u,a,"clip".concat(t,"snap").concat(i),"guideline")}))),!1)),n.isBound&&O.push.apply(O,On([],Mn(n.bounds.map((function(n,i){var o=n.pos,s=Ee(Mo(p,r?[0,o]:[o,0],C),[h,v]),u=Ee(Mo(p,r?[l,o]:[o,f],C),[h,v]);return qr(e,"",s,u,a,"clip".concat(t,"bounds").concat(i),"guideline","bounds","bold")}))),!1))})),On(On([],Mn(M),!1),Mn(O),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,Dn(Dn({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,i=r.defaultClipPath,o=r.customClipPath,a=n.target,s=n.width,u=n.height,c=e.inputEvent?e.inputEvent.target:null,l=c&&c.getAttribute("class")||"",f=e.datas,p=is(a,s,u,i||"inset",o);if(!p)return!1;var d=p.clipText;return!1===Qo(t,"onClipStart",Uo(t,e,{clipType:p.type,clipStyle:d,poses:p.poses.map((function(t){return t.pos}))}))?(f.isClipStart=!1,!1):(f.isControl=l&&l.indexOf("clip-control")>-1,f.isLine=l.indexOf("clip-line")>-1,f.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,f.clipIndex=c?parseInt(c.getAttribute("data-clip-index"),10):-1,f.clipPath=p,f.isClipStart=!0,n.clipPathState=d,cr(t,e),!0)},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.originalDatas,s=e.isDragTarget;if(!o.isClipStart)return!1;var u=o,c=u.isControl,l=u.isLine,f=u.isArea,p=u.clipIndex,d=u.clipPath;if(!d)return!1;var h=Bo(t.props,"clippable"),v=h.keepRatio,g=0,m=0,b=a.draggable,y=hr(e);s&&b?(n=Mn(b.prevBeforeDist,2),g=n[0],m=n[1]):(r=Mn(y,2),g=r[0],m=r[1]);var E=[g,m],x=t.state,S=x.width,_=x.height,C=!f&&!c&&!l,w=d.type,D=d.poses,M=d.splitter,O=D.map((function(t){return t.pos}));C&&(g=-g,m=-m);var T=!c||"nesw"===D[p].direction,P="inset"===w||"rect"===w,R=D.map((function(){return[0,0]}));if(c&&!T){var k=D[p],I=k.horizontal,z=k.vertical,B=[g*_a(I),m*_a(z)];R=function(t,e,n,r,i){var o=t[e],a=o.direction,s=o.sub,u=t.map((function(){return[0,0]})),c=a?a.split(""):[];if(r&&e<8){var l=c.filter((function(t){return"w"===t||"e"===t})),f=c.filter((function(t){return"n"===t||"s"===t})),p=l[0],d=f[0];u[e]=n;var h=Mn(rs(t),2),v=h[0],g=h[1],m=v&&g?v/g:0;if(m&&i){var b=t[(e+4)%8].pos,y=[0,0];a.indexOf("w")>-1?y[0]=-1:a.indexOf("e")>-1&&(y[0]=1),a.indexOf("n")>-1?y[1]=-1:a.indexOf("s")>-1&&(y[1]=1);var E=ga([v,g],n,m,y,!0),x=v+E[0],S=g+E[1],_=b[1],C=b[1],w=b[0],D=b[0];-1===y[0]?w=D-x:1===y[0]?D=w+x:(w-=x/2,D+=x/2),-1===y[1]?_=C-S:C=1===y[1]?_+S:(_=C-S/2)+S;var M=ns(_,D,C,w);t.forEach((function(t,e){u[e][0]=M[e].pos[0]-t.pos[0],u[e][1]=M[e].pos[1]-t.pos[1]}))}else t.forEach((function(t,e){var r=t.direction;r&&(r.indexOf(p)>-1&&(u[e][0]=n[0]),r.indexOf(d)>-1&&(u[e][1]=n[1]))})),p&&(u[1][0]=n[0]/2,u[5][0]=n[0]/2),d&&(u[3][1]=n[1]/2,u[7][1]=n[1]/2)}else a&&!s?c.forEach((function(e){var r="n"===e||"s"===e;t.forEach((function(t,i){var o=t.direction,a=t.horizontal,s=t.vertical;o&&-1!==o.indexOf(e)&&(u[i]=[r||!a?0:n[0],r&&s?n[1]:0])}))})):u[e]=n;return u}(D,p,B,P,v)}else T&&(R=O.map((function(){return[g,m]})));var F=O.map((function(t,e){return ye(t,R[e])})),A=On([],Mn(F),!1);x.snapBoundInfos=null;var W="circle"===d.type,N="ellipse"===d.type;if(W||N){var Y=_a((rt=To(F)).bottom-rt.top),j=_a(N?rt.right-rt.left:Y),X=F[0][1]+Y,L=F[0][0]-j,q=F[0][0]+j;W&&(A.push([q,rt.bottom]),R.push([1,0])),A.push([rt.left,X]),R.push([0,1]),A.push([L,rt.bottom]),R.push([1,0])}var H=Ji((h.clipHorizontalGuidelines||[]).map((function(t){return G("".concat(t),_)})),(h.clipVerticalGuidelines||[]).map((function(t){return G("".concat(t),S)})),S,_),V=[],K=[];if(W||N)V=[A[4][0],A[2][0]],K=[A[1][1],A[3][1]];else if(P){var U=[A[0],A[2],A[4],A[6]],$=[R[0],R[2],R[4],R[6]];V=U.filter((function(t,e){return $[e][0]})).map((function(t){return t[0]})),K=U.filter((function(t,e){return $[e][1]})).map((function(t){return t[1]}))}else V=A.filter((function(t,e){return R[e][0]})).map((function(t){return t[0]})),K=A.filter((function(t,e){return R[e][1]})).map((function(t){return t[1]}));var Z=[0,0],Q=ki(H,h.clipTargetBounds&&{left:0,top:0,right:S,bottom:_},V,K,5,5),J=Q.horizontal,tt=Q.vertical,et=J.offset,nt=tt.offset;if(J.isBound&&(Z[1]+=et),tt.isBound&&(Z[0]+=nt),(N||W)&&0===R[0][0]&&0===R[0][1]){var rt,it=(rt=To(F)).bottom-rt.top,ot=N?rt.right-rt.left:it;ot-=tt.isBound?_a(nt):0===tt.snapIndex?-nt:nt,it-=J.isBound?_a(et):0===J.snapIndex?-et:et,W&&(ot=it=bi(tt,J)>0?it:ot);var at=A[0];A[1][1]=at[1]-it,A[2][0]=at[0]+ot,A[3][1]=at[1]+it,A[4][0]=at[0]-ot}else if(P&&v&&c){var st=Mn(rs(D),2),ut=st[0],ct=st[1],lt=ut&&ct?ut/ct:0,ft=D[p].direction||"",pt=A[1][1];X=A[5][1],L=A[7][0],q=A[3][0],_a(et)<=_a(nt)?et=Sa(et)*_a(nt)/lt:nt=Sa(nt)*_a(et)*lt,ft.indexOf("w")>-1?L-=nt:ft.indexOf("e")>-1?q-=nt:(L+=nt/2,q-=nt/2),ft.indexOf("n")>-1?pt-=et:ft.indexOf("s")>-1?X-=et:(pt+=et/2,X-=et/2);var dt=ns(pt,q,X,L);A.forEach((function(t,e){var n;n=Mn(dt[e].pos,2),t[0]=n[0],t[1]=n[1]}))}else A.forEach((function(t,e){var n=R[e];n[0]&&(t[0]-=nt),n[1]&&(t[1]-=et)}));var ht=es(t,d,F),vt="".concat(w,"(").concat(ht.join(M),")");if(x.clipPathState=vt,W||N?(V=[A[4][0],A[2][0]],K=[A[1][1],A[3][1]]):P?(V=(U=[A[0],A[2],A[4],A[6]]).map((function(t){return t[0]})),K=U.map((function(t){return t[1]}))):(V=A.map((function(t){return t[0]})),K=A.map((function(t){return t[1]}))),x.snapBoundInfos=ki(H,h.clipTargetBounds&&{left:0,top:0,right:S,bottom:_},V,K,1,1),b){var gt=x.is3d,mt=x.allMatrix,bt=gt?4:3,yt=Z;s&&(yt=[E[0]+Z[0]-y[0],E[1]+Z[1]-y[1]]),b.deltaOffset=be(mt,[yt[0],yt[1],0,0],bt)}return Qo(t,"onClip",Uo(t,e,Dn({clipEventType:"changed",clipType:w,poses:F,clipStyle:vt,clipStyles:ht,distX:g,distY:m},Vo(((i={})["rect"===w?"clip":"clipPath"]=vt,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,i=e.isDouble,o=r.isLine,a=r.isClipStart,s=r.isControl;return!!a&&(Qo(t,"onClipEnd",$o(t,e,{})),i&&(s?function(t,e){var n=e.datas,r=n.clipPath,i=n.clipIndex,o=r,a=o.type,s=o.poses,u=o.splitter,c=s.map((function(t){return t.pos})),l=c.length;if("polygon"===a)s.splice(i,1),c.splice(i,1);else{if("inset"!==a)return;if(i<8)return;if(function(t,e,n,r,i){void 0===i&&(i=e.length);var o=Za(t.slice(8)),a=o.horizontalRange,s=o.verticalRange,u=n-8,c=0;if(0===u)c=i;else if(u>0&&u<a[1])c=a[1]-u;else{if(!(u>=s[0]))return;c=s[0]+s[1]-u}t.splice(n,c),e.splice(n,c)}(s,c,i,0,l),l===s.length)return}var f=es(t,r,c),p="".concat(a,"(").concat(f.join(u),")");Qo(t,"onClip",Uo(t,e,Dn({clipEventType:"removed",clipType:a,poses:c,clipStyles:f,clipStyle:p,distX:0,distY:0},Vo({clipPath:p},e))))}(t,e):o&&function(t,e){var n=Mn(ur(t,e),2),r=n[0],i=n[1],o=e.datas,a=o.clipPath,s=o.clipIndex,u=a,c=u.type,l=u.poses,f=u.splitter,p=l.map((function(t){return t.pos}));if("polygon"===c)p.splice(s,0,[r,i]);else{if("inset"!==c)return;var d=Ha.indexOf(s),h=Va.indexOf(s),v=l.length;if(function(t,e,n,r,i,o,a,s,u,c,l){void 0===c&&(c=0),void 0===l&&(l=0);var f=Za(t.slice(8)),p=f.horizontalRange,d=f.verticalRange;if(r>-1)for(var h=1===Ka[r]?o-c:s-o,v=p[1];v<=r;++v){var g=1===Ua[v]?l:u,m=0;if(r===v?m=o:0===v?m=c+h:-1===Ka[v]&&(m=s-(e[8][0]-c)),t.splice(8+v,0,{horizontal:Ka[v],vertical:0,pos:[m,g]}),e.splice(8+v,0,[m,g]),0===v)break}else if(i>-1){var b=1===Ua[i]?a-l:u-a;if(0===p[1]&&0===d[1]){var y=[c+b,l];t.push({horizontal:Ka[0],vertical:0,pos:y}),e.push(y)}var E=d[0];for(v=d[1];v<=i&&(m=1===Ka[v]?c:s,g=0,i===v?g=a:0===v?g=l+b:1===Ua[v]?g=e[8+E][1]:-1===Ua[v]&&(g=u-(e[8+E][1]-l)),t.push({horizontal:0,vertical:Ua[v],pos:[m,g]}),e.push([m,g]),0!==v);++v);}}(l,p,0,d,h,r,i,p[4][0],p[4][1],p[0][0],p[0][1]),v===l.length)return}var g=es(t,a,p),m="".concat(c,"(").concat(g.join(f),")");Qo(t,"onClip",Uo(t,e,Dn({clipEventType:"added",clipType:c,poses:p,clipStyles:g,clipStyle:m,distX:0,distY:0},Vo({clipPath:m},e))))}(t,e)),i||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},as={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[":host[data-able-origindraggable] .control.origin {\npointer-events: auto;\n}"],dragControlCondition:function(t,e){return e.isRequest?"originDraggable"===e.requestAble:$(e.inputEvent.target,po("origin"))},dragControlStart:function(t,e){var n=e.datas;cr(t,e);var r=Uo(t,e,{dragStart:zi.dragStart(t,(new ar).dragStart([0,0],e))}),i=Qo(t,"onDragOriginStart",r);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===i?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,i=e.isRequest;if(!n.isDragOrigin)return!1;var o=Mn(hr(e),2),a=o[0],s=o[1],u=t.state,c=u.width,l=u.height,f=u.offsetMatrix,p=u.targetMatrix,d=u.is3d,h=t.props.originRelative,v=void 0===h||h,g=d?4:3,m=[a,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var y=ye(n.startOrigin,m),E=ye(n.startTargetOrigin,m),x=Ee(m,n.prevOrigin),S=br(f,p,y,g),_=t.getRect(),C=To(Oo(S,c,l,g)),w=[_.left-C.left,_.top-C.top];n.prevOrigin=m;var D=[ca(E[0],c,v),ca(E[1],l,v)].join(" "),M=zi.drag(t,or(e,t.state,w,!!r,!1)),O=Uo(t,e,Dn(Dn({width:c,height:l,origin:y,dist:m,delta:x,transformOrigin:D,drag:M},Vo({transformOrigin:D,transform:M.transform},e)),{afterTransform:M.transform}));return Qo(t,"onDragOrigin",O),O},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(Qo(t,"onDragOriginEnd",$o(t,e,{})),!0)},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:r,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function ss(t,e,n,r,i){return void 0===r&&(r=[0,0]),Qa(t&&"0px"!==t?M(t):[],e,n,0,0,r,i)}function us(t,e,n,r,i){var o=t.state,a=o.width,s=o.height,u=$a(i,t.props.roundRelative,a,s),c=u.raws,l=u.styles,f=function(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,n){return t.horizontal?e[n]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,n){return t.vertical?e[n]:null})).filter((function(t){return null!=t}))}}(u.radiusPoses,c),p=f.horizontals,d=f.verticals,h=l.join(" ");o.borderRadiusState=h;var v=Uo(t,e,Dn({horizontals:p,verticals:d,borderRadius:h,width:a,height:s,delta:r,dist:n},Vo({borderRadius:h},e)));return Qo(t,"onRound",v),v}function cs(t){var e,n,r=t.getState().style,i=r.borderRadius||"";if(!i&&t.props.groupable){var o=t.moveables[0],a=t.getTargets()[0];a&&((null==o?void 0:o.props.target)===a?(i=null!==(n=null===(e=t.moveables[0])||void 0===e?void 0:e.state.style.borderRadius)&&void 0!==n?n:"",r.borderRadius=i):(i=Jo(a).borderRadius,r.borderRadius=i))}return i}var ls={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[".control.border-radius {\nbackground: #d66;\ncursor: pointer;\nz-index: 3;\n}",".control.border-radius.vertical {\nbackground: #d6d;\nz-index: 2;\n}",".control.border-radius.virtual {\nopacity: 0.5;\nz-index: 1;\n}",":host.round-line-clickable .line.direction {\ncursor: pointer;\n}"],className:function(t){var e=t.props.roundClickable;return!0===e||"line"===e?po("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var n=t.getState(),r=n.target,i=n.width,o=n.height,a=n.allMatrix,s=n.is3d,u=n.left,c=n.top,l=n.borderRadiusState,f=t.props,p=f.minRoundControls,d=void 0===p?[0,0]:p,h=f.maxRoundControls,v=void 0===h?[4,4]:h,g=f.zoom,m=f.roundPadding,b=void 0===m?0:m,y=f.isDisplayShadowRoundControls,E=f.groupable;if(!r)return null;var x=l||cs(t),S=s?4:3,_=ss(x,i,o,d,!0);if(!_)return null;var C=0,w=0,D=E?[0,0]:[u,c];return _.map((function(t,n){var r=t.horizontal,i=t.vertical,o=t.direction||"",s=On([],Mn(t.pos),!1);w+=Math.abs(r),C+=Math.abs(i),r&&o.indexOf("n")>-1&&(s[1]-=b),i&&o.indexOf("w")>-1&&(s[0]-=b),r&&o.indexOf("s")>-1&&(s[1]+=b),i&&o.indexOf("e")>-1&&(s[0]+=b);var u=Ee(Mo(a,s,S),D),c=y&&"horizontal"!==y,l=t.vertical?C<=v[1]&&(c||!t.virtual):w<=v[0]&&(y||!t.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(n),className:po("control","border-radius",t.vertical?"vertical":"",t.virtual?"virtual":""),"data-radius-index":n,style:{display:l?"block":"none",transform:"translate(".concat(u[0],"px, ").concat(u[1],"px) scale(").concat(g,")")}})}))},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,i=n.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,u=a?parseInt(i.getAttribute("data-radius-index"),10):-1,c=-1;if(s){var l=i.getAttribute("data-line-key")||"";l&&(c=parseInt(l.replace(/render-line-/g,""),10),isNaN(c)&&(c=-1))}if(!a&&!s)return!1;var f=Uo(t,e,{});if(!1===Qo(t,"onRoundStart",f))return!1;r.lineIndex=c,r.controlIndex=u,r.isControl=a,r.isLine=s,cr(t,e);var p=t.props,d=p.roundRelative,h=p.minRoundControls,v=void 0===h?[0,0]:h,g=t.state,m=g.width,b=g.height;r.isRound=!0,r.prevDist=[0,0];var y=ss(cs(t)||"",m,b,v,!0)||[];return r.controlPoses=y,g.borderRadiusState=$a(y,d,m,b).styles.join(" "),f},dragControl:function(t,e){var n=e.datas,r=n.controlPoses;if(!n.isRound||!n.isControl||!r.length)return!1;var i=n.controlIndex,o=Mn(hr(e),2),a=o[0],s=o[1],u=[a,s],c=Ee(u,n.prevDist),l=t.props.maxRoundControls,f=void 0===l?[4,4]:l,p=t.state,d=p.width,h=p.height,v=r[i],g=v.vertical,m=v.horizontal,b=r.map((function(t){var e=t.horizontal,n=t.vertical,r=[e*m*u[0],n*g*u[1]];if(e){if(1===f[0])return r;if(f[0]<4&&e!==m)return r}else{if(0===f[1])return r[1]=n*m*u[0]/d*h,r;if(g){if(1===f[1])return r;if(f[1]<4&&n!==g)return r}}return[0,0]}));b[i]=u;var y=r.map((function(t,e){return Dn(Dn({},t),{pos:ye(t.pos,b[e])})}));return i<4?y.slice(0,i+1).forEach((function(t){t.virtual=!1})):y.slice(4,i+1).forEach((function(t){t.virtual=!1})),n.prevDist=[a,s],us(t,e,u,c,y)},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,i=e.isDouble;if(!r.isRound)return!1;var o=r.isControl,a=r.controlIndex,s=r.isLine,u=r.lineIndex,c=r.controlPoses,l=c.filter((function(t){return t.virtual})).length,f=t.props.roundClickable,p=void 0===f||f;if(i&&p){if(!o||!0!==p&&"control"!==p){if(s&&(!0===p||"line"===p)){var d=Mn(ur(t,e),2);!function(t,e,n,r){var i=t.filter((function(t){var e=t.virtual;return t.horizontal&&!e})).length,o=t.filter((function(t){var e=t.virtual;return t.vertical&&!e})).length,a=-1;if(0===e&&(0===i?a=0:1===i&&(a=1)),2===e&&(i<=2?a=2:i<=3&&(a=3)),3===e&&(0===o?a=4:o<4&&(a=7)),1===e&&(o<=1?a=5:o<=2&&(a=6)),-1!==a&&t[a].virtual){var s=t[a];!function(t,e){e<4?t.slice(0,e+1).forEach((function(t){t.virtual=!1})):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach((function(t){t.virtual=!1})))}(t,a),a<4?s.pos[0]=n:s.pos[1]=r}}(c,u,d[0],d[1])}}else!function(t,e){e<4?t.slice(e,4).forEach((function(t){t.virtual=!0})):t.slice(e).forEach((function(t){t.virtual=!0}))}(c,a);l!==c.filter((function(t){return t.virtual})).length&&us(t,e,[0,0],[0,0],c)}var h=$o(t,e,{});return Qo(t,"onRoundEnd",h),n.borderRadiusState="",h},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=Wr(t,"roundable",e);return Qo(t,"onRoundGroupStart",Dn({targets:t.props.targets,events:o.map((function(t,e){return Dn(Dn({},t),{target:i[e],moveable:r[e],currentTarget:r[e]})}))},n)),n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=Wr(t,"roundable",e),a=Dn({targets:t.props.targets,events:o.map((function(t,e){return Dn(Dn(Dn({},t),{target:i[e],moveable:r[e],currentTarget:r[e]}),Vo({borderRadius:n.borderRadius},t))}))},n);return Qo(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var n=t.moveables,r=t.props.targets,i=Wr(t,"roundable",e);Zo(t,"onRound",(function(e){var o=Dn({targets:t.props.targets,events:i.map((function(t,i){return Dn(Dn(Dn({},t),{target:r[i],moveable:n[i],currentTarget:n[i]}),Vo({borderRadius:e.borderRadius},t))}))},e);Qo(t,"onRoundGroup",o)}));var o=this.dragControlEnd(t,e);if(!o)return!1;var a=Dn({targets:t.props.targets,events:i.map((function(t,e){var i;return Dn(Dn({},t),{target:r[e],moveable:n[e],currentTarget:n[e],lastEvent:null===(i=t.datas)||void 0===i?void 0:i.lastEvent})}))},o);return Qo(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}},fs={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var n=t.state,r=n.is3d,i=n.targetMatrix,o=n.inlineTransform,a=r?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(xe(i,!0),")"),s=o&&"none"!==o?o:a;e.datas.startTransforms=function(t,e){var n=Re(e?4:3);return t==="matrix".concat(e?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===t}(s,r)?[]:M(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Uo(t,e,{setTransform:function(t){e.datas.startTransforms=E(t)?t:M(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Uo(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),Qo(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),Qo(t,"onBeforeRender",Uo(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),Qo(t,"onBeforeRenderEnd",Uo(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.setTransform(r,t),n.resetStyle(t),n.fillDragStartParams(r,t)}));Qo(t,"onBeforeRenderGroupStart",Uo(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.resetStyle(t),n.fillDragParams(r,t)}));Qo(t,"onBeforeRenderGroup",Uo(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Qo(t,"onBeforeRenderGroupEnd",Uo(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},ps={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){Qo(t,"onRenderStart",Uo(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Qo(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){Qo(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){Qo(t,"onRenderGroupStart",Uo(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.fillDragParams(r,t)}));Qo(t,"onRenderGroup",Uo(t,e,Dn(Dn({isPinch:!!e.isPinch,targets:t.props.targets,transform:wr(e),transformObject:{}},Vo(Dr(e))),{events:o})))},dragGroupEnd:function(t,e){var n=this,r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.fillDragEndParams(r,t)}));Qo(t,"onRenderGroupEnd",Uo(t,e,Dn({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transformObject:{},transform:wr(e)},Vo(Dr(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var n={};return Ge(Cr(e)||[]).forEach((function(t){n[t.name]=t.functionValue})),Uo(t,e,Dn({isPinch:!!e.isPinch,transformObject:n,transform:wr(e)},Vo(Dr(e))))},fillDragEndParams:function(t,e){var n={};return Ge(Cr(e)||[]).forEach((function(t){n[t.name]=t.functionValue})),Uo(t,e,Dn({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:n,transform:wr(e)},Vo(Dr(e))))}};function ds(t,e,n,r,i,o,a){o.clientDistX=o.distX,o.clientDistY=o.distY;var s="Start"===i,u="End"===i,c="After"===i,l=t.state.target,f=o.isRequest,p=r.indexOf("Control")>-1;if(!l||s&&p&&!f&&t.areaElement===o.inputEvent.target)return!1;var d=On([],Mn(e),!1);if(f){var h=o.requestAble;d.some((function(t){return t.name===h}))||d.push.apply(d,On([],Mn(t.props.ables.filter((function(t){return t.name===h}))),!1))}if(!d.length||d.every((function(t){return t.dragRelation})))return!1;var v,g=o.inputEvent;u&&g&&(v=document.elementFromPoint(o.clientX,o.clientY)||g.target);var m=!1,b=function(){var t;m=!0,null===(t=o.stop)||void 0===t||t.call(o)},y=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());y&&t.updateRect(i,!0,!1);var E=o.datas,x=p?"controlGesto":"targetGesto",S=t[x],_=function(e,n,r){if(!(n in e)||S!==t[x])return!1;var i=e.name,a=E[i]||(E[i]={});if(s&&(a.isEventStart=!r||!e[r]||e[r](t,o)),!a.isEventStart)return!1;var u=e[n](t,Dn(Dn({},o),{stop:b,datas:a,originalDatas:E,inputTarget:v}));return t._emitter.off(),s&&!1===u&&(a.isEventStart=!1),u};y&&d.forEach((function(e){e.unset&&e.unset(t)})),_(fs,"drag".concat(r).concat(i));var C=0,w=0;n.forEach((function(e){if(m)return!1;var n="".concat(e).concat(r).concat(i),a="".concat(e).concat(r,"Condition");""!==i||f||sa(t.state,o);var u=d.filter((function(t){return t[n]})),c=(u=u.filter((function(t,e){return t.name&&u.indexOf(t)===e}))).filter((function(t){return _(t,n,a)})).length;m&&++C,c&&++w,!m&&s&&u.length&&!c&&(C+=u.filter((function(t){var e=t.name;return!!E[e].isEventStart&&"strong"!==t.dragRelation})).length?1:0)})),c&&!w||_(ps,"drag".concat(r).concat(i));var D=S!==t[x]||C===n.length;return(u||m||D)&&(t.state.gestos={},t.moveables&&t.moveables.forEach((function(t){t.state.gestos={}})),d.forEach((function(e){e.unset&&e.unset(t)}))),s&&!D&&!f&&w&&t.props.preventDefault&&(null==o||o.preventDefault()),!t.isUnmounted&&!D&&((!s&&w&&!a||u)&&(t.props.flushSync||ho)((function(){t.updateRect(u?i:"",!0,!1),t.forceUpdate()})),s||u||c||!w||a||ds(t,e,n,r,i+"After",o),!0)}function hs(t,e){return function(n,r){var i;void 0===r&&(r=n.inputEvent.target);var o=r,a=t.areaElement,s=t._dragTarget;return!(!s||!e&&(null===(i=t.controlGesto)||void 0===i?void 0:i.isFlag()))&&(o===s||s.contains(o)||o===a||!t.isMoveableElement(o)&&!t.controlBox.contains(o)||$(o,"moveable-area")||$(o,"moveable-padding")||$(o,"moveable-edgeDraggable"))}}function vs(t,e,n){var r=t.controlBox,i=[],o=t.props,a=o.dragArea,s=t.state.target,u=o.dragTarget;i.push(r),a&&!u||i.push(e),!a&&u&&s&&e!==s&&o.dragTargetSelf&&i.push(s);var c=hs(t);return ms(t,i,"targetAbles",n,{dragStart:c,pinchStart:c})}function gs(t,e){var n=t.controlBox,r=[];r.push(n);var i=hs(t,!0),o=function(t,e){return void 0===e&&(e=t.inputEvent.target),e===n||!i(t,e)};return ms(t,r,"controlAbles",e,{dragStart:o,pinchStart:o})}function ms(t,e,n,r,i){void 0===i&&(i={});var o="targetAbles"===n,a=t.props,s=a.pinchOutside,u=a.pinchThreshold,c=a.preventClickEventOnDrag,l=a.preventClickDefault,f=a.checkInput,p=a.dragFocusedInput,d=a.preventDefault,h=void 0===d||d,v=a.preventRightClick,g=void 0===v||v,m=a.preventWheelClick,b={preventDefault:h,preventRightClick:g,preventWheelClick:void 0===m||m,container:da(a.dragContainer,!0)||it(t.getControlBoxElement()),pinchThreshold:u,pinchOutside:s,preventClickEventOnDrag:!!o&&c,preventClickEventOnDragStart:!!o&&l,preventClickEventByCondition:o?null:function(e){return t.controlBox.contains(e.target)},checkInput:!!o&&f,dragFocusedInput:p},y=new yn(e,b),E="Control"===r;return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){y.on("".concat(e).concat(o),(function(a){var s,u=a.eventType,c="drag"===e&&a.isPinch;if(!i[u]||i[u](a)){if(!c){var l="drag"===e?[e]:["drag",e],f=On([],Mn(t[n]),!1);ds(t,f,l,r,o,a)?(t.props.stopPropagation||"Start"===o&&E)&&(null===(s=null==a?void 0:a.inputEvent)||void 0===s||s.stopPropagation()):a.stop()}}else a.stop()}))}))})),y}var bs=function(){function t(t,e,n){var r=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(t){var e=r.eventName,n=r.moveable;n.state.disableNativeEvent||r.ables.forEach((function(r){r[e](n,{inputEvent:t})}))},t.addEventListener(n.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function ys(t,e,n,r){void 0===n&&(n=e);var i=0,o=0,a=0,s={},u=Fo(t);if(t&&(i=u.offsetWidth,o=u.offsetHeight),t){var c=function(t,e,n,r){var i;void 0===n&&(n=e);var o=Ir(t,e),a=o.matrixes,s=o.is3d,u=o.targetMatrix,c=o.transformOrigin,l=o.targetOrigin,f=o.offsetContainer,p=o.hasFixed,d=o.zoom,h=function(t,e){if(Fr){var n=z(Fr,(function(n){return n[0][0]==t&&n[0][1]==e}));if(n)return n[1]}var r=Ir(t,e,!0);return Fr&&Fr.push([[t,e],r]),r}(f,n),v=h.matrixes,g=h.is3d,m=h.offsetContainer,b=h.zoom,y=r||g||s,E=y?4:3,x="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,S=u,_=Re(E),C=Re(E),w=Re(E),D=Re(E),M=a.length,O=v.map((function(t){return Dn(Dn({},t),{matrix:t.matrix?On([],Mn(t.matrix),!1):void 0})})).reverse();a.reverse(),!s&&y&&(S=ge(S,3,4),So(a)),!g&&y&&So(O),O.forEach((function(t){C=be(C,t.matrix,E)}));var T=n||rt(t),P=(null===(i=O[0])||void 0===i?void 0:i.target)||yo(T,T,!0).offsetParent,R=O.slice(1).reduce((function(t,e){return be(t,e.matrix,E)}),Re(E));a.forEach((function(t,e){if(M-2===e&&(w=_.slice()),M-1===e&&(D=_.slice()),!t.matrix){var n=function(t,e,n,r,i){var o,a=t.target,s=t.origin,u=e.matrix,c=Fo(a),l=c.offsetWidth,f=c.offsetHeight,p=n.getBoundingClientRect(),d=[0,0];n===rt(n)&&(d=xo(a,!0));for(var h=a.getBoundingClientRect(),v=h.left-p.left+n.scrollLeft-(n.clientLeft||0)+d[0],g=h.top-p.top+n.scrollTop-(n.clientTop||0)+d[1],m=h.width,b=h.height,y=me(r,i,u),E=Po(y,l,f,r),x=E.left,S=E.top,_=E.width,C=E.height,w=Mo(y,s,r),D=Ee(w,[x,S]),M=[v+D[0]*m/_,g+D[1]*b/C],O=[0,0],T=0;++T<10;){var P=de(i,r);o=Mn(Ee(Mo(P,M,r),Mo(P,w,r)),2),O[0]=o[0],O[1]=o[1];var R=Po(me(r,i,Ie(O,r),u),l,f,r),k=R.left-v,I=R.top-g;if(_a(k)<2&&_a(I)<2)break;M[0]-=k,M[1]-=I}return O.map((function(t){return Math.round(t)}))}(t,a[e+1],P,E,be(R,_,E));t.matrix=Ie(n,E)}_=be(_,t.matrix,E)}));var k=!x&&s;S||(S=Re(k?4:3));var I=Co(x&&16===S.length?ge(S,4,3):S,k),B=C;return C=pe(C,E,E),{hasZoom:1!==d||1!==b,hasFixed:p,matrixes:a,rootMatrix:C,originalRootMatrix:B,beforeMatrix:w,offsetMatrix:D,allMatrix:_,targetMatrix:S,targetTransform:I,inlineTransform:t.style.transform,transformOrigin:c,targetOrigin:l,is3d:y,offsetContainer:f,offsetRootContainer:m}}(t,e,n,r),l=sr(c.allMatrix,c.transformOrigin,i,o);s=Dn(Dn({},c),l);var f=sr(c.allMatrix,[50,50],100,100);a=Ao([f.pos1,f.pos2],f.direction)}var p=r?4:3;return Dn(Dn(Dn({hasZoom:!1,width:i,height:o,rotation:a},u),{originalRootMatrix:Re(p),rootMatrix:Re(p),beforeMatrix:Re(p),offsetMatrix:Re(p),allMatrix:Re(p),targetMatrix:Re(p),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function Es(t,e,n,r,i,o){void 0===o&&(o=[]);var a=1,s=[0,0],u={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},f={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},p=[0,0],d={},h=ys(e,n,i,!0);if(e){var v=Gr(e);o.forEach((function(t){d[t]=v(t)}));var g=h.is3d?4:3,m=sr(h.offsetMatrix,ye(h.transformOrigin,he(h.targetMatrix,g)),h.width,h.height);a=m.direction,s=ye(m.origin,[m.left-h.left,m.top-h.top]),f=No(h.offsetRootContainer);var b=yo(r,r,!0).offsetParent||h.offsetRootContainer;if(h.hasZoom){var y=sr(be(h.originalRootMatrix,h.allMatrix),h.transformOrigin,h.width,h.height),E=sr(h.originalRootMatrix,mo(Gr(b)("transformOrigin")).map((function(t){return parseFloat(t)})),b.offsetWidth,b.offsetHeight);if(u=Wo(y,f),l=Wo(E,f,b,!0),t){var x=y.left,S=y.top;c=Wo({left:x,top:S,bottom:S,right:S},f)}}else{u=No(e),l=function(t){var e=null==Br?void 0:Br.get(t);if(e)return e;var n=No(t,!0);return Br&&Br.set(t,n),n}(b),t&&(c=No(t));var _=l.left,C=l.top,w=l.clientLeft,D=l.clientTop,M=[u.left-_,u.top-C];p=Ee(aa(h.rootMatrix,M,4),[w+h.left,D+h.top])}}return Dn({targetClientRect:u,containerClientRect:l,moveableClientRect:c,rootContainerClientRect:f,beforeDirection:a,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:d,offsetDelta:p},h)}function xs(t){var e=t.pos1,n=t.pos2,r=t.pos3,i=t.pos4;if(!(e&&n&&r&&i))return null;var o=nn([e,n,r,i]),a=[o.minX,o.minY],s=Ee(t.origin,a);return e=Ee(e,a),n=Ee(n,a),r=Ee(r,a),i=Ee(i,a),Dn(Dn({},t),{left:t.left,top:t.top,posDelta:a,pos1:e,pos2:n,pos3:r,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var Ss=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=Dn({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Es(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new qe,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var t=e.props.parentMoveable;t?t.checkUpdateRect():(F(e._observerId),e._observerId=B((function(){e.isDragging()||e.updateRect()})))}},e._onPreventClick=function(t){t.stopPropagation(),t.preventDefault()},e}wn(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=this.getState(),n=t.parentPosition,r=t.className,o=t.target,a=t.zoom,s=t.cspNonce,u=t.translateZ,c=t.cssStyled,l=t.groupable,f=t.linePadding,p=t.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var d=Mn(n||[0,0],2),h=d[0],v=d[1],g=e.left,m=e.top,b=e.target,y=e.direction,E=e.hasFixed,x=e.offsetDelta,S=t.targets,_=this.isDragging(),C={};this.getEnabledAbles().forEach((function(t){C["data-able-".concat(t.name.toLowerCase())]=!0}));var w=this._getAbleClassName(),D=S&&S.length&&(b||l)||o||!this._hasFirstTarget&&this.state.isPersisted,M=this.controlBox||this.props.firstRenderState||this.props.persistData,O=[g-h,m-v];!l&&t.useAccuratePosition&&(O[0]+=x[0],O[1]+=x[1]);var T={position:E?"fixed":"absolute",display:D?"block":"none",visibility:M?"visible":"hidden",transform:"translate3d(".concat(O[0],"px, ").concat(O[1],"px, ").concat(u,")"),"--zoom":a,"--zoompx":"".concat(a,"px")};return f&&(T["--moveable-line-padding"]=f),p&&(T["--moveable-control-padding"]=p),Yt(c,Dn({cspNonce:s,ref:i(this,"controlBox"),className:"".concat(po("control-box",-1===y?"reverse":"",_?"dragging":"")," ").concat(w," ").concat(r)},C,{onClick:this._onPreventClick,style:T}),this.renderAbles(),this._renderLines())},n.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var t=this.props,e=t.parentMoveable,n=t.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),n||e||this.state.isPersisted||(this.updateRect("",!1,!1),this.forceUpdate())},n.componentDidUpdate=function(t){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(t)},n.componentWillUnmount=function(){var t,e;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),null===(t=this._reiszeObserver)||void 0===t||t.disconnect(),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._viewContainer&&this._changeAbleViewClassNames([]),Ho(this,!1),Ho(this,!0);var n=this.events;for(var r in n){var i=n[r];i&&i.destroy()}},n.getTargets=function(){var t=this.props.target;return t?[t]:[]},n.getAble=function(t){return z(this.props.ables||[],(function(e){return e.name===t}))},n.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.parentElement},n.getControlBoxElement=function(){return this.controlBox},n.getDragElement=function(){return this._dragTarget},n.isMoveableElement=function(t){var e;return t&&((null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"class"))||"").indexOf(Hn)>-1},n.dragStart=function(t,e){void 0===e&&(e=t.target);var n=this.targetGesto,r=this.controlGesto;return n&&hs(this)({inputEvent:t},e)?n.isFlag()||n.triggerDragStart(t):r&&this.isMoveableElement(e)&&(r.isFlag()||r.triggerDragStart(t)),this},n.hitTest=function(t){var e,n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,u=n.targetClientRect;if(!r)return 0;if(at(t)){var c=t.getBoundingClientRect();e={left:c.left,top:c.top,width:c.width,height:c.height}}else e=Dn({width:0,height:0},t);var l=e.left,f=e.top,p=e.width,d=e.height,h=en([i,o,s,a],u),v=tn(function(t,e){var n=function(t,e){var n=t.slice(),r=e.slice();-1===L(n)&&n.reverse(),-1===L(r)&&r.reverse();var i=un(n),o=un(r),a=i.map((function(t){return on(t[0],t[1])})),s=o.map((function(t){return on(t[0],t[1])})),u=[];a.forEach((function(t,e){var n=i[e],a=[];s.forEach((function(r,i){var s=sn(an(t,r),[n,o[i]]);a.push.apply(a,s.map((function(t){return{index1:e,index2:i,pos:t,type:"intersection"}})))})),a.sort((function(t,e){return q(n[0],t.pos)-q(n[0],e.pos)})),u.push.apply(u,a),rn(n[1],r)&&u.push({index1:e,index2:-1,pos:n[1],type:"inside"})})),o.forEach((function(t,e){if(rn(t[1],n)){var r=!1,i=I(u,(function(t){return t.index2===e?(r=!0,!1):!!r}));-1===i&&(r=!1,i=I(u,(function(t){var n=t.index1,i=t.index2;return-1===n&&i+1===e?(r=!0,!1):!!r}))),-1===i?u.push({index1:-1,index2:e,pos:t[1],type:"inside"}):u.splice(i,0,{index1:-1,index2:e,pos:t[1],type:"inside"})}}));var c={};return u.filter((function(t){var e=t.pos,n=e[0]+"x"+e[1];return!c[n]&&(c[n]=!0,!0)}))}(t,e);return n.map((function(t){return t.pos}))}(h,[[l,f],[l+p,f],[l+p,f+d],[l,f+d]])),g=tn(h);return v&&g?Math.min(100,v/g*100):0},n.isInside=function(t,e){var n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,u=n.targetClientRect;return!!r&&rn([t,e],en([i,o,s,a],u))},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props,i=!r.parentPosition&&!r.wrapperMoveable;i&&Ar(!0);var o=r.parentMoveable,a=this.state.target||r.target,s=this.getContainer(),u=o?o._rootContainer:this._rootContainer,c=Es(this.controlBox,a,s,s,u||s,this._getRequestStyles());if(!a&&this._hasFirstTarget&&r.persistData){var l=xs(r.persistData);for(var f in l)c[f]=l[f]}i&&Ar(),this.updateState(c,!o&&n)},n.isDragging=function(t){var e,n,r=this.targetGesto,i=this.controlGesto;return(null==r?void 0:r.isFlag())?!t||!!(null===(e=r.getEventData()[t])||void 0===e?void 0:e.isEventStart):!(!(null==i?void 0:i.isFlag())||t&&!(null===(n=i.getEventData()[t])||void 0===n?void 0:n.isEventStart))},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=Lo(this.state),n=Mn(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=To(e),u=t.width,c=t.height,l=s.width,f=s.height,p=s.left,d=s.top,h=[t.left,t.top],v=ye(h,t.origin);return{width:l,height:f,left:p,top:d,pos1:r,pos2:i,pos3:o,pos4:a,offsetWidth:u,offsetHeight:c,beforeOrigin:ye(h,t.beforeOrigin),origin:v,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},n.getManager=function(){return this},n.stopDrag=function(t){var e;t&&"target"!==t||(!1===(null==(e=this.targetGesto)?void 0:e.isIdle())&&qo(this,!1),null==e||e.stop()),t&&"control"!==t||(!1===(null==(e=this.controlGesto)?void 0:e.isIdle())&&qo(this,!0),null==e||e.stop())},n.getRotation=function(){var t=this.state;return function(t,e,n){var r=X(t,e)/Math.PI*180;return(r=n>=0?r:180-r)>=0?r:360+r}(t.pos1,t.pos2,t.direction)},n.request=function(t,e,n){void 0===e&&(e={});var r=this,i=r.props,o=i.parentMoveable||i.wrapperMoveable||r,a=o.props.ables,s=i.groupable,u=z(a,(function(e){return e.name===t}));if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var c=u.request(r),l=n||e.isInstant,f=c.isControl?"controlAbles":"targetAbles",p="".concat(s?"Group":"").concat(c.isControl?"Control":""),d=On([],Mn(o[f]),!1),h={request:function(e){return ds(r,d,["drag"],p,"",Dn(Dn({},c.request(e)),{requestAble:t,isRequest:!0}),l),h},requestEnd:function(){return ds(r,d,["drag"],p,"End",Dn(Dn({},c.requestEnd()),{requestAble:t,isRequest:!0}),l),h}};return ds(r,d,["drag"],p,"Start",Dn(Dn({},c.requestStart(e)),{requestAble:t,isRequest:!0}),l),l?h.request(e).requestEnd():h},n.getMoveables=function(){return[this]},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var t=this.getState(),e=this.props,n=e.padding,r=t.originalBeforeOrigin,i=t.transformOrigin,o=t.allMatrix,a=t.is3d,s=t.pos1,u=t.pos2,c=t.pos3,l=t.pos4,f=t.left,p=t.top,d=t.isPersisted,h=e.zoom||1;if(!n&&h<=1)return t.renderPoses=[s,u,c,l],void(t.renderLines=[[s,u],[u,l],[l,c],[c,s]]);var v=wa(n||{}),g=v.left,m=v.top,b=v.bottom,y=v.right,E=a?4:3,x=me(E,Ie((d?i:this.controlBox&&e.groupable?r:ye(r,[f,p])).map((function(t){return-t})),E),o,Ie(i,E)),S=ua(x,s,[-g,-m],E),_=ua(x,u,[y,-m],E),C=ua(x,c,[-g,b],E),w=ua(x,l,[y,b],E);if(t.renderPoses=[S,_,C,w],t.renderLines=[[S,_],[_,w],[w,C],[C,S]],h){var D=h/2;t.renderLines=[[ua(x,s,[-g-D,-m],E),ua(x,u,[y+D,-m],E)],[ua(x,u,[y,-m-D],E),ua(x,l,[y,b+D],E)],[ua(x,l,[y+D,b],E),ua(x,c,[-g-D,b],E)],[ua(x,c,[-g,b+D],E),ua(x,s,[-g,-m-D],E)]]}},n.checkUpdate=function(){this._isPropTargetChanged=!1;var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,o=i.target,a=i.container;if(o||e){this.updateAbles();var s=!ea(o,e);if(s||!ea(a,n)){var u=n||this.controlBox;u&&this.unsetAbles(),this.updateState({target:e,container:n}),!r&&u&&this.updateRect("End",!1,!1),this._isPropTargetChanged=s}}},n.waitToChangeTarget=function(){return new Promise((function(){}))},n.triggerEvent=function(t,e){var n=this.props;if(this._emitter.trigger(t,e),n.parentMoveable&&e.isRequest&&!e.isRequestChild)return n.parentMoveable.triggerEvent(t,e,!0);var r=n[t];return r&&r(e)},n.useCSS=function(t,e){var n=this.props.customStyledMap,r=t+e;return n[r]||(n[r]=_n(t,e)),n[r]},n.getState=function(){var t,e=this.props;(e.target||(null===(t=e.targets)||void 0===t?void 0:t.length))&&(this._hasFirstTarget=!0);var n=this.controlBox,r=e.persistData,i=e.firstRenderState;if(i&&!n)return i;if(!this._hasFirstTarget&&r){var o=xs(r);if(o)return this.updateState(o,!1),this.state}return this.state.isPersisted=!1,this.state},n.updateSelectors=function(){},n.unsetAbles=function(){var t=this;this.targetAbles.forEach((function(e){e.unset&&e.unset(t)}))},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props.triggerAblesSimultaneously,r=this.getEnabledAbles(t),i="drag".concat(e,"Start"),o="pinch".concat(e,"Start"),a="drag".concat(e,"ControlStart"),s=ta(r,[i,o],n),u=ta(r,[a],n);this.enabledAbles=r,this.targetAbles=s,this.controlAbles=u},n.updateState=function(t,e){if(e){if(this.isUnmounted)return;this.setState(t)}else{var n=this.state;for(var r in t)n[r]=t[r]}},n.getEnabledAbles=function(t){void 0===t&&(t=this.props.ables);var e=this.props;return t.filter((function(t){return t&&(t.always&&!1!==e[t.name]||e[t.name])}))},n.renderAbles=function(){var t,e,n,r,i=this,o=this.props.triggerAblesSimultaneously,a={createElement:Yt};return this.renderState={},(t=ia(ta(this.getEnabledAbles(),["render"],o).map((function(t){return(0,t.render)(i,a)||[]}))).filter((function(t){return t})),e=function(t){return t.key},n=[],r={},t.forEach((function(t,i){var o=e(t),a=r[o];a||(a=[],r[o]=a,n.push(a)),a.push(t)})),n).map((function(t){return t[0]}))},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},n._getRequestStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var n,r,i=null!==(r=null===(n=e.requestStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return On(On([],Mn(t),!1),Mn(i),!1)}),On([],Mn(this.props.requestStyles||[]),!1))},n._updateObserver=function(t){this._updateResizeObserver(t),this._updateMutationObserver(t)},n._updateEvents=function(){var t=this.targetAbles.length,e=this.controlAbles.length,n=this._dragTarget;(!t&&this.targetGesto||this._isTargetChanged(!0))&&(Ho(this,!1),this.updateState({gestos:{}})),e||Ho(this,!0),n&&t&&!this.targetGesto&&(this.targetGesto=vs(this,n,"")),!this.controlGesto&&e&&(this.controlGesto=gs(this,"Control"))},n._updateTargets=function(){var t=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=t.dragArea,this._propTarget=t.target,this._originalDragTarget=t.dragTarget||t.target,this._dragTarget=da(this._originalDragTarget,!0)},n._renderLines=function(){var t=this.props,e=t.zoom,n=t.hideDefaultLines,r=t.hideChildMoveableDefaultLines,i=t.parentMoveable;if(n||i&&r)return[];var o=this.getState(),a={createElement:Yt};return o.renderLines.map((function(t,n){return qr(a,"",t[0],t[1],e,"render-line-".concat(n))}))},n._isTargetChanged=function(t){var e=this.props,n=e.dragTarget||e.target,r=this._prevOriginalDragTarget,i=this._prevDragArea,o=e.dragArea;return!o&&r!==n||(t||o)&&i!==o||this._prevPropTarget!=this._propTarget},n._updateNativeEvents=function(){var t=this,e=this.props.dragArea?this.areaElement:this.state.target,n=this.events,r=A(n);if(this._isTargetChanged())for(var i in n){var o=n[i];o&&o.destroy(),n[i]=null}if(e){var a=this.enabledAbles;r.forEach((function(r){var i=ta(a,[r]),o=i.length>0,s=n[r];o?(s||(s=new bs(e,t,r),n[r]=s),s.setAbles(i)):s&&(s.destroy(),n[r]=null)}))}},n._checkUpdateRootContainer=function(){var t=this.props.rootContainer;!this._rootContainer&&t&&(this._rootContainer=da(t,!0))},n._checkUpdateViewContainer=function(){var t=this.props.viewContainer;!this._viewContainer&&t&&(this._viewContainer=da(t,!0)),this._viewContainer&&this._changeAbleViewClassNames(On(On([],Mn(this._getAbleViewClassNames()),!1),[this.isDragging()?Ba:""],!1))},n._changeAbleViewClassNames=function(t){var e=this._viewContainer,n=ra(t.filter(Boolean),(function(t){return t})).map((function(t){return Mn(t,1)[0]})),r=this._viewClassNames,i=pt(r,n),o=i.removed,a=i.added;o.forEach((function(t){Q(e,r[t])})),a.forEach((function(t){Z(e,n[t])})),this._viewClassNames=n},n._getAbleViewClassNames=function(){var t=this;return(this.getEnabledAbles().map((function(e){var n;return(null===(n=e.viewClassName)||void 0===n?void 0:n.call(e,t))||""})).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},n._getAbleClassName=function(t){var e=this;void 0===t&&(t="");var n=this.getEnabledAbles(),r=this.targetGesto,i=this.controlGesto,o=(null==r?void 0:r.isFlag())?r.getEventData():{},a=(null==i?void 0:i.isFlag())?i.getEventData():{};return n.map((function(n){var r,i,s,u=n.name,c=(null===(r=n.className)||void 0===r?void 0:r.call(n,e))||"";return((null===(i=o[u])||void 0===i?void 0:i.isEventStart)||(null===(s=a[u])||void 0===s?void 0:s.isEventStart))&&(c+=" ".concat(po("".concat(u).concat(t,"-dragging")))),c.trim()})).filter(Boolean).join(" ")},n._updateResizeObserver=function(t){var e,n=this.props,r=n.target,i=it(this.getControlBoxElement());if(i.ResizeObserver&&r&&n.useResizeObserver){if(t.target!==r||!this._reiszeObserver){var o=new i.ResizeObserver(this.checkUpdateRect);o.observe(r,{box:"border-box"}),this._reiszeObserver=o}}else null===(e=this._reiszeObserver)||void 0===e||e.disconnect()},n._updateMutationObserver=function(t){var e,n=this,r=this.props,i=r.target,o=it(this.getControlBoxElement());if(o.MutationObserver&&i&&r.useMutationObserver){if(t.target!==i||!this._mutationObserver){var a=new o.MutationObserver((function(t){var e,r;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var a=o.value;"attributes"===a.type&&"style"===a.attributeName&&n.checkUpdateRect()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}));a.observe(i,{attributes:!0}),this._mutationObserver=a}}else null===(e=this._mutationObserver)||void 0===e||e.disconnect()},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:ho,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(zt),_s={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var n,r=t.props,i=r.targets||[],a=t.getState(),s=a.left,u=a.top,c=a.isPersisted,l=r.zoom||1,f=t.renderGroupRects,p=(null===(n=r.persistData)||void 0===n?void 0:n.children)||[];c?i=p.map((function(){return null})):p=[];var d=xa(t,"parentPosition",[s,u],(function(t){return t.join(",")})),h=xa(t,"requestStyles",t.getRequestChildStyles(),(function(t){return t.join(",")}));return t.moveables=t.moveables.slice(0,i.length),On(On([],Mn(i.map((function(n,i){return e.createElement(Ss,{key:"moveable"+i,ref:o(t,"moveables",i),target:n,origin:!1,requestStyles:h,cssStyled:r.cssStyled,customStyledMap:r.customStyledMap,useResizeObserver:r.useResizeObserver,useMutationObserver:r.useMutationObserver,hideChildMoveableDefaultLines:r.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[s,u],persistData:p[i],zoom:l})}))),!1),Mn(ia(f.map((function(t,n){var r=[t.pos1,t.pos2,t.pos3,t.pos4];return[[0,1],[1,3],[3,2],[2,0]].map((function(t,i){var o=Mn(t,2),a=o[0],s=o[1];return qr(e,"",Ee(r[a],d),Ee(r[s],d),l,"group-rect-".concat(n,"-").concat(i))}))})))),!1)}},Cs=Tn("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.props.target,r=e.inputEvent,i=e.inputTarget,o=!t.isMoveableElement(i)&&t.controlBox.contains(i);if(r&&i&&!e.isDrag&&!t.isMoveableElement(i)&&!o){var a=n.contains(i);Qo(t,"onClick",Uo(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.inputTarget;if(n&&r&&!e.isDrag&&!t.isMoveableElement(r)&&e.datas.inputTarget!==r){var i=t.props.targets,o=i.indexOf(r),a=o>-1,s=!1;-1===o&&(s=(o=I(i,(function(t){return t.contains(r)})))>-1),Qo(t,"onClickGroup",Uo(t,e,{isDouble:e.isDouble,targets:i,inputTarget:r,targetIndex:o,isTarget:a,containsTarget:s,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function ws(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),Dn(Dn({},t),{datas:e})}var Ds=Tn("edgeDraggable",{css:[".edge.edgeDraggable.line {\ncursor: move;\n}"],render:function(t,e){var n=t.props,r=n.edgeDraggable;return r?Hr(e,"edgeDraggable",r,t.getState().renderPoses,n.zoom):[]},dragCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!(!r.edgeDraggable||!i)&&!r.draggable&&$(i,po("direction"))&&$(i,po("edge"))&&$(i,po("edgeDraggable"))},dragStart:function(t,e){return zi.dragStart(t,ws(e))},drag:function(t,e){return zi.drag(t,ws(e))},dragEnd:function(t,e){return zi.dragEnd(t,ws(e))},dragGroupCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!(!r.edgeDraggable||!i)&&!r.draggable&&$(i,po("direction"))&&$(i,po("line"))},dragGroupStart:function(t,e){return zi.dragGroupStart(t,ws(e))},dragGroup:function(t,e){return zi.dragGroup(t,ws(e))},dragGroupEnd:function(t,e){return zi.dragGroupEnd(t,ws(e))},unset:function(t){return zi.unset(t)}}),Ms={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Os=[fs,ja,fo,Da,zi,Ds,Gi,Oa,Ra,qi,Ya,Xa,Wa,as,os,ls,_s,Ms,Cs,Ga,ps],Ts=Os.reduce((function(t,e){return(e.events||[]).forEach((function(e){U(t,e)})),t}),[]),Ps=Os.reduce((function(t,e){return(e.props||[]).forEach((function(e){U(t,e)})),t}),[]);function Rs(t,e){var n=Mn(t,3),r=n[0],i=n[1],o=n[2];return(r*e[0]+i*e[1]+o)/Math.sqrt(r*r+i*i)}function ks(t,e){var n=Mn(t,2),r=n[0],i=n[1];return-r*e[0]-i*e[1]}function Is(t,e){return Math.max.apply(Math,On([],Mn(t.map((function(t){var n=Mn(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return Math.max(r[e],i[e],o[e],a[e])}))),!1))}function zs(t,e){return Math.min.apply(Math,On([],Mn(t.map((function(t){var n=Mn(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return Math.min(r[e],i[e],o[e],a[e])}))),!1))}function Bs(t,e){var n=e.map((function(e){if(E(e)){var n=Bs(t,e),r=n.length;return r>1?n:1===r?n[0]:null}var i=z(t,(function(t){return t.manager.props.target===e}));return i?(i.finded=!0,i.manager):null})).filter(Boolean);return 1===n.length&&E(n[0])?n[0]:n}var Fs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new je,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}wn(e,t);var n=e.prototype;return n.componentDidMount=function(){t.prototype.componentDidMount.call(this)},n.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},n.getTargets=function(){return this.props.targets},n.updateRect=function(t,e,n){var r;void 0===n&&(n=!0);var i=this.state;if(this.controlBox&&!i.isPersisted){Ar(!0),this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var o=this.props,a=this.moveables,s=i.target||o.target,u=a.map((function(t){return{finded:!1,manager:t}})),c=this.props.targetGroups||[],l=Bs(u,c),f=o.useDefaultGroupRotate;l.push.apply(l,On([],Mn(u.filter((function(t){return!t.finded})).map((function(t){return t.manager}))),!1));var p=[],d=!e||""!==t&&o.updateGroup,h=o.defaultGroupRotate||0;if(!this._hasFirstTargets){var v=null===(r=o.persistData)||void 0===r?void 0:r.rotation;null!=v&&(h=v)}var g=function t(e,n,r){var i,o=e.map((function(e){if(E(e)){var r=t(e,n),i=[r.pos1,r.pos2,r.pos3,r.pos4];return p.push(r),{poses:i,rotation:r.rotation}}return{poses:Lo(e.state),rotation:e.getRotation()}})),a=o.map((function(t){return t.rotation})),s=a[0],u=a.every((function(t){return Math.abs(s-t)<.1}));i=d?!f&&u?s:h:f||r||!u?n:s;var c=o.map((function(t){return t.poses})),l=function(t,e){var n,r,i,o=[0,0],a=[0,0],s=[0,0],u=[0,0],c=0,l=0;if(!t.length)return{pos1:o,pos2:a,pos3:s,pos4:u,minX:0,minY:0,maxX:0,maxY:0,width:c,height:l,rotation:e};var f=H(e,Zn);if(f%90){var p=f/180*Math.PI,d=Math.tan(p),h=-1/d,v=[Jn,tr],g=[[0,0],[0,0]],m=[Jn,tr],b=[[0,0],[0,0]];t.forEach((function(t){t.forEach((function(t){var e=Rs([-d,1,0],t),n=Rs([-h,1,0],t);v[0]>e&&(g[0]=t,v[0]=e),v[1]<e&&(g[1]=t,v[1]=e),m[0]>n&&(b[0]=t,m[0]=n),m[1]<n&&(b[1]=t,m[1]=n)}))}));var y=Mn(g,2),E=y[0],x=y[1],S=Mn(b,2),_=S[0],C=S[1],w=[-d,1,ks([-d,1],E)],D=[-d,1,ks([-d,1],x)],M=[-h,1,ks([-h,1],_)],O=[-h,1,ks([-h,1],C)];n=Mn([[w,M],[w,O],[D,M],[D,O]].map((function(t){var e=Mn(t,2);return an(e[0],e[1])[0]})),4),o=n[0],a=n[1],s=n[2],u=n[3],c=m[1]-m[0],l=v[1]-v[0]}else{var T=zs(t,0),P=zs(t,1),R=Is(t,0),k=Is(t,1);o=[T,P],a=[R,P],s=[T,k],u=[R,k],c=R-T,l=k-P,f%180&&(o=(r=Mn([s,o,u,a],4))[0],a=r[1],s=r[2],u=r[3],c=k-P,l=R-T)}f%360>180&&(o=(i=Mn([u,s,a,o],4))[0],a=i[1],s=i[2],u=i[3]);var I=nn([o,a,s,u]);return{pos1:o,pos2:a,pos3:s,pos4:u,width:c,height:l,minX:I.minX,minY:I.minY,maxX:I.maxX,maxY:I.maxY,rotation:e}}(c,i);return l}(l,this.rotation,!0);d&&(this.rotation=g.rotation,this.transformOrigin=o.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=c,this.renderGroupRects=p;var m,b,y,x,S,_=this.transformOrigin,C=this.rotation,w=this.scale,D=g.width,M=g.height,O=g.minX,T=g.minY,P=(m=[[0,0],[D,0],[0,M],[D,M]],b=ya(_,D,M),y=this.rotation/180*Math.PI,x=m.map((function(t){return Ee(t,b)})),S=x.map((function(t){return Me(t,y)})),{prev:x,next:S,result:S.map((function(t){return ye(t,b)}))}),R=nn(P.result),k=R.minX,I=R.minY,z=" rotate(".concat(C,"deg)")+" scale(".concat(Sa(w[0]),", ").concat(Sa(w[1]),")"),B="translate(".concat(-k,"px, ").concat(-I,"px)").concat(z);this.controlBox.style.transform="translate3d(".concat(O,"px, ").concat(T,"px, ").concat(this.props.translateZ||0,")"),s.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(_,";")+"width:".concat(D,"px;height:").concat(M,"px;")+"transform: ".concat(B),i.width=D,i.height=M;var F=this.getContainer(),A=Es(this.controlBox,s,this.controlBox,this.getContainer(),this._rootContainer||F,[]),G=[A.left,A.top],W=Mn(Lo(A),4),N=W[0],Y=W[1],j=W[2],X=W[3],L=nn([N,Y,j,X]),q=[L.minX,L.minY],V=Sa(w[0]*w[1]);A.pos1=Ee(N,q),A.pos2=Ee(Y,q),A.pos3=Ee(j,q),A.pos4=Ee(X,q),A.left=O-A.left+q[0],A.top=T-A.top+q[1],A.origin=Ee(ye(G,A.origin),q),A.beforeOrigin=Ee(ye(G,A.beforeOrigin),q),A.originalBeforeOrigin=ye(G,A.originalBeforeOrigin),A.transformOrigin=Ee(ye(G,A.transformOrigin),q),s.style.transform="translate(".concat(-k-q[0],"px, ").concat(-I-q[1],"px)")+z,Ar(),this.updateState(Dn(Dn({},A),{posDelta:q,direction:V,beforeDirection:V}),n)}},n.getRect=function(){return Dn(Dn({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.triggerEvent=function(e,n,r){if(r||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},n.getRequestChildStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var n,r,i=null!==(r=null===(n=e.requestChildStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return On(On([],Mn(t),!1),Mn(i),!1)}),[])},n.getMoveables=function(){return On([],Mn(this.moveables),!1)},n.updateAbles=function(){t.prototype.updateAbles.call(this,On(On([],Mn(this.props.ables),!1),[_s],!1),"Group")},n._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=da(this._originalDragTarget,!0)},n._updateEvents=function(){var t=this.state,e=this.props,n=this._prevDragTarget,r=e.dragTarget||this.areaElement,i=e.targets,o=this.differ.update(i),a=o.added,s=o.changed,u=o.removed,c=a.length||u.length;(c||this._prevOriginalDragTarget!==this._originalDragTarget)&&(Ho(this,!1),Ho(this,!0),this.updateState({gestos:{}})),n!==r&&(t.target=null),t.target||(t.target=this.areaElement,this.controlBox.style.display="block"),t.target&&(this.targetGesto||(this.targetGesto=vs(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=gs(this,"GroupControl")));var l=!ea(t.container,e.container);l&&(t.container=e.container),(l||c||this.transformOrigin!==(e.defaultGroupOrigin||"50% 50%")||s.length||i.length&&!Ea(this._targetGroups,e.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!c},n._updateObserver=function(){},e.defaultProps=Dn(Dn({},Ss.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Ss),As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}wn(e,t);var n=e.prototype;return n.render=function(){var t,e=this,n=this.props,r=n.cspNonce,a=n.cssStyled,s=n.persistData,u=n.targets||[],c=u.length,l=this.isUnmounted||!c,f=null!==(t=null==s?void 0:s.children)&&void 0!==t?t:[];return l&&!c&&f.length?u=f.map((function(){return null})):l||(f=[]),Yt(a,{cspNonce:r,ref:i(this,"controlBox"),className:po("control-box")},u.map((function(t,r){var i,a,s=null!==(a=null===(i=n.individualGroupableProps)||void 0===i?void 0:i.call(n,t,r))&&void 0!==a?a:{};return Yt(Ss,Dn({key:"moveable"+r,ref:o(e,"moveables",r)},n,s,{target:t,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:f[r]}))})))},n.componentDidMount=function(){},n.componentDidUpdate=function(){},n.getTargets=function(){return this.props.targets},n.updateRect=function(t,e,n){void 0===n&&(n=!0),Ar(!0),this.moveables.forEach((function(r){r.updateRect(t,e,n)})),Ar()},n.getRect=function(){return Dn(Dn({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.request=function(t,e,n){void 0===e&&(e={});var r=this.moveables.map((function(n){return n.request(t,Dn(Dn({},e),{isInstant:!1}),!1)})),i={request:function(t){return r.forEach((function(e){return e.request(t)})),this},requestEnd:function(){return r.forEach((function(t){return t.requestEnd()})),this}};return n||e.isInstant?i.request(e).requestEnd():i},n.dragStart=function(t,e){void 0===e&&(e=t.target);var n=e,r=z(this.moveables,(function(t){var e=t.getTargets()[0],r=t.getControlBoxElement(),i=t.getDragElement();return!(!e||!i)&&(i===n||i.contains(n)||i!==e&&e===n||e.contains(n)||r===n||r.contains(n))}));return r&&r.dragStart(t,e),this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.getDragElement=function(){return null},n.getMoveables=function(){return On([],Mn(this.moveables),!1)},n.updateRenderPoses=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},n._updateEvents=function(){},n._updateObserver=function(){},e}(Ss);function Gs(t,e){var n=[];return t.forEach((function(t){t&&(x(t)?e[t]&&n.push.apply(n,On([],Mn(e[t]),!1)):E(t)?n.push.apply(n,On([],Mn(Gs(t,e)),!1)):n.push(t))})),n}function Ws(t,e){var n=[];return t.forEach((function(t){t&&(x(t)?e[t]&&n.push.apply(n,On([],Mn(e[t]),!1)):E(t)?n.push(Ws(t,e)):n.push(t))})),n}function Ns(t,e){return t.length!==e.length||t.some((function(t,n){var r=e[n];return!(!t&&!r)&&t!=r&&(!E(t)||!E(r)||Ns(t,r))}))}var Ys=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new je,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}wn(e,t);var n,r,o=e.prototype;return e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var n=e.css;n&&n.forEach((function(e){t[e]=!0}))}));var e=A(t).join("\n");this.defaultStyled=_n("div",function(t,e){return e.replace(/([^}{]*){/gm,(function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}(Hn,Kn+e))},e.getTotalAbles=function(){return On([ja,_s,Ms,Ga],Mn(this.defaultAbles),!1)},o.render=function(){var t,e=this.constructor;e.defaultStyled||e.makeStyled();var n=this.props,r=n.ables,o=n.props,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(n,["ables","props"]),s=Mn(this._updateRefs(!0),2),u=s[0],c=s[1],l=Gs(u,c),f=l.length>1,p=On(On([],Mn(e.getTotalAbles()),!1),Mn(r||[]),!1),d=Dn(Dn(Dn({},a),o||{}),{ables:p,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});this._elementTargets=l;var h=null,v=this.moveable,g=a.persistData;if((null==g?void 0:g.children)&&(f=!0),a.individualGroupable)return Yt(As,Dn({key:"individual-group",ref:i(this,"moveable")},d,{target:null,targets:l}));if(f){var m=Ws(u,c);if(v&&!v.props.groupable&&!v.props.individualGroupable){var b=v.props.target;b&&l.indexOf(b)>-1&&(h=Dn({},v.state))}return Yt(Fs,Dn({key:"group",ref:i(this,"moveable")},d,null!==(t=a.groupableProps)&&void 0!==t?t:{},{target:null,targets:l,targetGroups:m,firstRenderState:h}))}var y=l[0];if(v&&(v.props.groupable||v.props.individualGroupable)){var E=z(v.moveables||[],(function(t){return t.props.target===y}));E&&(h=Dn({},E.state))}return Yt(Ss,Dn({key:"single",ref:i(this,"moveable")},d,{target:y,firstRenderState:h}))},o.componentDidMount=function(){this._checkChangeTargets()},o.componentDidUpdate=function(){this._checkChangeTargets()},o.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},o.getTargets=function(){var t,e;return null!==(e=null===(t=this.moveable)||void 0===t?void 0:t.getTargets())&&void 0!==e?e:[]},o.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},o.waitToChangeTarget=function(){var t,e=this;return this._onChangeTargets=function(){e._onChangeTargets=null,t()},new Promise((function(e){t=e}))},o.waitToChangeTargets=function(){return this.waitToChangeTarget()},o.getManager=function(){return this.moveable},o.getMoveables=function(){return this.moveable.getMoveables()},o.getDragElement=function(){return this.moveable.getDragElement()},o._updateRefs=function(t){var e=this.refTargets,n=ha(this.props.target||this.props.targets),r="undefined"!=typeof document,i=Ns(e,n),o=this.selectorMap,a={};return this.refTargets.forEach((function t(e){x(e)?o[e]?a[e]=o[e]:r&&(i=!0,a[e]=[].slice.call(document.querySelectorAll(e))):E(e)&&e.forEach(t)})),this._tmpRefTargets=n,this._tmpSelectorMap=a,[n,a,!t&&i]},o._checkChangeTargets=function(){var t,e,n;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var r=this._differ.update(this._elementTargets),i=r.added,o=r.removed;(i.length||o.length)&&(null===(e=(t=this.props).onChangeTargets)||void 0===e||e.call(t,{moveable:this.moveable,targets:this._elementTargets}),null===(n=this._onChangeTargets)||void 0===n||n.call(this));var a=Mn(this._updateRefs(),3),s=a[0],u=a[1],c=a[2];this.refTargets=s,this.selectorMap=u,c&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([(n=ir,void 0===r&&(r={}),function(t,e){n.forEach((function(n){var i=r[n]||n;i in t||(t[i]=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(t=this[e])[n].apply(t,r);return o===this[e]?this:o})}))})],e.prototype,"moveable",void 0),e}(zt),js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wn(e,t),e.defaultAbles=Os,e}(Ys),Xs=function(t){function r(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}return e(r,t),r.prototype.render=function(){return Yt(js,n({ref:i(this,"moveable")},this.state))},r}(It),Ls=Ps,qs=ir,Hs=Ts,Vs=function(t){function r(e,r){void 0===r&&(r={});var o=t.call(this)||this;o.containerProvider=null,o.selfElement=null,o._warp=!1;var a,s=n({},r),u={};Hs.forEach((function(t){var e;u[(e="on ".concat(t),e.replace(/[\s-_]+([^\s-_])/g,(function(t,e){return e.toUpperCase()})))]=function(e){return o.trigger(t,e)}})),r.warpSelf?(delete r.warpSelf,o._warp=!0,a=e):(a=et(e).createElement("div"),e.appendChild(a)),o.containerProvider=Ht(Yt(Xs,n({ref:i(o,"innerMoveable")},s,u)),a),o.selfElement=a;var c=s.target;return E(c)&&c.length>1&&o.updateRect(),o}e(r,t);var o=r.prototype;return o.setState=function(t,e){this.innerMoveable.setState(t,e)},o.forceUpdate=function(t){this.innerMoveable.forceUpdate(t)},o.dragStart=function(t,e){void 0===e&&(e=t.target),this.innerMoveable.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(t,e)},o.destroy=function(){var t,e=this.selfElement;Ht(null,e,this.containerProvider),this._warp||null===(t=null==e?void 0:e.parentElement)||void 0===t||t.removeChild(e),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},o.getMoveable=function(){return this.innerMoveable.moveable},r=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([a(qs,(function(t,e){t[e]||(t[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.getMoveable();if(r&&r[e])return r[e].apply(r,t)})})),a(Ls,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var n;this.setState(((n={})[e]=t,n))},enumerable:!0,configurable:!0})}))],r),r}(qe),Ks=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(Vs),Us={__proto__:null,EVENTS:Hs,METHODS:qs,PROPERTIES:Ls,default:Ks,getElementInfo:function(t,e,n){return function(t,e,n){return void 0===n&&(n=e),ys(t,e,n,!0)}(t,e,n)},makeAble:function(t,e){return Tn(t,e)}};for(var $s in Us)Ks[$s]=Us[$s];return Ks}()},63169:function(t,e,n){var r,i,o;window,i=[n(32137),n(21485)],void 0===(o="function"==typeof(r=function(t,e){"use strict";var n=document.documentElement.style,r="string"==typeof n.transition?"transition":"WebkitTransition",i="string"==typeof n.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],a={transform:i,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"};function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var u=s.prototype=Object.create(t.prototype);u.constructor=s,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var n in t)e[a[n]||n]=t[n]},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=t[e?"left":"right"],i=t[n?"top":"bottom"],o=parseFloat(r),a=parseFloat(i),s=this.layout.size;-1!=r.indexOf("%")&&(o=o/100*s.width),-1!=i.indexOf("%")&&(a=a/100*s.height),o=isNaN(o)?0:o,a=isNaN(a)?0:a,o-=e?s.paddingLeft:s.paddingRight,a-=n?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=a},u.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),i=n?"paddingLeft":"paddingRight",o=n?"left":"right",a=n?"right":"left",s=this.position.x+t[i];e[o]=this.getXValue(s),e[a]="";var u=r?"paddingTop":"paddingBottom",c=r?"top":"bottom",l=r?"bottom":"top",f=this.position.y+t[u];e[c]=this.getYValue(f),e[l]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var n=this.position.x,r=this.position.y,i=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!i||this.isTransitioning){var o=t-n,a=e-r,s={};s.transform=this.getTranslate(o,a),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},u.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},u._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var c="opacity,"+i.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));u.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var l={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=l[t.propertyName]||t.propertyName;delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(f)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?r.apply(e,i):r)||(t.exports=o)},82831:function(t,e,n){var r,i;!function(o){"use strict";r=[n(32137),n(21485),n(977),n(63169)],i=function(t,e,n,r){return function(t,e,n,r,i){var o=t.console,a=t.jQuery,s=function(){},u=0,c={};function l(t,e){var n=r.getQueryElement(t);if(n){this.element=n,a&&(this.$element=a(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e);var i=++u;this.element.outlayerGUID=i,c[i]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(n||t))}l.namespace="outlayer",l.Item=i,l.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=l.prototype;function p(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}r.extend(f,e.prototype),f.option=function(t){r.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},l.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,r=[],i=0;i<e.length;i++){var o=new n(e[i],this);r.push(o)}return r},f._filterFindItemElements=function(t){return r.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map((function(t){return t.element}))},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=n(this.element)},f._getMeasurement=function(t,e){var r,i=this.options[t];i?("string"==typeof i?r=this.element.querySelector(i):i instanceof HTMLElement&&(r=i),this[t]=r?n(r)[e]:i):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach((function(t){var r=this._getItemLayoutPosition(t);r.item=t,r.isInstant=e||t.isLayoutInstant,n.push(r)}),this),this._processLayoutQueue(n)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},f.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],r=e&&e[2];return n.length?(n=parseFloat(n))*(d[r]||1):0}(t),this.stagger;this.stagger=0},f._positionItem=function(t,e,n,r,i){r?t.goTo(e,n):(t.stagger(i*this.stagger),t.moveTo(e,n))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=s,f._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){var n=this;function r(){n.dispatchEvent(t+"Complete",null,[e])}var i=e.length;if(e&&i){var o=0;e.forEach((function(e){e.once(t,a)}))}else r();function a(){++o==i&&r()}},f.dispatchEvent=function(t,e,n){var r=e?[e].concat(n):n;if(this.emitEvent(t,r),a)if(this.$element=this.$element||a(this.element),e){var i=a.Event(e);i.type=t,this.$element.trigger(i,n)}else this.$element.trigger(t,n)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){r.removeFrom(this.stamps,t),this.unignore(t)}),this)},f._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),r.makeArray(t)},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=s,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),r=this._boundingRect,i=n(t);return{left:e.left-r.left-i.marginLeft,top:e.top-r.top-i.marginTop,right:r.right-e.right-i.marginRight,bottom:r.bottom-e.bottom-i.marginBottom}},f.handleEvent=r.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},r.debounceMethod(l,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.reveal()}))}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.hide()}))}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},f.getItems=function(t){t=r.makeArray(t);var e=[];return t.forEach((function(t){var n=this.getItem(t);n&&e.push(n)}),this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),r.removeFrom(this.items,t)}),this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},l.data=function(t){var e=(t=r.getQueryElement(t))&&t.outlayerGUID;return e&&c[e]},l.create=function(t,e){var n=p(l);return n.defaults=r.extend({},l.defaults),r.extend(n.defaults,e),n.compatOptions=r.extend({},l.compatOptions),n.namespace=t,n.data=l.data,n.Item=p(i),r.htmlInit(n,t),a&&a.bridget&&a.bridget(t,n),n};var d={ms:1,s:1e3};return l.Item=i,l}(o,t,e,n,r)}.apply(e,r),void 0===i||(t.exports=i)}(window)},18092:function(t){t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var i="function",o="object",a="string",s="undefined"!=typeof document&&document,u=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],c=1e-7,l={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return t/100*(void 0===e?window.innerWidth:e)},vh:function(t,e){return t/100*(void 0===e?window.innerHeight:e)},vmax:function(t,e){return t/100*(void 0===e?Math.max(window.innerWidth,window.innerHeight):e)},vmin:function(t,e){return t/100*(void 0===e?Math.min(window.innerWidth,window.innerHeight):e)}};function f(t){return t&&typeof t===o}function p(t){return Array.isArray(t)}function d(t){return typeof t===a}function h(t){return typeof t===i}function v(t,e,n,r,i){if(g(t,e,n))return n;for(var o,a=t,s=e,u=r,c=i,l=n+1;l<u;++l){var f=function(t){var e,n,r=s[t].trim();return r!==a.close||g(a,s,t)?(e=t,-1===(e=(n=_(c,(function(t){return t.open===r})))?v(n,s,t,u,c):e)?(o=t,"break"):void(o=t=e)):{value:t}}(l);if(l=o,"object"==typeof f)return f.value;if("break"===f)break}return-1}function g(t,e,n){return t.ignore?(e=e.slice(Math.max(n-3,0),n+3).join(""),new RegExp(t.ignore).exec(e)):null}function m(t,e){var n=void 0===(s=(e=d(e)?{separator:e}:e).separator)?",":s,r=e.isSeparateFirst,i=e.isSeparateOnlyOpenClose,o=void 0===(s=e.isSeparateOpenClose)?i:s,a=void 0===(s=e.openCloseCharacters)?u:s,s=(e=a.map((function(t){var e=t.open;return e===(t=t.close)?e:e+"|"+t})).join("|"),new RegExp("(\\s*"+n+"\\s*|"+e+"|\\s+)","g")),c=t.split(s).filter((function(t){return t&&"undefined"!==t})),l=c.length,f=[],p=[];function h(){return p.length&&(f.push(p.join("")),p=[])}for(var b,y=function(e){var s=c[e].trim(),u=e,d=_(a,(function(t){return t.open===s})),y=_(a,(function(t){return t.close===s}));if(d){if(-1!==(u=v(d,c,e,l,a))&&o)return h()&&r?(b=e,"break"):(f.push(c.slice(e,u+1).join("")),e=u,r?(b=e,"break"):(b=e,"continue"))}else{if(y&&!g(y,c,e))return(d=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(a)).splice(a.indexOf(y),1),{value:m(t,{separator:n,isSeparateFirst:r,isSeparateOnlyOpenClose:i,isSeparateOpenClose:o,openCloseCharacters:d})};if(y=s,!((""!==(d=n)&&" "!=d||""!==y&&" "!=y)&&y!==d||i))return h(),r?(b=e,"break"):(b=e,"continue")}p.push(c.slice(e,(u=-1===u?l-1:u)+1).join("")),b=e=u},E=0;E<l;++E){var x=y(E);if(E=b,"object"==typeof x)return x.value;if("break"===x)break}return p.length&&f.push(p.join("")),f}function b(t){return m(t,",")}function y(t){if(!(t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t)))return{prefix:"",unit:"",value:NaN};var e=t[1],n=t[2];return{prefix:e,unit:t[3],value:parseFloat(n)}}function E(t){return t.replace(/[\s-_]+([^\s-_])/g,(function(t,e){return e.toUpperCase()}))}function x(){return Date.now?Date.now():(new Date).getTime()}function S(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function _(t,e,n){return-1<(e=S(t,e))?t[e]:n}function C(t,e){var n=(t=y(t)).value;if(t=t.unit,f(e)){var r=e[t];if(r){if(h(r))return r(n);if(l[t])return l[t](n,r)}}else if("%"===t)return n*e/100;return l[t]?l[t](n):n}function w(t,e,n){return Math.max(e,Math.min(t,n))}function D(t,e,n,r){return void 0===r&&(r=t[0]/t[1]),[[P(e[0],c),P(e[0]/r,c)],[P(e[1]*r,c),P(e[1],c)]].filter((function(t){return t.every((function(t,r){var i=P(r=e[r],c);return n?t<=r||t<=i:r<=t||i<=t}))}))[0]||t}function M(t,e){var n=e[0]-t[0];return e=e[1]-t[1],0<=(t=Math.atan2(e,n))?t:t+2*Math.PI}function O(t){var e,n=M(e=function(t){return[0,1].map((function(e){for(var n=t.map((function(t){return t[e]})),r=n.length,i=0,o=r-1;0<=o;--o)i+=n[o];return r?i/r:0}))}(t),t[0]);return n<(e=M(e,t[1]))&&e-n<Math.PI||e<n&&e-n<-Math.PI?1:-1}function T(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function P(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function R(t,e,n,r){t.addEventListener(e,n,r)}function k(t,e,n,r){t.removeEventListener(e,n,r)}function I(t){return(null==t?void 0:t.ownerDocument)||s}function z(t){return(null==(t=null==t?void 0:t.ownerDocument)?void 0:t.defaultView)||window}function B(t){return f(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},A=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(f(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(f(t))for(var n in t)this.off(n);else{var r,i;e?(r=this._events[t])&&-1<(i=S(r,(function(t){return t.listener===e})))&&r.splice(i,1):this._events[t]=[]}else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this,r=(void 0===e&&(e={}),this._events[t]);if(!t||!r)return!0;var i=!1;return e.eventType=t,e.stop=function(){i=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(r).forEach((function(r){r.listener(e),r.once&&n.off(t,r.listener)})),!i},e.trigger=function(t,e){return this.emit(t,e=void 0===e?{}:e)},e._addEvent=function(t,e,n){var r=this._events;r[t]=r[t]||[],r[t].push(F({listener:e},n))},t}(),G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},W=function(){return(W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function N(t){return 180*(e=[t[0].clientX,t[0].clientY],n=(t=[t[1].clientX,t[1].clientY])[0]-e[0],t=t[1]-e[1],(0<=(e=Math.atan2(t,n))?e:e+2*Math.PI)/Math.PI);var e,n}function Y(t){if(!t)return[];if(t.touches){for(var e=t.touches,n=Math.min(e.length,2),r=[],i=0;i<n;++i)r.push(L(e[i]));return r}return[L(t)]}function j(t,e,n){var r=n.length,i=(t=q(t,r)).clientX,o=t.clientY;return{clientX:t.originalClientX,clientY:t=t.originalClientY,deltaX:i-(e=q(e,r)).clientX,deltaY:o-(e=e.clientY),distX:i-(n=q(n,r)).clientX,distY:o-n.clientY}}function X(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function L(t){return{clientX:t.clientX,clientY:t.clientY}}function q(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(t.length,e),i=0;i<r;++i){var o=t[i];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var H,V=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return t.prototype.getAngle=function(t){return N(t=void 0===t?this.prevClients:t)},t.prototype.getRotation=function(t){return N(t=void 0===t?this.prevClients:t)-N(this.startClients)},t.prototype.getPosition=function(t,e){var n=j((t=void 0===t?this.prevClients:t)||this.prevClients,this.prevClients,this.startClients),r=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(r*r+i*i),this.prevClients=t,n},t.prototype.getPositions=function(t){void 0===t&&(t=this.prevClients);for(var e=this.prevClients,n=this.startClients,r=Math.min(this.length,e.length),i=[],o=0;o<r;++o)i[o]=j([t[o]],[e[o]],[n[o]]);return i},t.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;t=q(t,this.length);var n=q(this.prevClients,this.length),r=t.clientX-n.clientX;return t=t.clientY-n.clientY,Math.sqrt(r*r+t*t)+e},t.prototype.getDistance=function(t){return X(t=void 0===t?this.prevClients:t)},t.prototype.getScale=function(t){return X(t=void 0===t?this.prevClients:t)/X(this.startClients)},t.prototype.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),K=["textarea","input"],U=function(t){function e(){this.constructor=n}var n,r;function i(e,n){void 0===n&&(n={});var r,i=t.call(this)||this,o=(i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(t,e){if(void 0===e&&(e=!0),i.flag||!1!==t.cancelable){var n=-1<=t.type.indexOf("drag");if(!i.flag||!n){i._isDragAPI=!0;var r=(n=i.options).container,o=n.pinchOutside,a=n.preventWheelClick,s=n.preventRightClick,u=n.preventDefault,c=n.checkInput,l=n.dragFocusedInput,f=n.preventClickEventOnDragStart,p=n.preventClickEventOnDrag,d=(n=n.preventClickEventByCondition,i._useTouch),h=!i.flag;if(i._isSecondaryButton=3===t.which||2===t.button,a&&(2===t.which||1===t.button)||s&&(3===t.which||2===t.button))return i.stop(),!1;if(h){if(a=i._window.document.activeElement,s=t.target){var v=s.tagName.toLowerCase(),g=(v=-1<K.indexOf(v),s.isContentEditable);if(v||g){if(c||!l&&a===s)return!1;if(a&&(a===s||g&&a.isContentEditable&&a.contains(s))){if(!l)return!1;s.blur()}}else(u||"touchstart"===t.type)&&a&&(v=a.tagName.toLowerCase(),(a.isContentEditable||-1<K.indexOf(v))&&a.blur());(f||p||n)&&R(i._window,"click",i._onClick,!0)}i.clientStores=[new V(Y(t))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=e,i._dragFlag=!0,i._prevInputEvent=t,i.data={},i.doubleFlag=x()-i.prevTime<200,i._isMouseEvent=(c=t)&&(-1<c.type.indexOf("mouse")||"button"in c),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent(),!1===(i._preventMouseEvent||i.emit("dragStart",W(W({data:i.data,datas:i.data,inputEvent:t,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:e,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){i._dragFlag=!1}})))&&i.stop(),i._isMouseEvent&&i.flag&&u&&t.preventDefault()}if(!i.flag)return!1;g=0,h?(i._attchDragEvent(),d&&o&&(g=setTimeout((function(){R(r,"touchstart",i.onDragStart,{passive:!1})})))):d&&o&&k(r,"touchstart",i.onDragStart),i.flag&&(l=t).touches&&2<=l.touches.length&&(clearTimeout(g),h&&t.touches.length!==t.changedTouches.length||i.pinchFlag||i.onPinchStart(t))}}},i.onDrag=function(t,e){if(i.flag){var n=i.options.preventDefault,r=(!i._isMouseEvent&&n&&t.preventDefault(),n=Y(i._prevInputEvent=t),i.moveClients(n,t,!1));if(i._dragFlag){if((i.pinchFlag||r.deltaX||r.deltaY)&&!1===(i._preventMouseEvent||i.emit("drag",W(W({},r),{isScroll:!!e,inputEvent:t}))))return void i.stop();i.pinchFlag&&i.onPinch(t,n)}i.getCurrentStore().getPosition(n,!0)}},i.onDragEnd=function(t){var e,n,r,o,a,s;i.flag&&(s=(r=i.options).pinchOutside,e=r.container,a=r.preventClickEventOnDrag,o=r.preventClickEventOnDragStart,r=r.preventClickEventByCondition,n=i.isDrag,(a||o||r)&&requestAnimationFrame((function(){i._allowClickEvent()})),r||o||!a||n||i._allowClickEvent(),i._useTouch&&s&&k(e,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(t),0!==(r=null!=t&&t.touches?Y(t):[]).length&&i.options.keepDragging?i._addStore(new V(r)):i.flag=!1,o=i._getPosition(),a=x(),s=!n&&i.doubleFlag,i._prevInputEvent=null,i.prevTime=n||s?0:a,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",W({data:i.data,datas:i.data,isDouble:s,isDrag:n,isClick:!n,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:t,isTrusted:i._isTrusted},o)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout((function(){i._preventMouseEvent=!1}),200)),i._isIdle=!0))},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){k(i._window,"click",i._onClick,!0)},i._onClick=function(t){i._allowClickEvent(),i._allowMouseEvent();var e=i.options.preventClickEventByCondition;null!=e&&e(t)||(t.stopPropagation(),t.preventDefault())},i._onContextMenu=function(t){i.options.preventRightClick?i.onDragEnd(t):t.preventDefault()},i._passCallback=function(){},(e=[].concat(e))[0]),a=(o=(i._window=(a=o)&&"postMessage"in a&&"blur"in a&&"self"in a?o:z(o),i.options=W({checkInput:!1,container:!o||"document"in o?o:z(o),preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n),a=i.options).container,n=a.events,a.checkWindowBlur);return i._useDrag=-1<n.indexOf("drag"),i._useTouch=-1<n.indexOf("touch"),i._useMouse=-1<n.indexOf("mouse"),i.targets=e,i._useDrag&&e.forEach((function(t){R(t,"dragstart",i.onDragStart)})),i._useMouse&&(e.forEach((function(t){R(t,"mousedown",i.onDragStart),R(t,"mousemove",i._passCallback)})),R(o,"contextmenu",i._onContextMenu)),a&&R(z(),"blur",i.onBlur),i._useTouch&&(r={passive:!1},e.forEach((function(t){R(t,"touchstart",i.onDragStart,r),R(t,"touchmove",i._passCallback,r)}))),i}return G(n=i,r=t),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e),i.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},i.prototype.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},i.prototype.isDragging=function(){return this.isDrag},i.prototype.isIdle=function(){return this._isIdle},i.prototype.isFlag=function(){return this.flag},i.prototype.isPinchFlag=function(){return this.pinchFlag},i.prototype.isDoubleFlag=function(){return this.doubleFlag},i.prototype.isPinching=function(){return this.isPinch},i.prototype.scrollBy=function(t,e,n,r){void 0===r&&(r=!0),this.flag&&(this.clientStores[0].move(t,e),r&&this.onDrag(n,!0))},i.prototype.move=function(t,e){var n=t[0],r=t[1];return t=this.getCurrentStore().prevClients,this.moveClients(t.map((function(t){var e=t.clientX;return t=t.clientY,{clientX:e+n,clientY:t+r,originalClientX:e,originalClientY:t}})),e,!0)},i.prototype.triggerDragStart=function(t){this.onDragStart(t,!1)},i.prototype.setEventData=function(t){var e,n=this.data;for(e in t)n[e]=t[e];return this},i.prototype.setEventDatas=function(t){return this.setEventData(t)},i.prototype.getCurrentEvent=function(t){return void 0===t&&(t=this._prevInputEvent),W(W({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},i.prototype.getEventData=function(){return this.data},i.prototype.getEventDatas=function(){return this.data},i.prototype.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),k(this._window,"blur",this.onBlur),this._useDrag&&e.forEach((function(e){k(e,"dragstart",t.onDragStart)})),this._useMouse&&(e.forEach((function(e){k(e,"mousedown",t.onDragStart)})),k(n,"contextmenu",this._onContextMenu)),this._useTouch&&(e.forEach((function(e){k(e,"touchstart",t.onDragStart)})),k(n,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},i.prototype.onPinchStart=function(t){var e=this,n=this.options.pinchThreshold;this.isDrag&&this.getMovement()>n||(n=new V(Y(t)),this.pinchFlag=!0,this._addStore(n),!1===this.emit("pinchStart",W(W({data:this.data,datas:this.data,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition()),{inputEvent:t,isTrusted:this._isTrusted,preventDefault:function(){t.preventDefault()},preventDrag:function(){e._dragFlag=!1}}))&&(this.pinchFlag=!1))},i.prototype.onPinch=function(t,e){var n;!this.flag||!this.pinchFlag||e.length<2||(n=this.getCurrentStore(),this.isPinch=!0,this.emit("pinch",W(W({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t,isTrusted:this._isTrusted})))},i.prototype.onPinchEnd=function(t){var e,n;this.pinchFlag&&(e=this.isPinch,this.isPinch=!1,this.pinchFlag=!1,n=this.getCurrentStore(),this.emit("pinchEnd",W(W({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t})))},i.prototype.getCurrentStore=function(){return this.clientStores[0]},i.prototype.moveClients=function(t,e,n){n=this._getPosition(t,n);var r=this.isDrag,i=((n.deltaX||n.deltaY)&&(this.isDrag=!0),!1);return!r&&this.isDrag&&(i=!0),W(W({data:this.data,datas:this.data},n),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:i})},i.prototype._addStore=function(t){this.clientStores.splice(0,0,t)},i.prototype._getPosition=function(t,e){t=this.getCurrentStore().getPosition(t,e),e=this.clientStores.slice(1).reduce((function(t,e){return e=e.getPosition(),t.distX+=e.distX,t.distY+=e.distY,t}),t);var n=e.distX;return e=e.distY,W(W({},t),{distX:n,distY:e})},i.prototype._attchDragEvent=function(){var t=this._window,e=this.options.container,n={passive:!1};this._isDragAPI&&(R(e,"dragover",this.onDrag,n),R(t,"dragend",this.onDragEnd)),this._useMouse&&(R(e,"mousemove",this.onDrag),R(t,"mouseup",this.onDragEnd)),this._useTouch&&(R(e,"touchmove",this.onDrag,n),R(t,"touchend",this.onDragEnd,n),R(t,"touchcancel",this.onDragEnd,n))},i.prototype._dettachDragEvent=function(){var t=this._window,e=this.options.container;this._isDragAPI&&(k(e,"dragover",this.onDrag),k(t,"dragend",this.onDragEnd)),this._useMouse&&(k(e,"mousemove",this.onDrag),k(t,"mouseup",this.onDragEnd)),this._useTouch&&(k(e,"touchstart",this.onDragStart),k(e,"touchmove",this.onDrag),k(t,"touchend",this.onDragEnd),k(t,"touchcancel",this.onDragEnd))},i.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},i}(A),$=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t);n[i=-1===i?n.length:i]=t,r[i]=e},t}(),Z=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),Q="function"==typeof Map,J=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}(),tt=function(){function t(t,e,n,r,i,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){r=this.changedBeforeAdded,t=this.fixed,e=[],n=[],r.forEach((function(t){var r=t[0],i=(t=t[1],new J);e[r]=i,n[t]=i})),e.forEach((function(t,n){t.connect(e[n-1])}));var t,e,n,r=r.filter((function(e,n){return!t[n]})).map((function(t,r){if((i=t[0])===(t=t[1]))return[0,0];var i=e[i],o=(t=n[t-1],i.getIndex());return i.disconnect(),t?i.connect(t,t.next):i.connect(void 0,e[0]),[o,i.getIndex()]})),i=this.changed,o=[];this.cacheOrdered=r.filter((function(t,e){var n=t[0],r=(t=t[1],(e=i[e])[0]);if(e=e[1],n!==t)return o.push([r,e]),!0})),this.cachePureChanged=o},t}(),et="function"==typeof Map?void 0:(H=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++H)});function nt(t,e){return n=et,r=Q?Map:n?Z:$,n=n||function(t){return t},i=[],o=[],a=[],s=t.map(n),n=e.map(n),u=new r,c=new r,l=[],f=[],p={},d=[],v=h=0,s.forEach((function(t,e){u.set(t,e)})),n.forEach((function(t,e){c.set(t,e)})),s.forEach((function(t,e){void 0===(t=c.get(t))?(++v,o.push(e)):p[t]=v})),n.forEach((function(t,e){void 0===(t=u.get(t))?(i.push(e),++h):(a.push([t,e]),v=p[e]||0,l.push([t-v,e-h]),f.push(e===t),t!==e&&d.push([t,e]))})),o.reverse(),new tt(t,e,i,o,d,a,l,f);var n,r,i,o,a,s,u,c,l,f,p,d,h,v}var rt=function(t,e){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},it=function(){return(it=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ot(t){return(t=t.container)===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function at(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function st(t){return t?d(t)?document.querySelector(t):h(t)?t():t instanceof Element?t:"current"in t?t.current:"value"in t?t.value:void 0:null}var ut=function(t){function e(){this.constructor=n}var n;function r(){var e=null!==t&&t.apply(this,arguments)||this;return e._startRect=null,e._startPos=[],e._prevTime=0,e._timer=0,e._prevScrollPos=[0,0],e._isWait=!1,e._flag=!1,e._currentOptions=null,e._lock=!1,e._unregister=null,e._onScroll=function(){var t=e._currentOptions;!e._lock&&t&&e.emit("scrollDrag",{next:function(n){e.checkScroll({container:t.container,inputEvent:n})}})},e}rt(n=r,i=t),n.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e);var i=r.prototype;return i.dragStart=function(t,e){var n,r,i,o,a=st(e.container);a?(i=r=n=0,o=a===document.body?(i=window.innerWidth,window.innerHeight):(n=(a=a.getBoundingClientRect()).top,r=a.left,i=a.width,a.height),this._flag=!0,this._startPos=[t.clientX,t.clientY],this._startRect={top:n,left:r,width:i,height:o},this._prevScrollPos=this._getScrollPosition([0,0],e),this._currentOptions=e,this._registerScrollEvent(e)):this._flag=!1},i.drag=function(t,e){var n,r,i,o,a,s;if(clearTimeout(this._timer),this._flag)return n=t.clientX,r=t.clientY,i=void 0===(i=e.threshold)?0:i,o=this._startRect,a=this._startPos,this._currentOptions=e,s=[0,0],o.top>r-i?(a[1]>o.top||r<a[1])&&(s[1]=-1):o.top+o.height<r+i&&(a[1]<o.top+o.height||r>a[1])&&(s[1]=1),o.left>n-i?(a[0]>o.left||n<a[0])&&(s[0]=-1):o.left+o.width<n+i&&(a[0]<o.left+o.width||n>a[0])&&(s[0]=1),!(!s[0]&&!s[1])&&this._continueDrag(it(it({},e),{direction:s,inputEvent:t,isDrag:!0}))},i.checkScroll=function(t){var e=this;if(this._isWait)return!1;var n=void 0===(n=t.prevScrollPos)?this._prevScrollPos:n,r=t.direction,i=void 0===(i=t.throttleTime)?0:i,o=t.inputEvent,a=t.isDrag,s=this._getScrollPosition(r||[0,0],t),u=s[0]-n[0];return n=s[1]-n[1],r=r||[u?Math.abs(u)/u:0,n?Math.abs(n)/n:0],this._prevScrollPos=s,this._lock=!1,!(!u&&!n||(this.emit("move",{offsetX:r[0]?u:0,offsetY:r[1]?n:0,inputEvent:o}),i&&a&&(clearTimeout(this._timer),this._timer=window.setTimeout((function(){e._continueDrag(t)}),i)),0))},i.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},i._getScrollPosition=function(t,e){var n=e.container;return(void 0===(e=e.getScrollPosition)?ot:e)({container:st(n),direction:t})},i._continueDrag=function(t){var e=this,n=t.container,r=t.direction,i=t.throttleTime,o=t.useScroll,a=t.isDrag,s=t.inputEvent;if(!(!this._flag||a&&this._isWait)){var u=x();return 0<(i=Math.max(i+this._prevTime-u,0))?(clearTimeout(this._timer),this._timer=window.setTimeout((function(){e._continueDrag(t)}),i),!1):(this._prevTime=u,i=this._getScrollPosition(r,t),this._prevScrollPos=i,a&&(this._isWait=!0),o||(this._lock=!0),u={container:st(n),direction:r,inputEvent:s},null!=(a=t.requestScroll)&&a.call(t,u),this.emit("scroll",u),this._isWait=!1,o||this.checkScroll(it(it({},t),{prevScrollPos:i,direction:r,inputEvent:s})))}},i._registerScrollEvent=function(t){this._unregisterScrollEvent();var e,n=t.checkScrollEvent;n&&(e=!0===n?at:n,t=st(t.container),!0!==n||t!==document.body&&t!==document.documentElement?this._unregister=e(t,this._onScroll):this._unregister=at(window,this._onScroll))},i._unregisterScrollEvent=function(){var t;null!=(t=this._unregister)&&t.call(this),this._unregister=null},r}(A),ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function lt(t){return t&&"object"==typeof t}function ft(t){return Array.isArray(t)}function pt(t){return"string"==typeof t}function dt(t,e,n,r){t.addEventListener(e,n,r)}function ht(t,e,n,r){t.removeEventListener(e,n,r)}var vt=function(){return(vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},gt=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(lt(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(lt(t))for(var n in t)this.off(n);else{var r,i;e?(r=this._events[t])&&-1<(i=function(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i]))return i;return n}(r,(function(t){return t.listener===e})))&&r.splice(i,1):this._events[t]=[]}else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this,r=(void 0===e&&(e={}),this._events[t]);if(!t||!r)return!0;var i=!1;return e.eventType=t,e.stop=function(){i=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(r).forEach((function(r){r.listener(e),r.once&&n.off(t,r.listener)})),!i},e.trigger=function(t,e){return this.emit(t,e=void 0===e?{}:e)},e._addEvent=function(t,e,n){var r=this._events;r[t]=r[t]||[],r[t].push(vt({listener:e},n))},t}();!function(t,e){function n(t){if(!t||"object"!=typeof t||(e=t.which||t.keyCode||t.charCode)&&(t=e),"number"==typeof t)return s[t];var e=String(t);return(t=r[e.toLowerCase()])||((t=i[e.toLowerCase()])?t:1===e.length?e.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){if(null!=(t=t.which||t.keyCode||t.charCode))if("string"==typeof e){var n=r[e.toLowerCase()];if(n)return n===t;if(n=i[e.toLowerCase()])return n===t}else if("number"==typeof e)return e===t;return!1}};for(var r=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a,s=e.names=e.title={};for(o in r)s[r[o]]=o;for(a in i)r[a]=i[a]}(ne={exports:{}},ne.exports);var mt,bt=((ne=ne.exports).code,ne.codes,ne.aliases,ne.names),yt=(ne.title,{"+":"plus","left command":"meta","right command":"meta"}),Et={shift:1,ctrl:2,alt:3,meta:4};function xt(t,e){var n,r=(bt[t]||e||"").toLowerCase();for(n in yt)r=r.replace(n,yt[n]);return r.replace(/\s/g,"")}function St(t,e){return void 0===e&&(e=xt(t.keyCode,t.key)),-1===(t=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"].filter(Boolean)).indexOf(e)&&t.push(e),t.filter(Boolean)}function _t(t){return(t=t.slice()).sort((function(t,e){return(Et[t]||5)-(Et[e]||5)})),t}var Ct=function(t){var e=i,n=t;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}function i(e){void 0===e&&(e=window);var n=t.call(this)||this;return n.container=e,n.ctrlKey=!1,n.altKey=!1,n.shiftKey=!1,n.metaKey=!1,n.clear=function(){return n.ctrlKey=!1,n.altKey=!1,n.shiftKey=!1,n.metaKey=!1,n},n.keydownEvent=function(t){n.triggerEvent("keydown",t)},n.keyupEvent=function(t){n.triggerEvent("keyup",t)},n.blur=function(){n.clear(),n.trigger("blur")},dt(e,"blur",n.blur),dt(e,"keydown",n.keydownEvent),dt(e,"keyup",n.keyupEvent),n}return ct(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r),n=i.prototype,Object.defineProperty(i,"global",{get:function(){return mt=mt||new i},enumerable:!1,configurable:!0}),i.setGlobal=function(){return this.global},n.destroy=function(){var t=this.container;this.clear(),this.off(),ht(t,"blur",this.blur),ht(t,"keydown",this.keydownEvent),ht(t,"keyup",this.keyupEvent)},n.keydown=function(t,e){return this.addEvent("keydown",t,e)},n.offKeydown=function(t,e){return this.removeEvent("keydown",t,e)},n.offKeyup=function(t,e){return this.removeEvent("keyup",t,e)},n.keyup=function(t,e){return this.addEvent("keyup",t,e)},n.addEvent=function(t,e,n){return ft(e)?this.on(t+"."+_t(e).join("."),n):pt(e)?this.on(t+"."+e,n):this.on(t,e),this},n.removeEvent=function(t,e,n){return ft(e)?this.off(t+"."+_t(e).join("."),n):pt(e)?this.off(t+"."+e,n):this.off(t,e),this},n.triggerEvent=function(t,e){this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var n=xt(e.keyCode,e.key),r={key:n,isToggle:"ctrl"===n||"shift"===n||"meta"===n||"alt"===n,inputEvent:e,keyCode:e.keyCode,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};1<(this.trigger(t,r),this.trigger(t+"."+n,r),e=St(e,n)).length&&this.trigger(t+"."+e.join("."),r)},i}(gt);function wt(t){return P(t,c)}function Dt(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;0<=n;--n)e+=t[n];return e}(t.map((function(e,n){return n=t[n+1]||t[0],e[0]*n[1]-n[0]*e[1]}))))/2}function Mt(t){var e=t.map((function(t){return t[0]}));return t=t.map((function(t){return t[1]})),{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,t),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,t)}}function Ot(t,e,n){var r=t[0],i=t[1],o=(a=Mt(e)).minX,a=a.maxX,s=[[o,i],[a,i]],u=Tt(s[0],s[1]),c=(o=kt(e),[]);if(o.forEach((function(e){var n,r=Tt(e[0],e[1]),o=e[0];n=r,u.every((function(t,e){return 0===wt(t-n[e])}))?c.push({pos:t,line:e,type:"line"}):Rt(Pt(u,r),[s,e]).forEach((function(t){e.some((function(e){return n=t,!wt(e[0]-n[0])&&!wt(e[1]-n[1]);var n}))?c.push({pos:t,line:e,type:"point"}):0!==wt(o[1]-i)&&c.push({pos:t,line:e,type:"intersection"})}))})),!n&&_(c,(function(t){return t[0]===r})))return!0;var l=0,f={};return c.forEach((function(t){var e=t.pos,n=t.type;t=t.line,e[0]>r||("intersection"===n?++l:"line"!==n&&"point"===n&&(n=_(t,(function(t){return t[1]!==i})),t=f[e[0]],n=n[1]>i?1:-1,t?t!==n&&++l:f[e[0]]=n))})),l%2==1}function Tt(t,e){var n=t[0],r=(t=t[1],e[0]-n),i=(e=e[1]-t,Math.abs(r)<c&&(r=0),Math.abs(e)<c&&(e=0),0),o=0,a=0;return r?a=e?(o=1,-(i=-e/r)*n-t):(o=1,-t):e&&(i=-1,a=n),[i,o,a]}function Pt(t,e){var n,r,i=t[0],o=t[1],a=(t=t[2],e[0]),s=e[1],u=(e=e[2],0===i&&0===a),c=0===o&&0===s;return u&&c?[]:u?(u=-t/o)!=-e/s?[]:[[-1/0,u],[1/0,u]]:c?(u=-t/i)!=-e/a?[]:[[u,-1/0],[u,1/0]]:(0===i?[[n=-(s*(r=-t/o)+e)/a,r]]:0===a?[[n=-(o*(r=-e/s)+t)/i,r]]:0===o?[[n=-t/i,r=-(a*n+e)/s]]:0===s?[[n=-e/a,r=-(i*n+t)/o]]:[[n=(o*e-s*t)/(s*i-o*a),r=-(i*n+t)/o]]).map((function(t){return[t[0],t[1]]}))}function Rt(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))}));if(e=[],2===t.length){var r=(i=t[0])[0],i=i[1];if(wt(r-t[1][0])){if(!wt(i-t[1][1])){var o=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),a=Math.min.apply(Math,n.map((function(t){return t[0][1]})));if(0<wt(o-a))return[];e=[[o,i],[a,i]]}}else{if(o=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),a=Math.min.apply(Math,n.map((function(t){return t[1][1]}))),0<wt(o-a))return[];e=[[r,o],[r,a]]}}return(e=e.length?e:t.filter((function(t){var e=t[0],r=t[1];return n.every((function(t){return 0<=wt(e-t[0][0])&&0<=wt(t[0][1]-e)&&0<=wt(r-t[1][0])&&0<=wt(t[1][1]-r)}))}))).map((function(t){return[wt(t[0]),wt(t[1])]}))}function kt(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}function It(t,e){var n,r,i,o,a,s,u;return n=t.slice(),r=e.slice(),-1===O(n)&&n.reverse(),-1===O(r)&&r.reverse(),i=kt(n),o=kt(r),t=i.map((function(t){return Tt(t[0],t[1])})),a=o.map((function(t){return Tt(t[0],t[1])})),s=[],t.forEach((function(t,e){var n=i[e],u=[];a.forEach((function(r,i){r=Rt(Pt(t,r),[n,o[i]]),u.push.apply(u,r.map((function(t){return{index1:e,index2:i,pos:t,type:"intersection"}})))})),u.sort((function(t,e){return T(n[0],t.pos)-T(n[0],e.pos)})),s.push.apply(s,u),Ot(n[1],r)&&s.push({index1:e,index2:-1,pos:n[1],type:"inside"})})),o.forEach((function(t,e){var r,i;Ot(t[1],n)&&(r=!1,-1===(i=S(s,(function(t){if(t.index2!==e)return!!r;r=!0})))&&(r=!1,i=S(s,(function(t){var n=t.index1;if(t=t.index2,-1!==n||t+1!==e)return!!r;r=!0}))),-1===i?s.push({index1:-1,index2:e,pos:t[1],type:"inside"}):s.splice(i,0,{index1:-1,index2:e,pos:t[1],type:"inside"}))})),u={},s.filter((function(t){return t=(t=t.pos)[0]+"x"+t[1],!u[t]&&(u[t]=!0)})).map((function(t){return t.pos}))}function zt(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s)for(var u=r[s*n+a]=0;u<i;++u)r[s*n+a]+=t[u*n+a]*e[s*i+u];return r}function Bt(t,e){return zt(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function Ft(t,e){return zt(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function At(t,e){return zt(t,(t=e,e=4,n=Math.cos(t),t=Math.sin(t),(r=Yt(e))[0]=n,r[1]=t,r[e]=-t,r[e+1]=n,r));var n,r}function Gt(t,e){var n=e[0],r=e[1];return zt(t,[void 0===n?1:n,0,0,0,0,void 0===r?1:r,0,0,0,0,void 0===(e=e[2])?1:e,0,0,0,0,1],4)}function Wt(t,e){var n=e[0],r=e[1];return zt(t,[1,0,0,0,0,1,0,0,0,0,1,0,void 0===n?0:n,void 0===r?0:r,void 0===(e=e[2])?0:e,1],4)}function Nt(t,e){return zt(t,e,4)}function Yt(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}var jt=function(){return(jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Xt(t,e){return t=function(t,e){return void 0===e&&(e=0),(p(t)?t:function(t){return m(t,"")}(t)).map((function(t){var n,r,i,o,a=(t=!(t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t))||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}).prefix,s=(t=t.value,null),u=a,c="";return"translate"===a||"translateX"===a||"translate3d"===a?(n=f(e)?jt(jt({},e),{"o%":e["%"]}):{"%":e,"o%":e},s=Wt,c=[(o=b(t).map((function(t,r){return n["%"]=0===r&&"x%"in n?e["x%"]:1===r&&"y%"in n?e["y%"]:e["o%"],C(t,n)})))[0],void 0===(r=o[1])?0:r,void 0===(r=o[2])?0:r]):"translateY"===a?(s=Wt,c=[0,C(t,f(e)?jt({"%":e["y%"]},e):{"%":e}),0]):"translateZ"===a?(s=Wt,c=[0,0,parseFloat(t)]):"scale"===a||"scale3d"===a?(s=Gt,c=[i=(o=b(t).map((function(t){return parseFloat(t)})))[0],void 0===(r=o[1])?i:r,void 0===(r=o[2])?1:r]):"scaleX"===a?(s=Gt,c=[i=parseFloat(t),1,1]):"scaleY"===a?(s=Gt,c=[1,parseFloat(t),1]):"scaleZ"===a?(s=Gt,c=[1,1,parseFloat(t)]):"rotate"===a||"rotateZ"===a||"rotateX"===a||"rotateY"===a?(r=(o=y(t)).unit,i=o.value,"rotate"===a||"rotateZ"===a?(u="rotateZ",s=At):"rotateX"===a?s=Bt:"rotateY"===a&&(s=Ft),c="rad"===r?i:i*Math.PI/180):"matrix3d"===a?(s=Nt,c=b(t).map((function(t){return parseFloat(t)}))):"matrix"===a?(s=Nt,c=[(o=b(t).map((function(t){return parseFloat(t)})))[0],o[1],0,0,o[2],o[3],0,0,0,0,1,0,o[4],o[5],0,1]):u="",{name:a,functionName:u,value:t,matrixFunction:s,functionValue:c}}))}(t,e=void 0===e?0:e),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t.forEach((function(t){var e=t.matrixFunction;t=t.functionValue,e&&(n=e(n,t))})),n;var n}function Lt(t,e){var n,r;return n=t,e=[e[0],e[1]||0,e[2]||0,1],r=(n=zt(t,e,t=void 0===(t=4)?e.length:t))[t-1],e=n.map((function(t){return t/r})),t=e[3]||1,[e[0]/t,e[1]/t,e[2]/t]}function qt(t,e,n){var r=t.tag,i=t.children,o=t.attributes,a=t.className,s=t.style,u=e||I(n).createElement(r);for(l in o)u.setAttribute(l,o[l]);var c=u.children;if(i.forEach((function(t,e){qt(t,c[e],u)})),a&&a.split(/\s+/g).forEach((function(t){var e,n;!t||(n=t,(e=u).classList?e.classList.contains(n):e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")))||(e=t,(n=u).classList?n.classList.add(e):n.className+=" "+e)})),s){var l,f=u.style;for(l in s)f[l]=s[l]}return!e&&n&&n.appendChild(u),u}function Ht(t,e,n){t!==e&&n(t,e)}function Vt(t,e,n){void 0===n&&(n=t.data.boundArea);var r=void 0===(r=t.distX)?0:r,i=void 0===(i=t.distY)?0:i,o=(t=t.data).startX;t=t.startY,0<e&&(r=(0<=r?1:-1)*(e*(a=Math.sqrt((r*r+i*i)/(1+e*e)))),i=(0<=i?1:-1)*a),r=(0<=r?1:-1)*(n=(a=function(t,e,n,r){if(!r)return t.map((function(t,r){return w(t,e[r],n[r])}));var i=t[0],o=t[1],a=(s=D(t,e,!1,r=!0===r?i/o:r))[0],s=s[1];return r=(t=D(t,n,!0,r))[0],t=t[1],i<a||o<s?(i=a,o=s):(r<i||t<o)&&(i=r,o=t),[i,o]}([Math.abs(r),Math.abs(i)],[0,0],[r<0?o-n.left:n.right-o,i<0?t-n.top:n.bottom-t],!!e))[0]),i=(0<=i?1:-1)*(e=a[1]);var a=o+Math.min(0,r);return{left:a,top:o=t+Math.min(0,i),right:a+n,bottom:o+e,width:n,height:e}}function Kt(t){var e=(t=t.getBoundingClientRect()).left,n=t.top,r=t.width;return{pos1:[e,n],pos2:[e+r,n],pos3:[e,n+(t=t.height)],pos4:[e+r,n+t]}}function Ut(t,e,n){var i=(t=nt(t,e)).list,o=t.prevList,a=(e=t.added,t.removed);return t=t.maintained,r(r(r([],e.map((function(t){return i[t]})),!0),a.map((function(t){return o[t]})),!0),n?t.map((function(t){return t=t[1],i[t]})):[],!0)}function $t(t){for(var e=0,n=t.length,r=1;r<n;++r)e=Math.max(T(t[r],t[r-1]),e);return e}var Zt,Qt,Jt={className:Zt="rCS"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}("\n:host {\n    position: fixed;\n    display: none;\n    border: 1px solid #4af;\n    background: rgba(68, 170, 255, 0.5);\n    pointer-events: none;\n    will-change: transform;\n    z-index: 100;\n}\n").toString(36),inject:function(t,e){void 0===e&&(e={});var n,r=function(t){if(t&&t.getRootNode&&11===(t=t.getRootNode()).nodeType)return t}(t),i=(r||t.ownerDocument||document).querySelector('style[data-styled-id="'.concat(Zt,'"]'));return i?(n=parseFloat(i.getAttribute("data-styled-count"))||0,i.setAttribute("data-styled-count","".concat(n+1))):i=function(t,e,n,r,i){var o,a=(r=I(r)).createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),a.setAttribute("data-styled-count","1"),n.nonce&&a.setAttribute("nonce",n.nonce),a.innerHTML=(o=t,t=e,n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(t,e){return((e=e.trim())?b(e):[""]).map((function(t){return 0===(t=t.trim()).indexOf("@")?t:-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?"".concat(t.replace(/\:host/g,".".concat(o))):t?".".concat(o," ").concat(t):".".concat(o)})).join(", ")+" {"}))),(i||r.head||r.body).appendChild(a),a}(Zt,"\n:host {\n    position: fixed;\n    display: none;\n    border: 1px solid #4af;\n    background: rgba(68, 170, 255, 0.5);\n    pointer-events: none;\n    will-change: transform;\n    z-index: 100;\n}\n",e,t,r),{destroy:function(){var t,e=parseFloat(i.getAttribute("data-styled-count"))||0;e<=1?(i.remove?i.remove():null!=(t=i.parentNode)&&t.removeChild(i),i=null):i.setAttribute("data-styled-count","".concat(e-1))}}}},te="selecto-selection ".concat(Jt.className),ee=["className","boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],ne=r(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],ee,!0),re=(gt={className:String,boundContainer:null,portalContainer:null,container:null,dragContainer:null,selectableTargets:Array,selectByClick:Boolean,selectFromInside:Boolean,continueSelect:Boolean,toggleContinueSelect:Array,toggleContinueSelectWithoutDeselect:Array,keyContainer:null,hitRate:Number,scrollOptions:Object,checkInput:Boolean,preventDefault:Boolean,cspNonce:String,ratio:Number,getElementRect:Function,preventDragFromInside:Boolean,rootContainer:Object,dragCondition:Function,clickBySelectEnd:Boolean,continueSelectWithoutDeselect:Boolean,preventClickEventOnDragStart:Boolean,preventClickEventOnDrag:Boolean,checkOverflow:Boolean,innerScrollOptions:Object},function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(function(t){function i(e){void 0===e&&(e={});var r=t.call(this)||this,i=(r.selectedTargets=[],r.dragScroll=new ut,r._onDragStart=function(t,e){var i=t.data,o=t.clientX,a=t.clientY,s=t.inputEvent,u=(m=r.options).selectFromInside,l=m.selectByClick,p=m.rootContainer,h=m.boundContainer,v=void 0===(v=m.preventDragFromInside)||v,g=m.clickBySelectEnd;if(!(m=m.dragCondition)||m(t)){i.data={};var m=z(r.container),b=(i.innerWidth=m.innerWidth,i.innerHeight=m.innerHeight,r.findSelectableTargets(i),i.startSelectedTargets=r.selectedTargets,i.scaleMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.containerX=0,i.containerY=0,r.container),y=(m={left:-1/0,top:-1/0,right:1/0,bottom:1/0},p&&(y=r.container.getBoundingClientRect(),i.containerX=y.left,i.containerY=y.top,i.scaleMatrix=function(t,e){void 0===e&&(e=document.body);for(var n=t,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n&&(r=Nt(Xt(getComputedStyle(n).transform),r),n!==e);)n=n.parentElement;return(r=function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Yt(e),i=0;i<e;++i){var o=e*i+i;if(!P(n[o],c))for(var a=i+1;a<e;++a)if(n[e*i+a]){m=g=v=h=d=u=s=void 0;for(var s=n,u=r,l=i,f=a,p=e,d=0;d<p;++d){var h=l+d*p,v=f+d*p,g=s[h],m=u[h];s[h]=s[v],s[v]=g,u[h]=u[v],u[v]=m}break}if(!P(n[o],c))return[];C=_=y=b=void 0;for(var b=n,y=r,E=i,x=e,S=n[o],_=0;_<x;++_){var C=E+_*x;b[C]/=S,y[C]/=S}for(a=0;a<e;++a){var w=a,D=n[a+i*e];if(P(D,c)&&i!==a){F=B=z=O=M=void 0;for(var M=n,O=r,T=w,R=i,k=e,I=-D,z=0;z<k;++z){var B=T+z*k,F=R+z*k;M[B]+=M[F]*I,O[B]+=O[F]*I}}}}return r}(r,4))[12]=0,r[13]=0,r[14]=0,r}(r.container,p)),h&&(h=(y=f(h)&&"element"in h?n({left:!0,top:!0,bottom:!0,right:!0},h):{element:h,left:!0,top:!0,bottom:!0,right:!0}).element)&&(h=(d(h)?I(b).querySelector(h):!0===h?r.container:h).getBoundingClientRect(),y.left&&(m.left=h.left),y.top&&(m.top=h.top),y.right&&(m.right=h.right),y.bottom&&(m.bottom=h.bottom)),i.boundArea=m,{left:o,top:a,right:o,bottom:a,width:0,height:0}),E=(h=[],m=l&&!g,!1);if(u&&!m||(E=!!(e=r._findElement(e||s.target,i.selectableTargets)),m&&(h=e?[e]:[])),(m=!u&&E)&&!l)return t.stop(),!1;if(e=s.type,!(t.isClick||"mousedown"!==e&&"touchstart"!==e||r.emit("dragStart",n(n({},t),{data:i.data}))))return t.stop(),!1;if(r.continueSelect?(h=Ut(r.selectedTargets,h,r.continueSelectWithoutDeselect),i.startPassedTargets=r.selectedTargets):i.startPassedTargets=[],r._select(h,y,t,!0,m&&l&&!g&&v),i.startX=o,i.startY=a,i.selectFlag=!1,i.preventDragFromInside=!1,s.target&&(u=Lt(i.scaleMatrix,[o-i.containerX,a-i.containerY]),r.target.style.cssText+="position: ".concat(p?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(u[0],"px, ").concat(u[1],"px)")),m&&l&&!g)s.preventDefault(),v&&(r._selectEnd(i.startSelectedTargets,i.startPassedTargets,y,t,!0),i.preventDragFromInside=!0);else{if(i.selectFlag=!0,e=(E=r.options).scrollOptions,o=!1,h=E.innerScrollOptions){for(var x=null,S=t.inputEvent.target;S&&S!==I(b).body;){if("visible"!==getComputedStyle(S).overflow){x=S;break}S=S.parentElement}x&&(i.innerScrollOptions=n({container:x,checkScrollEvent:!0},!0===h?{}:h),r.dragScroll.dragStart(t,i.innerScrollOptions),o=!0)}!o&&e&&e.container&&r.dragScroll.dragStart(t,e),m&&l&&g&&(i.selectFlag=!1,t.preventDrag())}return!0}t.stop()},r._onDrag=function(t){if(t.data.selectFlag){var e=r.scrollOptions,n=t.data.innerScrollOptions;if((n||(null==e?void 0:e.container))&&!t.isScroll&&r.dragScroll.drag(t,n||e))return}r._checkSelected(t)},r._onDragEnd=function(t){var e=t.data,i=t.inputEvent,o=Vt(t,r.options.ratio),a=e.selectFlag,s=r.container;i&&r.emit("dragEnd",n(n({isDouble:!!t.isDouble,isClick:!!t.isClick,isDrag:!1,isSelect:a},t),{data:e.data,rect:o})),r.target.style.cssText+="display: none;",a?(e.selectFlag=!1,r.dragScroll.dragEnd()):r.selectByClick&&r.clickBySelectEnd&&(a=r._findElement((null==i?void 0:i.target)||(a=s,i=t.clientX,s=t.clientY,(a=I(a)).elementFromPoint&&a.elementFromPoint(i,s)||null),e.selectableTargets),r._select(a?[a]:[],o,t)),e.preventDragFromInside||r._selectEnd(e.startSelectedTargets,e.startPassedTargets,o,t)},r._onKeyDown=function(t){var e,n=r.options,i=!1;r._keydownContinueSelect||(e=r._sameCombiKey(t,n.toggleContinueSelect),r._keydownContinueSelect=e,i=i||e),r._keydownContinueSelectWithoutDeselection||(e=r._sameCombiKey(t,n.toggleContinueSelectWithoutDeselect),r._keydownContinueSelectWithoutDeselection=e,i=i||e),i&&r.emit("keydown",{keydownContinueSelect:r._keydownContinueSelect,keydownContinueSelectWithoutDeselection:r._keydownContinueSelectWithoutDeselection})},r._onKeyUp=function(t){var e,n=r.options,i=!1;r._keydownContinueSelect&&(e=r._sameCombiKey(t,n.toggleContinueSelect,!0),r._keydownContinueSelect=!e,i=i||e),r._keydownContinueSelectWithoutDeselection&&(e=r._sameCombiKey(t,n.toggleContinueSelectWithoutDeselect,!0),r._keydownContinueSelectWithoutDeselection=!e,i=i||e),i&&r.emit("keyup",{keydownContinueSelect:r._keydownContinueSelect,keydownContinueSelectWithoutDeselection:r._keydownContinueSelectWithoutDeselection})},r._onBlur=function(){(r._keydownContinueSelect||r._keydownContinueSelectWithoutDeselection)&&(r._keydownContinueSelect=!1,r._keydownContinueSelectWithoutDeselection=!1,r.emit("keyup",{keydownContinueSelect:r._keydownContinueSelect,keydownContinueSelectWithoutDeselection:r._keydownContinueSelectWithoutDeselection}))},r._onDocumentSelectStart=function(t){var e,n,i=I(r.container);r.gesto.isFlag()&&(i=B(e=(e=r.dragContainer)===z(r.container)?i.documentElement:e)?[e]:[].slice.call(e),n=t.target,i.some((function(e){if(e===n||e.contains(n))return t.preventDefault(),!0})))},r.target=e.portalContainer,e.container);return r.options=n({className:"",portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:null,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:Kt,cspNonce:"",ratio:0},e),(e=r.options.portalContainer)&&(i=e.parentElement),r.container=i||document.body,r.initElement(),r.initDragScroll(),r.setKeyController(),r}e(i,t);var o,a,s=i.prototype;return s.setSelectedTargets=function(t){var e=this.selectedTargets,n=nt(e,t),r=n.added,i=n.removed,o=n.prevList,a=n.list;return this.selectedTargets=t,{added:r.map((function(t){return a[t]})),removed:i.map((function(t){return o[t]})),beforeSelected:e,selected:t}},s.setSelectedTargetsByPoints=function(t,e){var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=(e={left:r,top:i,right:o=Math.max(t[0],e[0]),bottom:t=Math.max(t[1],e[1]),width:o-r,height:t-i},{ignoreClick:!0});return this.findSelectableTargets(o),r=this.hitTest(e,o,!0,null),t=this.setSelectedTargets(r),n(n({},t),{rect:e})},s.selectTargetsByPoints=function(t,e){t=new MouseEvent("mousedown",{clientX:t[0],clientY:t[1],cancelable:!0,bubbles:!0});var n=new MouseEvent("mousemove",{clientX:e[0],clientY:e[1],cancelable:!0,bubbles:!0}),r=(e=new MouseEvent("mousemove",{clientX:e[0],clientY:e[1],cancelable:!0,bubbles:!0}),this.gesto);!1!==r.onDragStart(t)&&(r.onDrag(n),r.onDragEnd(e))},s.getSelectedTargets=function(){return this.selectedTargets},s.triggerDragStart=function(t){return this.gesto.triggerDragStart(t),this},s.destroy=function(){var t;this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),k(document,"selectstart",this._onDocumentSelectStart),this.options.portalContainer||null!=(t=this.target.parentElement)&&t.removeChild(this.target),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},s.getElementPoints=function(t){var e,n,r,i,o,a,s,u,c,l=this.getElementRect||Kt,f=[(f=l(t)).pos1,f.pos2,f.pos4,f.pos3];return l!==Kt?(l=t.getBoundingClientRect(),t=f,e=l.width,n=l.height,r=l.left,i=l.top,o=(l=Mt(t)).minX,a=l.minY,s=l.maxX,l=l.maxY,u=e/(s-o),c=n/(l-a),t.map((function(t){return[r+(t[0]-o)*u,i+(t[1]-a)*c]}))):f},s.getSelectableElements=function(){var t=this.container,e=[];return this.options.selectableTargets.forEach((function(n){var r;h(n)?(r=n())&&e.push.apply(e,[].slice.call(r)):B(n)?e.push(n):f(n)?e.push(n.value||n.current):(r=[].slice.call(I(t).querySelectorAll(n)),e.push.apply(e,r))})),e},s.checkScroll=function(){var t,e;this.gesto.isFlag()&&(t=this.scrollOptions,((e=this.gesto.getEventData().innerScrollOptions)||(null==t?void 0:t.container))&&this.dragScroll.checkScroll(n({inputEvent:this.gesto.getCurrentEvent()},e||t)))},s.findSelectableTargets=function(t){var e,n=this,i=(void 0===t&&(t=this.gesto.getEventData()),this.getSelectableElements()),o=i.map((function(t){return n.getElementPoints(t)})),a=(t.selectableTargets=i,t.selectablePoints=o,t.selectableParentMap=null,o=this.options).checkOverflow||o.innerScrollOptions,s=I(this.container);return a&&(e=new Map,t.selectableInnerScrollParentMap=e,t.selectableInnerScrollPathsList=i.map((function(t,n){for(var i=t.parentElement,o=[],a=[];i&&i!==s.body;)!function(){var t,s=e.get(i);s||"visible"!==getComputedStyle(i).overflow&&(t=Kt(i),s={parentElement:i,indexes:[],points:[t.pos1,t.pos2,t.pos4,t.pos3],paths:r([],a,!0)},o.push(i),o.forEach((function(t){e.set(t,s)})),o=[]),s?(i=s.parentElement,e.get(i).indexes.push(n),a.push(i)):o.push(i),i=i.parentElement}();return a}))),o.checkOverflow||(t.selectableInners=i.map((function(){return!0}))),this._refreshGroups(t),i},s.clickTarget=function(t,e){var n="touches"in(r=t)?{clientX:(n=r.touches[0]||r.changedTouches[0]).clientX,clientY:n.clientY}:{clientX:r.clientX,clientY:r.clientY},r={data:{selectFlag:!1},clientX:n.clientX,clientY:n.clientY,inputEvent:t,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(r,e)&&this._onDragEnd(r),this},s.setKeyController=function(){var t=(n=this.options).keyContainer,e=n.toggleContinueSelect,n=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(e||n)&&(this.keycon=new Ct(t||z(this.container)),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},s.setClassName=function(t){this.options.className=t,this.target.setAttribute("class","".concat(te," ").concat(t||""))},s.setKeyEvent=function(){var t=(e=this.options).toggleContinueSelect,e=e.toggleContinueSelectWithoutDeselect;!t&&!e||this.keycon||this.setKeyController()},s.setKeyContainer=function(t){var e=this,n=this.options;Ht(n.keyContainer,t,(function(){n.keyContainer=t,e.setKeyController()}))},s.getContinueSelect=function(){var t=this.options,e=t.continueSelect;return t.toggleContinueSelect&&this._keydownContinueSelect?!e:e},s.getContinueSelectWithoutDeselect=function(){var t=this.options,e=t.continueSelectWithoutDeselect;return t.toggleContinueSelectWithoutDeselect&&this._keydownContinueSelectWithoutDeselection?!e:e},s.setToggleContinueSelect=function(t){var e=this,n=this.options;Ht(n.toggleContinueSelect,t,(function(){n.toggleContinueSelect=t,e.setKeyEvent()}))},s.setToggleContinueSelectWithoutDeselect=function(t){var e=this,n=this.options;Ht(n.toggleContinueSelectWithoutDeselect,t,(function(){n.toggleContinueSelectWithoutDeselect=t,e.setKeyEvent()}))},s.setPreventDefault=function(t){this.gesto.options.preventDefault=t},s.setCheckInput=function(t){this.gesto.options.checkInput=t},s.initElement=function(){var t=(s=this.options).dragContainer,e=s.checkInput,n=s.preventDefault,r=s.preventClickEventOnDragStart,i=s.preventClickEventOnDrag,o=s.preventClickEventByCondition,a=void 0===(a=s.preventRightClick)||a,s=s.className,u=this.container;this.target=qt(function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=(e=e||{}).className,o=e.style;return{tag:t,className:void 0===i?"":i,style:void 0===o?{}:o,attributes:function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(e,["className","style"]),children:n}}("div",{className:"".concat(te," ").concat(s||"")}),this.target,u),s=this.target,this.dragContainer="string"==typeof t?[].slice.call(I(u).querySelectorAll(t)):t||this.target.parentNode,this.gesto=new U(this.dragContainer,{checkWindowBlur:!0,container:z(u),checkInput:e,preventDefault:n,preventClickEventOnDragStart:r,preventClickEventOnDrag:i,preventClickEventByCondition:o,preventRightClick:a}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),R(document,"selectstart",this._onDocumentSelectStart),this.injectResult=Jt.inject(s,{nonce:this.options.cspNonce})},s.hitTest=function(t,e,n,r){function i(t,e){e=y("".concat("function"==typeof o?o(e):o));var r=!v&&Ot([d,h],t);if(!n&&a&&r)return!0;if(!(r=It(g,t)).length)return!1;var i=Dt(r),s=0;return 0===i&&0===Dt(t)?(s=$t(t),i=$t(r)):s=Dt(t),"px"===e.unit?i>=e.value:w(Math.round(i/s*100),0,100)>=Math.min(100,e.value)}var o=(s=this.options).hitRate,a=s.selectByClick,s=t.left,u=t.top,c=t.right,l=(t=t.bottom,e.innerGroups),f=e.innerWidth,p=e.innerHeight,d=null==r?void 0:r.clientX,h=null==r?void 0:r.clientY,v=e.ignoreClick,g=[[s,u],[c,u],[c,t],[s,t]],m=e.selectableTargets,b=e.selectablePoints,E=e.selectableInners;if(!l)return m.filter((function(t,e){return!!E[e]&&i(b[e],m[e])}));for(var x=[],S=(r=Math.floor(s/f),Math.floor(c/f)),_=Math.floor(u/p),C=Math.floor(t/p),D=r;D<=S;++D){var M=l[D];if(M)for(var O=_;O<=C;++O){var T=M[O];T&&T.forEach((function(t){var e=b[t],n=E[t];t=m[t],n&&i(e,t)&&x.push(t)}))}}var P=x;if("undefined"==typeof Map)return P.filter((function(t,e){return P.indexOf(t)===e}));var R=new Map;return P.filter((function(t){return!R.has(t)&&(R.set(t,!0),!0)}))},s.initDragScroll=function(){var t=this;this.dragScroll.on("scrollDrag",(function(e){(0,e.next)(t.gesto.getCurrentEvent())})).on("scroll",(function(e){var n=e.container;e=e.direction,t.gesto.getEventData().innerScrollOptions?t.emit("innerScroll",{container:n,direction:e}):t.emit("scroll",{container:n,direction:e})})).on("move",(function(e){var n,r,i,o,a=e.offsetX,s=e.offsetY,u=(e=e.inputEvent,t.gesto);u&&u.isFlag()&&(u=(n=t.gesto.getEventData()).boundArea,n.startX-=a,n.startY-=s,r=!1,(o=null==(o=t.gesto.getEventData().innerScrollOptions)?void 0:o.container)&&(o=(i=n.selectableInnerScrollParentMap).get(o))&&(o.paths.forEach((function(t){i.get(t).points.forEach((function(t){t[0]-=a,t[1]-=s}))})),o.indexes.forEach((function(t){n.selectablePoints[t].forEach((function(t){t[0]-=a,t[1]-=s}))})),r=!0),r||n.selectablePoints.forEach((function(t){t.forEach((function(t){t[0]-=a,t[1]-=s}))})),t._refreshGroups(n),u.left-=a,u.right-=a,u.top-=s,u.bottom-=s,t.gesto.scrollBy(a,s,e.inputEvent),t._checkSelected(t.gesto.getCurrentEvent()))}))},s._select=function(t,e,r,i,o){void 0===o&&(o=!1);var a=r.inputEvent,s=r.data,u=this.setSelectedTargets(t),c=(t=nt(s.startSelectedTargets,t)).added,l=t.removed,f=t.prevList,p=t.list;t={startSelected:f,startAdded:c.map((function(t){return p[t]})),startRemoved:l.map((function(t){return f[t]}))},i&&this.emit("selectStart",n(n(n({},u),t),{rect:e,inputEvent:a,data:s.data,isTrusted:r.isTrusted,isDragStartEnd:o})),(u.added.length||u.removed.length)&&this.emit("select",n(n(n({},u),t),{rect:e,inputEvent:a,data:s.data,isTrusted:r.isTrusted,isDragStartEnd:o}))},s._selectEnd=function(t,e,n,r,i){void 0===i&&(i=!1);var o,a=r.inputEvent,s=r.isDouble,u=r.data,c="mousedown"===(c=a&&a.type)||"touchstart"===c,l=(o=nt(t,this.selectedTargets)).added,f=o.removed,p=o.prevList,d=o.list,h=(o=nt(e,this.selectedTargets)).added,v=o.removed,g=o.prevList,m=o.list;this.emit("selectEnd",{startSelected:t,beforeSelected:e,selected:this.selectedTargets,added:l.map((function(t){return d[t]})),removed:f.map((function(t){return p[t]})),afterAdded:h.map((function(t){return m[t]})),afterRemoved:v.map((function(t){return g[t]})),isDragStart:c&&i,isDragStartEnd:c&&i,isClick:!!r.isClick,isDouble:!!s,rect:n,inputEvent:a,data:u.data,isTrusted:r.isTrusted})},s._checkSelected=function(t,e){void 0===e&&(e=Vt(t,this.options.ratio));var r=t.data,i=e.top,o=e.left,a=e.width,s=e.height,u=r.selectFlag,c=r.containerX,l=r.containerY,f=r.scaleMatrix;o=Lt(f,[o-c,i-l]),c=Lt(f,[a,s]),i=[],u&&(this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(o[0],"px, ").concat(o[1],"px);")+"width:".concat(c[0],"px;height:").concat(c[1],"px;"),l=this.hitTest(e,r,!0,t),i=Ut(r.startPassedTargets,l,this.continueSelect&&this.continueSelectWithoutDeselect)),!1===this.emit("drag",n(n({},t),{data:r.data,isSelect:u,rect:e}))?(this.target.style.cssText+="display: none;",t.stop()):u&&this._select(i,e,t)},s._sameCombiKey=function(t,e,n){if(!e)return!1;var r,i=St(t.inputEvent,t.key);return e=p((e=[].concat(e))[0])?e:[e],n?(r=t.key,e.some((function(t){return t.some((function(t){return t===r}))}))):e.some((function(t){return t.every((function(t){return-1<i.indexOf(t)}))}))},s._findElement=function(t,e){for(var n=t;n&&!(-1<e.indexOf(n));)n=n.parentElement;return n},s._refreshGroups=function(t){var e,n,r,i,o=t.innerWidth,a=t.innerHeight,s=t.selectablePoints;this.options.checkOverflow&&(e=null==(r=this.gesto.getEventData().innerScrollOptions)?void 0:r.container,n=t.selectableInnerScrollParentMap,r=t.selectableInnerScrollPathsList,t.selectableInners=r.map((function(t,r){var i=!1;return t.every((function(t){if(!i){if(t===e)return i=!0;if((t=n.get(t))&&!It(s[r],t.points).length)return!1}return!0}))}))),o&&a?(r=t.selectablePoints,i={},r.forEach((function(t,e){var n=1/0,r=-1/0,s=1/0,u=-1/0;t.forEach((function(t){var e=Math.floor(t[0]/o);t=Math.floor(t[1]/a),n=Math.min(e,n),r=Math.max(e,r),s=Math.min(t,s),u=Math.max(t,u)}));for(var c=n;c<=r;++c)for(var l=s;l<=u;++l)i[c]=i[c]||{},i[c][l]=i[c][l]||[],i[c][l].push(e)})),t.innerGroups=i):t.innerGroups=null},function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a}([(o=ee,a=function(t,e){var n={enumerable:!0,configurable:!0,get:function(){return this.options[e]}},r=E("get ".concat(e)),i=(t[r]?n.get=function(){return this[r]()}:n.get=function(){return this.options[e]},E("set ".concat(e)));t[i]?n.set=function(t){this[i](t)}:n.set=function(t){this.options[e]=t},Object.defineProperty(t,e,n)},function(t){var e=t.prototype;o.forEach((function(t){a(e,t)}))})],i)}(A))),ie={__proto__:null,default:re,OPTIONS:ne,OPTION_TYPES:gt,PROPERTIES:ee,EVENTS:["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],METHODS:["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],CLASS_NAME:te};for(Qt in ie)re[Qt]=ie[Qt];return re}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),function(){"use strict";n(73183),window.Masonry=n(16994),n(47943).makeJQueryPlugin(window.$),window.Moveable=n(78310),window.Selecto=n(18092)}()}();