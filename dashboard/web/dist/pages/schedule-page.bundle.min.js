!function(){var e={};$((function(){const e="body",a=$("#schedule-filter #campaignIdFilter");a.select2({dropdownParent:$(e),ajax:{url:a.data("searchUrl"),dataType:"json",delay:250,placeholder:"This is my placeholder",allowClear:!0,data:function(e){const a={isLayoutSpecific:-1,retired:0,totalDuration:0,name:e.term,start:0,length:10,excludeMedia:1,columns:[{data:"isLayoutSpecific"},{data:"campaign"}],order:[{column:0,dir:"asc"},{column:1,dir:"asc"}]};return null!=e.page&&(a.start=10*(e.page-1)),a},processResults:function(e,r){const t=[],n=[],s=[];$.each(e.data,(function(e,a){1===a.isLayoutSpecific?s.push({id:a.campaignId,text:a.campaign}):n.push({id:a.campaignId,text:a.campaign})})),n.length>0&&t.push({text:a.data("transCampaigns"),children:n}),s.length>0&&t.push({text:a.data("transLayouts"),children:s});let i=r.page||1;return i=i>1?i-1:i,{results:t,pagination:{more:10*i<e.recordsTotal}}}}}).on("change",(function(e){setTimeout(calendar.view(),1e3)})).on("select2:open",(function(e){setTimeout((function(){$(e.target).data("select2").dropdown.$search.get(0).focus()}),10)})),$("#showAll, #eventTypeId, #recurring, #geoAware, #DisplayList, #DisplayGroupList, #name, #useRegexForName, #logicalOperatorName",e).on("change",(function(){setTimeout(calendar.view(),1e3)}));const r=$("#schedule-grid").DataTable({language:dataTablesLanguage,dom:dataTablesTemplate,serverSide:!0,stateSave:!0,responsive:!0,stateDuration:0,stateLoadCallback:dataTableStateLoadCallback,stateSaveCallback:dataTableStateSaveCallback,filter:!1,searchDelay:3e3,order:[],ajax:{url:scheduleSearchUrl,data:function(e){$.extend(e,$("#schedule-grid").closest(".XiboGrid").find(".FilterDiv form").serializeObject())}},columns:[{data:"eventId",responsivePriority:5,className:"none"},{name:"icon",className:"align-middle",responsivePriority:2,data:function(e){let a="fa-desktop",r="event-warning";return r=e.displayGroups.length<=1?"event-info":"event-success",1==e.isAlways&&(a="fa-retweet"),null!=e.recurrenceType&&""!=e.recurrenceType&&(r="event-special",a="fa-repeat"),e.isPriority>=1&&(r="event-important",a="fa-bullseye"),2==e.eventTypeId&&(a="fa-wrench"),4==e.eventTypeId&&(a="fa-hand-paper"),1===e.isGeoAware&&(a="fa-map-marker"),6==e.eventTypeId&&(a="fa-paper-plane"),9==e.eventTypeId&&(a="fa-refresh"),e.isEditable||(a="fa-lock",r="event-inverse"),'<span class="fa '+a+" "+r+' "></span>'}},{name:"eventTypeId",className:"align-middle",responsivePriority:2,data:function(e){return e.eventTypeName}},{data:"name",className:"align-middle",responsivePriority:3},{name:"fromDt",className:"align-middle",responsivePriority:2,data:function(e){return 1===e.isAlways?schedulePageTrans.always:moment(e.displayFromDt,systemDateFormat).format(jsDateFormat)}},{name:"toDt",className:"align-middle",responsivePriority:2,data:function(e){return 1===e.isAlways?schedulePageTrans.always:moment(e.displayToDt,systemDateFormat).format(jsDateFormat)}},{name:"campaign",className:"align-middle",responsivePriority:2,data:function(e){return 9===e.eventTypeId?e.syncType:2===e.eventTypeId?e.command:e.campaign}},{data:"campaignId",responsivePriority:5,className:"none"},{name:"displayGroups",className:"align-middle",responsivePriority:2,sortable:!1,data:function(e){return e.displayGroups.length>1&&9!==e.eventTypeId?'<span class="badge" style="background-color: green; color: white" data-toggle="popover" data-trigger="click" data-placement="top" data-content="'+e.displayGroupList+'">'+e.displayGroups.length+"</span>":e.displayGroupList}},{data:"shareOfVoice",className:"align-middle",responsivePriority:4},{name:"maxPlaysPerHour",className:"align-middle",responsivePriority:4,data:function(e){return 0===e.maxPlaysPerHour?translations.unlimited:e.maxPlaysPerHour}},{data:"isGeoAware",className:"align-middle",responsivePriority:4,render:dataTableTickCrossColumn},{data:"recurringEvent",className:"align-middle",responsivePriority:4,render:dataTableTickCrossColumn},{data:"recurringEventDescription",className:"align-middle",responsivePriority:4,sortable:!1},{data:"recurrenceType",className:"align-middle",visible:!1,responsivePriority:4},{data:"recurrenceDetail",className:"align-middle",visible:!1,responsivePriority:4},{name:"recurrenceRepeatsOn",className:"align-middle",visible:!1,responsivePriority:4,data:function(e){if(e.recurringEvent){if("Week"===e.recurrenceType&&e.recurrenceRepeatsOn){const a=[schedulePageTrans.daysOfTheWeek.monday,schedulePageTrans.daysOfTheWeek.tuesday,schedulePageTrans.daysOfTheWeek.wednesday,schedulePageTrans.daysOfTheWeek.thursday,schedulePageTrans.daysOfTheWeek.friday,schedulePageTrans.daysOfTheWeek.saturday,schedulePageTrans.daysOfTheWeek.sunday],r=e.recurrenceRepeatsOn.split(",");if(r.length>=1){let e="";return r.forEach(((t,n)=>{e+=a[t-1],n<r.length-1&&(e+=" ")})),e}return""}return"Month"===e.recurrenceType?e.recurrenceMonthlyRepeatsOn:""}return""}},{name:"recurrenceRange",className:"align-middle",visible:!1,responsivePriority:4,data:function(e){return e.recurringEvent&&null!==e.recurrenceRange?moment(e.recurrenceRange,"X").format(jsDateFormat):""}},{data:"isPriority",className:"align-middle",responsivePriority:2},{name:"criteria",className:"align-middle",responsivePriority:2,data:function(e,a,r){return e.criteria&&e.criteria.length>0?dataTableTickCrossColumn(1,a,r):""}},{data:"createdOn",className:"align-middle",responsivePriority:4},{data:"updatedOn",className:"align-middle",responsivePriority:4},{data:"modifiedByName",className:"align-middle",responsivePriority:4},{orderable:!1,className:"align-middle",responsivePriority:1,data:dataTableButtonsColumn}]});r.on("draw",(function(e,a){dataTableDraw(e,a),$('[data-toggle="popover"]').popover()})),r.on("processing.dt",dataTableProcessing),dataTableAddButtons(r,$("#schedule-grid_wrapper").find(".dataTables_buttons"),!0,!0),$("#refreshGrid").on("click",(function(){r.ajax.reload()}))}));var a=window;for(var r in e)a[r]=e[r];e.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})}();